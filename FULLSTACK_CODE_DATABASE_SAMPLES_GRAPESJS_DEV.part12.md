---
source_txt: fullstack_samples/grapesjs-dev
converted_utc: 2025-12-18T13:04:40Z
part: 12
parts_total: 97
---

# FULLSTACK CODE DATABASE SAMPLES grapesjs-dev

## Verbatim Content (Part 12 of 97)

````text
================================================================================
FULLSTACK SAMPLES CODE DATABASE (VERBATIM) - grapesjs-dev
================================================================================
Generated: December 18, 2025
Source: fullstack_samples/grapesjs-dev
================================================================================

NOTES:
- This output is verbatim because the source is user-owned.
- Large/binary files may be skipped by size/binary detection limits.

================================================================================

---[FILE: selector_manager.md]---
Location: grapesjs-dev/docs/api/selector_manager.md

```text
<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

## Selectors

Selectors in GrapesJS are used in CSS Composer inside Rules and in Components as classes. To illustrate this concept let's take
a look at this code:

```css
span > #send-btn.btn{
 ...
}
```

```html
<span>
  <button id="send-btn" class="btn"></button>
</span>
```

In this scenario we get:

*   span     -> selector of type `tag`
*   send-btn -> selector of type `id`
*   btn      -> selector of type `class`

So, for example, being `btn` the same class entity it'll be easier to refactor and track things.

You can customize the initial state of the module from the editor initialization, by passing the following [Configuration Object][1]

```js
const editor = grapesjs.init({
 selectorManager: {
   // options
 }
})
```

Once the editor is instantiated you can use its API. Before using these methods you should get the module from the instance.

```js
const sm = editor.Selectors;
```

## Available Events
* `selector:add` Selector added. The Selector is passed as an argument to the callback.

```javascript
editor.on('selector:add', (selector) => { ... });
```

* `selector:remove` Selector removed. The Selector is passed as an argument to the callback.

```javascript
editor.on('selector:remove', (selector) => { ... });
```

* `selector:remove:before` Before selector remove. The Selector is passed as an argument to the callback.

```javascript
editor.on('selector:remove:before', (selector) => { ... });
```

* `selector:update` Selector updated. The Selector and the object containing changes are passed as arguments to the callback.

```javascript
editor.on('selector:update', (selector, changes) => { ... });
```

* `selector:state` States changed. An object containing all the available data about the triggered event is passed as an argument to the callback.

```javascript
editor.on('selector:state', (state) => { ... });
```

* `selector:custom` Custom selector event. An object containing states, selected selectors, and container is passed as an argument.

```javascript
editor.on('selector:custom', ({ states, selected, container }) => { ... });
```

* `selector` Catch-all event for all the events mentioned above. An object containing all the available data about the triggered event is passed as an argument to the callback.

```javascript
editor.on('selector', ({ event, selector, changes, ... }) => { ... });
```

* SelectorStringObject

## Methods

*   [getConfig][2]
*   [add][3]
*   [get][4]
*   [remove][5]
*   [rename][6]
*   [getAll][7]
*   [setState][8]
*   [getState][9]
*   [getStates][10]
*   [setStates][11]
*   [getSelected][12]
*   [addSelected][13]
*   [removeSelected][14]
*   [getSelectedTargets][15]
*   [setComponentFirst][16]
*   [getComponentFirst][17]

[Selector]: selector.html

[State]: state.html

[Component]: component.html

[CssRule]: css_rule.html

## getConfig

Get configuration object

Returns **[Object][18]**&#x20;

## add

Add a new selector to the collection if it does not already exist.
You can pass selectors properties or string identifiers.

### Parameters

*   `props` **([Object][18] | [String][19])** Selector properties or string identifiers, eg. `{ name: 'my-class', label: 'My class' }`, `.my-cls`
*   `opts` **[Object][18]?** Selector options (optional, default `{}`)

### Examples

```javascript
const selector = selectorManager.add({ name: 'my-class', label: 'My class' });
console.log(selector.toString()) // `.my-class`
// Same as
const selector = selectorManager.add('.my-class');
console.log(selector.toString()) // `.my-class`
```

Returns **[Selector]**&#x20;

## get

Get the selector by its name/type

### Parameters

*   `name` **[String][19]** Selector name or string identifier
*   `type` **[number][20]?**&#x20;

### Examples

```javascript
const selector = selectorManager.get('.my-class');
// Get Id
const selectorId = selectorManager.get('#my-id');
```

Returns **([Selector] | null)**&#x20;

## remove

Remove Selector.

### Parameters

*   `selector` **([String][19] | [Selector])** Selector instance or Selector string identifier
*   `opts` **RemoveOptions?**&#x20;

### Examples

```javascript
const removed = selectorManager.remove('.myclass');
// or by passing the Selector
selectorManager.remove(selectorManager.get('.myclass'));
```

Returns **[Selector]** Removed Selector

## rename

Rename Selector.

### Parameters

*   `selector` **[Selector]** Selector to update.
*   `name` **[String][19]** New name for the selector.
*   `opts` **SetOptions?**&#x20;

### Examples

```javascript
const selector = selectorManager.get('myclass');
const result = selectorManager.rename(selector, 'myclass2');
console.log(result === selector ? 'Selector updated' : 'Selector with this name exists already');
```

Returns **[Selector]** Selector containing the passed name.

## setState

Change the selector state

### Parameters

*   `value` **[String][19]** State value

### Examples

```javascript
selectorManager.setState('hover');
```

Returns **this**&#x20;

## getState

Get the current selector state value

Returns **[String][19]**&#x20;

## getStates

Get states

Returns **[Array][21]<[State]>**&#x20;

## setStates

Set a new collection of states

### Parameters

*   `states` **[Array][21]<[Object][18]>** Array of new states
*   `opts` **any?**&#x20;

### Examples

```javascript
const states = selectorManager.setStates([
  { name: 'hover', label: 'Hover' },
  { name: 'nth-of-type(2n)', label: 'Even/Odd' }
]);
```

Returns **[Array][21]<[State]>**&#x20;

## getSelected

Get commonly selected selectors, based on all selected components.

### Examples

```javascript
const selected = selectorManager.getSelected();
console.log(selected.map(s => s.toString()))
```

Returns **[Array][21]<[Selector]>**&#x20;

## getSelectedAll

Get selected selectors.

### Examples

```javascript
const selected = selectorManager.getSelectedAll();
console.log(selected.map(s => s.toString()))
```

Returns **[Array][21]<[Selector]>**&#x20;

## addSelected

Add new selector to all selected components.

### Parameters

*   `props` **([Object][18] | [String][19])** Selector properties or string identifiers, eg. `{ name: 'my-class', label: 'My class' }`, `.my-cls`

### Examples

```javascript
selectorManager.addSelected('.new-class');
```

## removeSelected

Remove a common selector from all selected components.

### Parameters

*   `selector` **([String][19] | [Selector])** Selector instance or Selector string identifier

### Examples

```javascript
selectorManager.removeSelected('.myclass');
```

## getSelectedTargets

Get the array of currently selected targets.

### Examples

```javascript
const targetsToStyle = selectorManager.getSelectedTargets();
console.log(targetsToStyle.map(target => target.getSelectorsString()))
```

Returns **[Array][21]<([Component] | [CssRule])>**&#x20;

## setComponentFirst

Update component-first option.
If the component-first is enabled, all the style changes will be applied on selected components (ID rules) instead
of selectors (which would change styles on all components with those classes).

### Parameters

*   `value` **[Boolean][22]**&#x20;

## getComponentFirst

Get the value of component-first option.

Returns **[Boolean][22]**&#x20;

## getAll

Get all selectors

Returns **Collection<[Selector]>**&#x20;

[1]: https://github.com/GrapesJS/grapesjs/blob/master/src/selector_manager/config/config.ts

[2]: #getconfig

[3]: #add

[4]: #get

[5]: #remove

[6]: #rename

[7]: #getall

[8]: #setstate

[9]: #getstate

[10]: #getstates

[11]: #setstates

[12]: #getselected

[13]: #addselected

[14]: #removeselected

[15]: #getselectedtargets

[16]: #setcomponentfirst

[17]: #getcomponentfirst

[18]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[19]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[20]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[21]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[22]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean
```

--------------------------------------------------------------------------------

---[FILE: state.md]---
Location: grapesjs-dev/docs/api/state.md

```text
<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

## State



### Properties

*   `name` **[String][1]** State name, eg. `hover`, `nth-of-type(2n)`
*   `label` **[String][1]** State label, eg. `Hover`, `Even/Odd`

### getName

Get state name

Returns **[String][1]**&#x20;

### getLabel

Get state label. If label was not provided, the name will be returned.

Returns **[String][1]**&#x20;

[1]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String
```

--------------------------------------------------------------------------------

---[FILE: storage_manager.md]---
Location: grapesjs-dev/docs/api/storage_manager.md

```text
<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

## Storage

You can customize the initial state of the module from the editor initialization, by passing the following [Configuration Object][1]

```js
const editor = grapesjs.init({
 storageManager: {
   // options
 }
})
```

Once the editor is instantiated you can use its API and listen to its events. Before using these methods, you should get the module from the instance.

```js
// Listen to events
editor.on('storage:start', () => { ... });

// Use the API
const storageManager = editor.Storage;
storageManager.add(...);
```

## Available Events
* `storage:start` Storage request start.

```javascript
editor.on('storage:start', (type) => {
 console.log('Storage start');
});
```

* `storage:start:store` Storage store request start. The project JSON object to store is passed as an argument (which you can edit).

```javascript
editor.on('storage:start:store', (data) => {
 console.log('Storage start store');
});
```

* `storage:start:load` Storage load request start.

```javascript
editor.on('storage:start:load', () => {
 console.log('Storage start load');
});
```

* `storage:load` Storage loaded the project. The loaded project is passed as an argument.

```javascript
editor.on('storage:load', (data, res) => {
 console.log('Storage loaded the project');
});
```

* `storage:store` Storage stored the project. The stored project is passed as an argument.

```javascript
editor.on('storage:store', (data, res) => {
 console.log('Storage stored the project');
});
```

* `storage:after` Storage request completed. Triggered right after `storage:load`/`storage:store`.

```javascript
editor.on('storage:after', (type) => {
 console.log('Storage request completed');
});
```

* `storage:end` Storage request ended. This event triggers also in case of errors.

```javascript
editor.on('storage:end', (type) => {
 console.log('Storage request ended');
});
```

* `storage:end:store` Storage store request ended. This event triggers also in case of errors.

```javascript
editor.on('storage:end:store', () => {
 console.log('Storage store request ended');
});
```

* `storage:end:load` Storage load request ended. This event triggers also in case of errors.

```javascript
editor.on('storage:end:load', () => {
 console.log('Storage load request ended');
});
```

* `storage:error` Error on storage request.

```javascript
editor.on('storage:error', (err, type) => {
 console.log('Storage error');
});
```

* `storage:error:store` Error on store request.

```javascript
editor.on('storage:error:store', (err) => {
 console.log('Error on store');
});
```

* `storage:error:load` Error on load request.

```javascript
editor.on('storage:error:load', (err) => {
 console.log('Error on load');
});
```

## Methods

*   [getConfig][2]
*   [isAutosave][3]
*   [setAutosave][4]
*   [getStepsBeforeSave][5]
*   [setStepsBeforeSave][6]
*   [getStorages][7]
*   [getCurrent][8]
*   [getCurrentStorage][9]
*   [setCurrent][10]
*   [getStorageOptions][11]
*   [add][12]
*   [get][13]
*   [store][14]
*   [load][15]

## getConfig

Get configuration object

Returns **[Object][16]**&#x20;

## isAutosave

Check if autosave is enabled.

Returns **[Boolean][17]**&#x20;

## setAutosave

Set autosave value.

### Parameters

*   `value` **[Boolean][17]**&#x20;

## getStepsBeforeSave

Returns number of steps required before trigger autosave.

Returns **[Number][18]**&#x20;

## setStepsBeforeSave

Set steps required before trigger autosave.

### Parameters

*   `value` **[Number][18]**&#x20;

## add

Add new storage.

### Parameters

*   `type` **[String][19]** Storage type
*   `storage` **[Object][16]** Storage definition

    *   `storage.load` **[Function][20]** Load method
    *   `storage.store` **[Function][20]** Store method

### Examples

```javascript
storageManager.add('local2', {
  async load(storageOptions) {
    // ...
  },
  async store(data, storageOptions) {
    // ...
  },
});
```

## get

Return storage by type.

### Parameters

*   `type` **[String][19]** Storage type

Returns **([Object][16] | null)**&#x20;

## getStorages

Get all storages.

Returns **[Object][16]**&#x20;

## getCurrent

Get current storage type.

Returns **[String][19]**&#x20;

## setCurrent

Set current storage type.

### Parameters

*   `type` **[String][19]** Storage type

## getStorageOptions

Get storage options by type.

### Parameters

*   `type` **[String][19]** Storage type

Returns **[Object][16]**&#x20;

## store

Store data in the current storage.

### Parameters

*   `data` **[Object][16]** Project data.
*   `options` **[Object][16]?** Storage options. (optional, default `{}as T`)

### Examples

```javascript
const data = editor.getProjectData();
await storageManager.store(data);
```

Returns **[Object][16]** Stored data.

## load

Load resource from the current storage by keys

### Parameters

*   `options` **[Object][16]?** Storage options. (optional, default `{}as T`)

### Examples

```javascript
const data = await storageManager.load();
editor.loadProjectData(data);
```

Returns **[Object][16]** Loaded data.

[1]: https://github.com/GrapesJS/grapesjs/blob/master/src/storage_manager/config/config.ts

[2]: #getconfig

[3]: #isautosave

[4]: #setautosave

[5]: #getstepsbeforesave

[6]: #setstepsbeforesave

[7]: #getstorages

[8]: #getcurrent

[9]: #getcurrentstorage

[10]: #setcurrent

[11]: #getstorageoptions

[12]: #add

[13]: #get

[14]: #store

[15]: #load

[16]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[17]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[18]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[19]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[20]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function
```

--------------------------------------------------------------------------------

---[FILE: style_manager.md]---
Location: grapesjs-dev/docs/api/style_manager.md

```text
<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

## StyleManager

With Style Manager you build categories (called sectors) of CSS properties which could be used to customize the style of components.
You can customize the initial state of the module from the editor initialization, by passing the following [Configuration Object][1]

```js
const editor = grapesjs.init({
 styleManager: {
   // options
 }
})
```

Once the editor is instantiated you can use its API. Before using these methods you should get the module from the instance.

```js
const styleManager = editor.StyleManager;
```

## Available Events
* `style:sector:add` Sector added. The Sector is passed as an argument to the callback.

```javascript
editor.on('style:sector:add', (sector) => { ... });
```

* `style:sector:remove` Sector removed. The Sector is passed as an argument to the callback.

```javascript
editor.on('style:sector:remove', (sector) => { ... });
```

* `style:sector:update` Sector updated. The Sector and the object containing changes are passed as arguments to the callback.

```javascript
editor.on('style:sector:update', (sector, changes) => { ... });
```

* `style:property:add` Property added. The Property is passed as an argument to the callback.

```javascript
editor.on('style:property:add', (property) => { ... });
```

* `style:property:remove` Property removed. The Property is passed as an argument to the callback.

```javascript
editor.on('style:property:remove', (property) => { ... });
```

* `style:property:update` Property updated. The Property and the object containing changes are passed as arguments to the callback.

```javascript
editor.on('style:property:update', (property, changes) => { ... });
```

* `style:target` Target selection changed. The target (or null in case the target is deselected) is passed as an argument to the callback.

```javascript
editor.on('style:target', (target) => { ... });
```

* `style:layer:select` Layer selected. Object containing layer data is passed as an argument.

```javascript
editor.on('style:layer:select', (data) => { ... });
```

* `style:custom` Custom style event. Object containing all custom data is passed as an argument.

```javascript
editor.on('style:custom', ({ container }) => { ... });
```

* `style` Catch-all event for all the events mentioned above. An object containing all the available data about the triggered event is passed as an argument to the callback.

```javascript
editor.on('style', ({ event, sector, property, ... }) => { ... });
```

## Methods

*   [getConfig][2]
*   [addSector][3]
*   [getSector][4]
*   [getSectors][5]
*   [removeSector][6]
*   [addProperty][7]
*   [getProperty][8]
*   [getProperties][9]
*   [removeProperty][10]
*   [select][11]
*   [getSelected][12]
*   [getSelectedAll][13]
*   [getSelectedParents][14]
*   [addStyleTargets][15]
*   [getBuiltIn][16]
*   [getBuiltInAll][17]
*   [addBuiltIn][18]
*   [addType][19]
*   [getType][20]
*   [getTypes][21]

[Sector]: sector.html

[CssRule]: css_rule.html

[Component]: component.html

[Property]: property.html

## Sectors

## getConfig

Get configuration object

Returns **[Object][22]**&#x20;

## addSector

Add new sector. If the sector with the same id already exists, that one will be returned.

### Parameters

*   `id` **[String][23]** Sector id
*   `sector` **[Object][22]** Sector definition. Check the [available properties][24]
*   `options` **[Object][22]** Options (optional, default `{}`)

    *   `options.at` **[Number][25]?** Position index (by default, will be appended at the end).

### Examples

```javascript
const sector = styleManager.addSector('mySector',{
  name: 'My sector',
  open: true,
  properties: [{ name: 'My property'}]
}, { at: 0 });
// With `at: 0` we place the new sector at the beginning of the list
```

Returns **[Sector]** Added Sector

## getSector

Get sector by id.

### Parameters

*   `id` **[String][23]** Sector id
*   `opts` **{warn: [boolean][26]?}**  (optional, default `{}`)

### Examples

```javascript
const sector = styleManager.getSector('mySector');
```

Returns **([Sector] | null)**&#x20;

## getSectors

Get all sectors.

### Parameters

*   `opts` **[Object][22]** Options (optional, default `{}`)

    *   `opts.visible` **[Boolean][26]?** Returns only visible sectors

### Examples

```javascript
const sectors = styleManager.getSectors();
```

Returns **[Array][27]<[Sector]>**&#x20;

## removeSector

Remove sector by id.

### Parameters

*   `id` **[String][23]** Sector id

### Examples

```javascript
const removed = styleManager.removeSector('mySector');
```

Returns **[Sector]** Removed sector

## addProperty

Add new property to the sector.

### Parameters

*   `sectorId` **[String][23]** Sector id.
*   `property` **[Object][22]** Property definition. Check the [base available properties][28] + others based on the `type` of your property.
*   `opts` **[Object][22]** Options (optional, default `{}`)

    *   `opts.at` **[Number][25]?** Position index (by default, will be appended at the end).

### Examples

```javascript
const property = styleManager.addProperty('mySector', {
  label: 'Minimum height',
  property: 'min-height',
  type: 'select',
  default: '100px',
  options: [
   { id: '100px', label: '100' },
   { id: '200px', label: '200' },
  ],
}, { at: 0 });
```

Returns **([Property] | null)** Added property or `null` in case the sector doesn't exist.

## getProperty

Get the property.

### Parameters

*   `sectorId` **[String][23]** Sector id.
*   `id` **[String][23]** Property id.

### Examples

```javascript
const property = styleManager.getProperty('mySector', 'min-height');
```

Returns **([Property] | [undefined][29])**&#x20;

## getProperties

Get all properties of the sector.

### Parameters

*   `sectorId` **[String][23]** Sector id.

### Examples

```javascript
const properties = styleManager.getProperties('mySector');
```

Returns **(Collection<[Property]> | [undefined][29])** Collection of properties

## removeProperty

Remove the property.

### Parameters

*   `sectorId` **[String][23]** Sector id.
*   `id` **[String][23]** Property id.

### Examples

```javascript
const property = styleManager.removeProperty('mySector', 'min-height');
```

Returns **([Property] | null)** Removed property

## select

Select new target.
The target could be a Component, CSSRule, or a CSS selector string.

### Parameters

*   `target` **([Component] | [CSSRule] | [String][23])**&#x20;
*   `opts` **{stylable: [boolean][26]?, component: Component?}**  (optional, default `{}`)

### Examples

```javascript
// Select the first button in the current page
const wrapperCmp = editor.Pages.getSelected().getMainComponent();
const btnCmp = wrapperCmp.find('button')[0];
btnCmp && styleManager.select(btnCmp);

// Set as a target the CSS selector
styleManager.select('.btn > span');
```

Returns **[Array][27]<([Component] | [CSSRule])>** Array containing selected Components or CSSRules

## getSelected

Get the last selected target.
By default, the Style Manager shows styles of the last selected target.

Returns **([Component] | [CSSRule] | null)**&#x20;

## getSelectedAll

Get the array of selected targets.

Returns **[Array][27]<([Component] | [CSSRule])>**&#x20;

## getSelectedParents

Get parent rules of the last selected target.

Returns **[Array][27]<[CSSRule]>**&#x20;

## addStyleTargets

Update selected targets with a custom style.

### Parameters

*   `style` **[Object][22]** Style object
*   `opts` **[Object][22]** Options (optional, default `{}`)

### Examples

```javascript
styleManager.addStyleTargets({ color: 'red' });
```

## getBuiltIn

Return built-in property definition

### Parameters

*   `prop` **[String][23]** Property name.

### Examples

```javascript
const widthPropDefinition = styleManager.getBuiltIn('width');
```

Returns **([Object][22] | null)** Property definition.

## getBuiltInAll

Get all the available built-in property definitions.

Returns **[Object][22]**&#x20;

## addBuiltIn

Add built-in property definition.
If the property exists already, it will extend it.

### Parameters

*   `prop` **[String][23]** Property name.
*   `definition` **[Object][22]** Property definition.

### Examples

```javascript
const sector = styleManager.addBuiltIn('new-property', {
 type: 'select',
 default: 'value1',
 options: [{ id: 'value1', label: 'Some label' }, ...],
})
```

Returns **[Object][22]** Added property definition.

## addType

Add new property type

### Parameters

*   `id` **[string][23]** Type ID
*   `definition` **[Object][22]** Definition of the type.

### Examples

```javascript
styleManager.addType('my-custom-prop', {
   // Create UI
   create({ props, change }) {
     const el = document.createElement('div');
     el.innerHTML = '<input type="range" class="my-input" min="10" max="50"/>';
     const inputEl = el.querySelector('.my-input');
     inputEl.addEventListener('change', event => change({ event }));
     inputEl.addEventListener('input', event => change({ event, partial: true }));
     return el;
   },
   // Propagate UI changes up to the targets
   emit({ props, updateStyle }, { event, partial }) {
     const { value } = event.target;
     updateStyle(`${value}px`, { partial });
   },
   // Update UI (eg. when the target is changed)
   update({ value, el }) {
     el.querySelector('.my-input').value = parseInt(value, 10);
   },
   // Clean the memory from side effects if necessary (eg. global event listeners, etc.)
   destroy() {}
})
```

## getType

Get type

### Parameters

*   `id` **[string][23]** Type ID

Returns **[Object][22]** Type definition

## getTypes

Get all types

Returns **[Array][27]**&#x20;

[1]: https://github.com/GrapesJS/grapesjs/blob/master/src/style_manager/config/config.ts

[2]: #getconfig

[3]: #addsector

[4]: #getsector

[5]: #getsectors

[6]: #removesector

[7]: #addproperty

[8]: #getproperty

[9]: #getproperties

[10]: #removeproperty

[11]: #select

[12]: #getselected

[13]: #getselectedall

[14]: #getselectedparents

[15]: #addstyletargets

[16]: #getbuiltin

[17]: #getbuiltinall

[18]: #addbuiltin

[19]: #addtype

[20]: #gettype

[21]: #gettypes

[22]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[23]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[24]: sector.html#properties

[25]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[26]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[27]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[28]: property.html#properties

[29]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/undefined
```

--------------------------------------------------------------------------------

---[FILE: trait.md]---
Location: grapesjs-dev/docs/api/trait.md

```text
<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

## Trait

### Properties

*   `id` **[String][1]** Trait id, eg. `my-trait-id`.
*   `type` **[String][1]** Trait type, defines how the trait should be rendered. Possible values: `text` (default), `number`, `select`, `checkbox`, `color`, `button`
*   `label` **[String][1]** The trait label to show for the rendered trait.
*   `name` **[String][1]** The name of the trait used as a key for the attribute/property. By default, the name is used as attribute name or property in case `changeProp` in enabled.
*   `default` **[String][1]** Default value to use in case the value is not defined on the component.
*   `placeholder` **[String][1]** Placeholder to show inside the default input (if the UI type allows it).
*   `category` **[String][1]?** Trait category.
*   `changeProp` **[Boolean][2]** If `true`, the trait value is applied on the component property, otherwise, on component attributes.

## getId

Get the trait id.

Returns **[String][1]**&#x20;

## getType

Get the trait type.

Returns **[String][1]**&#x20;

## getName

Get the trait name.

Returns **[String][1]**&#x20;

## getLabel

Get the trait label.

### Parameters

*   `opts` **[Object][3]** Options. (optional, default `{}`)

    *   `opts.locale` **[Boolean][2]** Use the locale string from i18n module. (optional, default `true`)

Returns **[String][1]**&#x20;

## getValue

Get the trait value.
The value is taken from component attributes by default or from properties if the trait has the `changeProp` enabled.

### Parameters

*   `opts` **[Object][3]** Options. (optional, default `{}`)

    *   `opts.useType` **[Boolean][2]** Get the value based on type (eg. the checkbox will always return a boolean). (optional, default `false`)

Returns **any**&#x20;

## setValue

Update the trait value.
The value is applied on component attributes by default or on properties if the trait has the `changeProp` enabled.

### Parameters

*   `value` **any** Value of the trait.
*   `opts` **[Object][3]** Options. (optional, default `{}`)

    *   `opts.partial` **[Boolean][2]?** If `true` the update won't be considered complete (not stored in UndoManager).

## getDefault

Get default value.

## getOptions

Get trait options.

Returns **[Array][4]\<TraitOption>**&#x20;

## getOption

Get current selected option or by id.

### Parameters

*   `id` **[String][1]?** Option id.

Returns **([Object][3] | null)**&#x20;

## getOptionId

Get the option id from the option object.

### Parameters

*   `option` **[Object][3]** Option object

Returns **[String][1]** Option id

## getOptionLabel

Get option label.

### Parameters

*   `id` **([String][1] | [Object][3])** Option id or the option object
*   `opts` **[Object][3]** Options (optional, default `{}`)

    *   `opts.locale` **[Boolean][2]** Use the locale string from i18n module (optional, default `true`)

Returns **[String][1]** Option label

## getCategoryLabel

Get category label.

### Parameters

*   `opts` **[Object][3]** Options. (optional, default `{}`)

    *   `opts.locale` **[Boolean][2]** Use the locale string from i18n module. (optional, default `true`)

Returns **[String][1]**&#x20;

## runCommand

Run the trait command (used on the button trait type).

[1]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[2]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[3]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[4]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array
```

--------------------------------------------------------------------------------

---[FILE: trait_manager.md]---
Location: grapesjs-dev/docs/api/trait_manager.md

```text
<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

## Traits

You can customize the initial state of the module from the editor initialization, by passing the following [Configuration Object][1]

```js
const editor = grapesjs.init({
 traitManager: {
   // options
 }
})
```

Once the editor is instantiated you can use the API below and listen to the events. Before using these methods, you should get the module from the instance.

```js
// Listen to events
editor.on('trait:value', () => { ... });

// Use the Trait Manager API
const tm = editor.Traits;
tm.select(...)
```

## Available Events
* `trait:select` New traits selected (eg. by changing a component).

```javascript
editor.on('trait:select', ({ traits, component }) => { ... });
```

* `trait:value` Trait value updated.

```javascript
editor.on('trait:value', ({ trait, component, value }) => { ... });
```

* `trait:category:update` Trait category updated.

```javascript
editor.on('trait:category:update', ({ category, changes }) => { ... });
```

* `trait:custom` Event to use in case of [custom Trait Manager UI](https\://grapesjs.com/docs/modules/Traits.html#custom-trait-manager).

```javascript
editor.on('trait:custom', ({ container }) => { ... });
```

* `trait` Catch-all event for all the events mentioned above. An object containing all the available data about the triggered event is passed as an argument to the callback.

```javascript
editor.on('trait', ({ event, model, ... }) => { ... });
```

[Component]: component.html

[Trait]: trait.html

## getConfig

Get configuration object

Returns **[Object][2]**&#x20;

## select

Select traits from a component.

### Parameters

*   `component` **[Component]**&#x20;

### Examples

```javascript
tm.select(someComponent);
```

## getCategories

Get trait categories from the currently selected component.

### Examples

```javascript
const traitCategories: Category[] = tm.getCategories();
```

Returns **[Array][3]\<Category>**&#x20;

## getTraits

Get traits from the currently selected component.

### Examples

```javascript
const currentTraits: Trait[] = tm.getTraits();
```

Returns **[Array][3]<[Trait]>**&#x20;

## getTraitsByCategory

Get traits by category from the currently selected component.

### Parameters

*   `traits` **[Array][3]\<Trait>?**&#x20;

### Examples

```javascript
tm.getTraitsByCategory();
// Returns an array of items of this type
// > { category?: Category; items: Trait[] }

// NOTE: The item without category is the one containing traits without category.

// You can also get the same output format by passing your own array of Traits
const myFilteredTraits: Trait[] = [...];
tm.getTraitsByCategory(myFilteredTraits);
```

Returns **[Array][3]\<TraitsByCategory>**&#x20;

## getComponent

Get component from the currently selected traits.

### Examples

```javascript
tm.getComponent();
// Component {}
```

## addType

Add new trait type.
More about it here: [Define new Trait type][4].

### Parameters

*   `name` **[string][5]** Type name.
*   `methods` **[Object][2]** Object representing the trait.

[1]: https://github.com/GrapesJS/grapesjs/blob/master/src/trait_manager/config/config.ts

[2]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[3]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[4]: https://grapesjs.com/docs/modules/Traits.html#define-new-trait-type

[5]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String
```

--------------------------------------------------------------------------------

---[FILE: undo_manager.md]---
Location: grapesjs-dev/docs/api/undo_manager.md

```text
<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

## UndoManager

This module allows to manage the stack of changes applied in canvas.
Once the editor is instantiated you can use its API. Before using these methods you should get the module from the instance

```js
const um = editor.UndoManager;
```

*   [getConfig][1]
*   [add][2]
*   [remove][3]
*   [removeAll][4]
*   [start][5]
*   [stop][6]
*   [undo][7]
*   [undoAll][8]
*   [redo][9]
*   [redoAll][10]
*   [hasUndo][11]
*   [hasRedo][12]
*   [getStack][13]
*   [clear][14]

## getConfig

Get configuration object

Returns **[Object][15]**&#x20;

## add

Add an entity (Model/Collection) to track
Note: New Components and CSSRules will be added automatically

### Parameters

*   `entity` **(Model | Collection)** Entity to track

### Examples

```javascript
um.add(someModelOrCollection);
```

Returns **this**&#x20;

## remove

Remove and stop tracking the entity (Model/Collection)

### Parameters

*   `entity` **(Model | Collection)** Entity to remove

### Examples

```javascript
um.remove(someModelOrCollection);
```

Returns **this**&#x20;

## removeAll

Remove all entities

### Examples

```javascript
um.removeAll();
```

Returns **this**&#x20;

## start

Start/resume tracking changes

### Examples

```javascript
um.start();
```

Returns **this**&#x20;

## stop

Stop tracking changes

### Examples

```javascript
um.stop();
```

Returns **this**&#x20;

## undo

Undo last change

### Parameters

*   `all`   (optional, default `true`)

### Examples

```javascript
um.undo();
```

Returns **this**&#x20;

## undoAll

Undo all changes

### Examples

```javascript
um.undoAll();
```

Returns **this**&#x20;

## redo

Redo last change

### Parameters

*   `all`   (optional, default `true`)

### Examples

```javascript
um.redo();
```

Returns **this**&#x20;

## redoAll

Redo all changes

### Examples

```javascript
um.redoAll();
```

Returns **this**&#x20;

## hasUndo

Checks if exists an available undo

### Examples

```javascript
um.hasUndo();
```

Returns **[Boolean][16]**&#x20;

## hasRedo

Checks if exists an available redo

### Examples

```javascript
um.hasRedo();
```

Returns **[Boolean][16]**&#x20;

## isRegistered

Check if the entity (Model/Collection) to tracked
Note: New Components and CSSRules will be added automatically

### Parameters

*   `obj` **any**&#x20;
*   `entity` **(Model | Collection)** Entity to track

Returns **[Boolean][16]**&#x20;

## getStack

Get stack of changes

### Examples

```javascript
const stack = um.getStack();
stack.each(item => ...);
```

Returns **Collection**&#x20;

## skip

Execute the provided callback temporarily stopping tracking changes

### Parameters

*   `clb` **[Function][17]** The callback to execute with changes tracking stopped

### Examples

```javascript
um.skip(() => {
 // Do stuff without tracking
});
```

## clear

Clear the stack

### Examples

```javascript
um.clear();
```

Returns **this**&#x20;

[1]: #getconfig

[2]: #add

[3]: #remove

[4]: #removeall

[5]: #start

[6]: #stop

[7]: #undo

[8]: #undoall

[9]: #redo

[10]: #redoall

[11]: #hasundo

[12]: #hasredo

[13]: #getstack

[14]: #clear

[15]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[16]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[17]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function
```

--------------------------------------------------------------------------------

````
