---
source_txt: user_created_projects/vscode-main
converted_utc: 2025-12-18T18:22:26Z
part: 72
parts_total: 552
---

# FULLSTACK CODE DATABASE USER CREATED vscode-main

## Verbatim Content (Part 72 of 552)

````text
================================================================================
FULLSTACK USER CREATED CODE DATABASE (VERBATIM) - vscode-main
================================================================================
Generated: December 18, 2025
Source: user_created_projects/vscode-main
================================================================================

NOTES:
- This output is verbatim because the source is user-owned.
- Large/binary files may be skipped by size/binary detection limits.

================================================================================

---[FILE: extensions/php-language-features/src/features/phpGlobals.ts]---
Location: vscode-main/extensions/php-language-features/src/features/phpGlobals.ts

```typescript
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

// file generated from PHP53Schema.xml using php-exclude_generate_php_globals.js

export interface IEntry { description?: string; signature?: string }
export interface IEntries { [name: string]: IEntry }

export const globalvariables: IEntries = {
	$GLOBALS: {
		description: 'An associative array containing references to all variables which are currently defined in the global scope of the script. The variable names are the keys of the array.',
	},
	$_SERVER: {
		description: '$_SERVER is an array containing information such as headers, paths, and script locations. The entries in this array are created by the web server. There is no guarantee that every web server will provide any of these; servers may omit some, or provide others not listed here. That said, a large number of these variables are accounted for in the CGI/1.1 specification, so you should be able to expect those.',
	},
	$_GET: {
		description: 'An associative array of variables passed to the current script via the URL parameters.',
	},
	$_POST: {
		description: 'An associative array of variables passed to the current script via the HTTP POST method.',
	},
	$_FILES: {
		description: 'An associative array of items uploaded to the current script via the HTTP POST method.',
	},
	$_REQUEST: {
		description: 'An associative array that by default contains the contents of $_GET, $_POST and $_COOKIE.',
	},
	$_SESSION: {
		description: 'An associative array containing session variables available to the current script. See the Session functions documentation for more information on how this is used.',
	},
	$_ENV: {
		description: 'An associative array of variables passed to the current script via the environment method. \r\n\r\nThese variables are imported into PHP\'s global namespace from the environment under which the PHP parser is running. Many are provided by the shell under which PHP is running and different systems are likely running different kinds of shells, a definitive list is impossible. Please see your shell\'s documentation for a list of defined environment variables. \r\n\r\nOther environment variables include the CGI variables, placed there regardless of whether PHP is running as a server module or CGI processor.',
	},
	$_COOKIE: {
		description: 'An associative array of variables passed to the current script via HTTP Cookies.',
	},
	$php_errormsg: {
		description: '$php_errormsg is a variable containing the text of the last error message generated by PHP. This variable will only be available within the scope in which the error occurred, and only if the track_errors configuration option is turned on (it defaults to off).',
	},
	$HTTP_RAW_POST_DATA: {
		description: '$HTTP_RAW_POST_DATA contains the raw POST data. See always_populate_raw_post_data',
	},
	$http_response_header: {
		description: 'The $http_response_header array is similar to the get_headers() function. When using the HTTP wrapper, $http_response_header will be populated with the HTTP response headers. $http_response_header will be created in the local scope.',
	},
	$argc: {
		description: 'Contains the number of arguments passed to the current script when running from the command line.',
	},
	$argv: {
		description: 'Contains an array of all the arguments passed to the script when running from the command line.',
	},
	$this: {
		description: 'Refers to the current object',
	},
};
export const compiletimeconstants: IEntries = {
	__CLASS__: {
		description: 'The class name. (Added in PHP 4.3.0) As of PHP 5 this constant returns the class name as it was declared (case-sensitive). In PHP 4 its value is always lowercased.',
	},
	__DIR__: {
		description: 'The directory of the file. If used inside an include, the directory of the included file is returned. This is equivalent to dirname(__FILE__). This directory name does not have a trailing slash unless it is the root directory. (Added in PHP 5.3.0.)',
	},
	__FILE__: {
		description: 'The full path and filename of the file. If used inside an include, the name of the included file is returned. Since PHP 4.0.2, __FILE__ always contains an absolute path with symlinks resolved whereas in older versions it contained relative path under some circumstances.',
	},
	__FUNCTION__: {
		description: 'The function name. (Added in PHP 4.3.0) As of PHP 5 this constant returns the function name as it was declared (case-sensitive). In PHP 4 its value is always lowercased.',
	},
	__LINE__: {
		description: 'The current line number of the file.',
	},
	__METHOD__: {
		description: 'The class method name. (Added in PHP 5.0.0) The method name is returned as it was declared (case-sensitive).',
	},
	__NAMESPACE__: {
		description: 'The name of the current namespace (case-sensitive). This constant is defined in compile-time (Added in PHP 5.3.0).',
	},
	TRUE: {
	},
	FALSE: {
	},
	NULL: {
	},
	M_PI: {
		description: 'The constant Pi: 3.14159265358979323846',
	},
	M_E: {
		description: 'The constant e: 2.7182818284590452354',
	},
	M_LOG2E: {
		description: 'The constant log_2 e: 1.4426950408889634074',
	},
	M_LOG10E: {
		description: 'The constant log_10 e: 0.43429448190325182765',
	},
	M_LN2: {
		description: 'The constant log_e 2: 0.69314718055994530942',
	},
	M_LN10: {
		description: 'The constant log_e 10: 2.30258509299404568402',
	},
	M_PI_2: {
		description: 'The constant pi/2: 1.57079632679489661923',
	},
	M_PI_4: {
		description: 'The constant pi/4: 0.78539816339744830962',
	},
	M_1_PI: {
		description: 'The constant 1/pi: 0.31830988618379067154',
	},
	M_2_PI: {
		description: 'The constant 2/pi: 0.63661977236758134308',
	},
	M_SQRTPI: {
		description: 'The constant sqrt(pi): 1.77245385090551602729',
	},
	M_2_SQRTPI: {
		description: 'The constant 2/sqrt(pi): 1.12837916709551257390',
	},
	M_SQRT2: {
		description: 'The constant sqrt(2): 1.41421356237309504880',
	},
	M_SQRT3: {
		description: 'The constant sqrt(3): 1.73205080756887729352',
	},
	M_SQRT1_2: {
		description: 'The constant 1/sqrt(2): 0.7071067811865475244',
	},
	M_LNPI: {
		description: 'The constant log_e(pi): 1.14472988584940017414',
	},
	M_EULER: {
		description: 'Euler constant: 0.57721566490153286061',
	},
	PHP_ROUND_HALF_UP: {
		description: 'Round halves up = 1',
	},
	PHP_ROUND_HALF_DOWN: {
		description: 'Round halves down = 2',
	},
	PHP_ROUND_HALF_EVEN: {
		description: 'Round halves to even numbers = 3',
	},
	PHP_ROUND_HALF_ODD: {
		description: 'Round halvesto odd numbers = 4',
	},
	NAN: {
		description: 'NAN (as a float): Not A Number',
	},
	INF: {
		description: 'INF (as a float): The infinite',
	},
	PASSWORD_BCRYPT: {
		description: 'PASSWORD_BCRYPT is used to create new password hashes using the CRYPT_BLOWFISH algorithm.',
	},
	PASSWORD_DEFAULT: {
		description: 'The default algorithm to use for hashing if no algorithm is provided. This may change in newer PHP releases when newer, stronger hashing algorithms are supported.',
	},
};
export const keywords: IEntries = {
	define: {
		description: 'Defines a named constant at runtime.',
		signature: '( string $name , mixed $value [, bool $case_insensitive = false ] ): bool'
	},
	die: {
		description: 'This language construct is equivalent to exit().',
	},
	echo: {
		description: 'Outputs all parameters. \r\n\r\necho is not actually a function (it is a language construct), so you are not required to use parentheses with it. echo (unlike some other language constructs) does not behave like a function, so it cannot always be used in the context of a function. Additionally, if you want to pass more than one parameter to echo, the parameters must not be enclosed within parentheses.\r\n\r\necho also has a shortcut syntax, where you can immediately follow the opening tag with an equals sign. This short syntax only works with the short_open_tag configuration setting enabled.',
		signature: '( string $arg1 [, string $... ] ): void'
	},
	empty: {
		description: 'Determine whether a variable is considered to be empty.',
		signature: '( mixed $var ): bool'
	},
	exit: {
		description: 'Terminates execution of the script. Shutdown functions and object destructors will always be executed even if exit() is called.',
		signature: '([ string $status ] )\r\nvoid exit ( int $status ): void'
	},
	eval: {
		description: 'Evaluates the string given in code_str as PHP code. Among other things, this can be useful for storing code in a database text field for later execution.\r\nThere are some factors to keep in mind when using eval(). Remember that the string passed must be valid PHP code, including things like terminating statements with a semicolon so the parser doesn\'t die on the line after the eval(), and properly escaping things in code_str. To mix HTML output and PHP code you can use a closing PHP tag to leave PHP mode.\r\nAlso remember that variables given values under eval() will retain these values in the main script afterwards.',
		signature: '( string $code_str ): mixed'
	},
	include: {
		description: 'The include statement includes and evaluates the specified file.',
	},
	include_once: {
		description: 'The include_once statement includes and evaluates the specified file during the execution of the script. This is a behavior similar to the include statement, with the only difference being that if the code from a file has already been included, it will not be included again. As the name suggests, it will be included just once. \r\n\r\ninclude_once may be used in cases where the same file might be included and evaluated more than once during a particular execution of a script, so in this case it may help avoid problems such as function redefinitions, variable value reassignments, etc.',
	},
	isset: {
		description: 'Determine if a variable is set and is not NULL. \r\n\r\nIf a variable has been unset with unset(), it will no longer be set. isset() will return FALSE if testing a variable that has been set to NULL. Also note that a NULL byte is not equivalent to the PHP NULL constant. \r\n\r\nIf multiple parameters are supplied then isset() will return TRUE only if all of the parameters are set. Evaluation goes from left to right and stops as soon as an unset variable is encountered.',
		signature: '( mixed $var [, mixed $... ] ): bool'
	},
	list: {
		description: 'Like array(), this is not really a function, but a language construct. list() is used to assign a list of variables in one operation.',
		signature: '( mixed $varname [, mixed $... ] ): array'
	},
	require: {
		description: 'require is identical to include except upon failure it will also produce a fatal E_COMPILE_ERROR level error. In other words, it will halt the script whereas include only emits a warning (E_WARNING) which allows the script to continue.',
	},
	require_once: {
		description: 'The require_once statement is identical to require except PHP will check if the file has already been included, and if so, not include (require) it again.',
	},
	return: {
		description: 'If called from within a function, the return statement immediately ends execution of the current function, and returns its argument as the value of the function call. return will also end the execution of an eval() statement or script file. \r\n\r\nIf called from the global scope, then execution of the current script file is ended. If the current script file was included or required, then control is passed back to the calling file. Furthermore, if the current script file was included, then the value given to return will be returned as the value of the include call. If return is called from within the main script file, then script execution ends. If the current script file was named by the auto_prepend_file or auto_append_file configuration options in php.ini, then that script file\'s execution is ended.',
	},
	print: {
		description: 'Outputs arg. \r\n\r\nprint() is not actually a real function (it is a language construct) so you are not required to use parentheses with its argument list.',
		signature: '( string $arg ): int'
	},
	unset: {
		description: 'unset() destroys the specified variables. \r\n\r\nThe behavior of unset() inside of a function can vary depending on what type of variable you are attempting to destroy. \r\n\r\nIf a globalized variable is unset() inside of a function, only the local variable is destroyed. The variable in the calling environment will retain the same value as before unset() was called.',
		signature: '( mixed $var [, mixed $... ] ): void'
	},
	yield: {
		description: 'The heart of a generator function is the yield keyword. In its simplest form, a yield statement looks much like a return statement, except that instead of stopping execution of the function and returning, yield instead provides a value to the code looping over the generator and pauses execution of the generator function.',
	},
	abstract: {
	},
	and: {
	},
	array: {
	},
	as: {
	},
	break: {
	},
	case: {
	},
	catch: {
	},
	class: {
	},
	clone: {
	},
	const: {
	},
	continue: {
	},
	declare: {
	},
	default: {
	},
	do: {
	},
	else: {
	},
	elseif: {
	},
	enddeclare: {
	},
	endfor: {
	},
	endforeach: {
	},
	endif: {
	},
	endswitch: {
	},
	endwhile: {
	},
	extends: {
	},
	final: {
	},
	finally: {
	},
	for: {
	},
	foreach: {
	},
	function: {
	},
	global: {
	},
	goto: {
	},
	if: {
	},
	implements: {
	},
	interface: {
	},
	instanceof: {
	},
	insteadOf: {
	},
	namespace: {
	},
	new: {
	},
	or: {
	},
	parent: {
	},
	private: {
	},
	protected: {
	},
	public: {
	},
	self: {
	},
	static: {
	},
	switch: {
	},
	throw: {
	},
	trait: {
	},
	try: {
	},
	use: {
	},
	var: {
	},
	while: {
	},
	xor: {
	},
};
```

--------------------------------------------------------------------------------

---[FILE: extensions/php-language-features/src/features/signatureHelpProvider.ts]---
Location: vscode-main/extensions/php-language-features/src/features/signatureHelpProvider.ts

```typescript
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

import { SignatureHelpProvider, SignatureHelp, SignatureInformation, CancellationToken, TextDocument, Position, workspace } from 'vscode';
import * as phpGlobals from './phpGlobals';
import * as phpGlobalFunctions from './phpGlobalFunctions';

const _NL = '\n'.charCodeAt(0);
const _TAB = '\t'.charCodeAt(0);
const _WSB = ' '.charCodeAt(0);
const _LBracket = '['.charCodeAt(0);
const _RBracket = ']'.charCodeAt(0);
const _LCurly = '{'.charCodeAt(0);
const _RCurly = '}'.charCodeAt(0);
const _LParent = '('.charCodeAt(0);
const _RParent = ')'.charCodeAt(0);
const _Comma = ','.charCodeAt(0);
const _Quote = '\''.charCodeAt(0);
const _DQuote = '"'.charCodeAt(0);
const _USC = '_'.charCodeAt(0);
const _a = 'a'.charCodeAt(0);
const _z = 'z'.charCodeAt(0);
const _A = 'A'.charCodeAt(0);
const _Z = 'Z'.charCodeAt(0);
const _0 = '0'.charCodeAt(0);
const _9 = '9'.charCodeAt(0);

const BOF = 0;


class BackwardIterator {
	private lineNumber: number;
	private offset: number;
	private line: string;
	private model: TextDocument;

	constructor(model: TextDocument, offset: number, lineNumber: number) {
		this.lineNumber = lineNumber;
		this.offset = offset;
		this.line = model.lineAt(this.lineNumber).text;
		this.model = model;
	}

	public hasNext(): boolean {
		return this.lineNumber >= 0;
	}

	public next(): number {
		if (this.offset < 0) {
			if (this.lineNumber > 0) {
				this.lineNumber--;
				this.line = this.model.lineAt(this.lineNumber).text;
				this.offset = this.line.length - 1;
				return _NL;
			}
			this.lineNumber = -1;
			return BOF;
		}
		const ch = this.line.charCodeAt(this.offset);
		this.offset--;
		return ch;
	}

}


export default class PHPSignatureHelpProvider implements SignatureHelpProvider {

	public provideSignatureHelp(document: TextDocument, position: Position, _token: CancellationToken): Promise<SignatureHelp> | null {
		const enable = workspace.getConfiguration('php').get<boolean>('suggest.basic', true);
		if (!enable) {
			return null;
		}

		const iterator = new BackwardIterator(document, position.character - 1, position.line);

		const paramCount = this.readArguments(iterator);
		if (paramCount < 0) {
			return null;
		}

		const ident = this.readIdent(iterator);
		if (!ident) {
			return null;
		}

		const entry = phpGlobalFunctions.globalfunctions[ident] || phpGlobals.keywords[ident];
		if (!entry || !entry.signature) {
			return null;
		}
		const paramsString = entry.signature.substring(0, entry.signature.lastIndexOf(')') + 1);
		const signatureInfo = new SignatureInformation(ident + paramsString, entry.description);

		const re = /\w*\s+\&?\$[\w_\.]+|void/g;
		let match: RegExpExecArray | null = null;
		while ((match = re.exec(paramsString)) !== null) {
			signatureInfo.parameters.push({ label: match[0], documentation: '' });
		}
		const ret = new SignatureHelp();
		ret.signatures.push(signatureInfo);
		ret.activeSignature = 0;
		ret.activeParameter = Math.min(paramCount, signatureInfo.parameters.length - 1);
		return Promise.resolve(ret);
	}

	private readArguments(iterator: BackwardIterator): number {
		let parentNesting = 0;
		let bracketNesting = 0;
		let curlyNesting = 0;
		let paramCount = 0;
		while (iterator.hasNext()) {
			const ch = iterator.next();
			switch (ch) {
				case _LParent:
					parentNesting--;
					if (parentNesting < 0) {
						return paramCount;
					}
					break;
				case _RParent: parentNesting++; break;
				case _LCurly: curlyNesting--; break;
				case _RCurly: curlyNesting++; break;
				case _LBracket: bracketNesting--; break;
				case _RBracket: bracketNesting++; break;
				case _DQuote:
				case _Quote:
					while (iterator.hasNext() && ch !== iterator.next()) {
						// find the closing quote or double quote
					}
					break;
				case _Comma:
					if (!parentNesting && !bracketNesting && !curlyNesting) {
						paramCount++;
					}
					break;
			}
		}
		return -1;
	}

	private isIdentPart(ch: number): boolean {
		if (ch === _USC || // _
			ch >= _a && ch <= _z || // a-z
			ch >= _A && ch <= _Z || // A-Z
			ch >= _0 && ch <= _9 || // 0/9
			ch >= 0x80 && ch <= 0xFFFF) { // nonascii

			return true;
		}
		return false;
	}

	private readIdent(iterator: BackwardIterator): string {
		let identStarted = false;
		let ident = '';
		while (iterator.hasNext()) {
			const ch = iterator.next();
			if (!identStarted && (ch === _WSB || ch === _TAB || ch === _NL)) {
				continue;
			}
			if (this.isIdentPart(ch)) {
				identStarted = true;
				ident = String.fromCharCode(ch) + ident;
			} else if (identStarted) {
				return ident;
			}
		}
		return ident;
	}

}
```

--------------------------------------------------------------------------------

---[FILE: extensions/php-language-features/src/features/validationProvider.ts]---
Location: vscode-main/extensions/php-language-features/src/features/validationProvider.ts

```typescript
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

import * as cp from 'child_process';
import { StringDecoder } from 'string_decoder';
import which from 'which';
import * as path from 'path';
import * as vscode from 'vscode';
import { ThrottledDelayer } from './utils/async';

const enum Setting {
	Run = 'php.validate.run',
	Enable = 'php.validate.enable',
	ExecutablePath = 'php.validate.executablePath',
}

export class LineDecoder {
	private stringDecoder: StringDecoder;
	private remaining: string | null;

	constructor(encoding: BufferEncoding = 'utf8') {
		this.stringDecoder = new StringDecoder(encoding);
		this.remaining = null;
	}

	public write(buffer: Buffer): string[] {
		const result: string[] = [];
		const value = this.remaining
			? this.remaining + this.stringDecoder.write(buffer)
			: this.stringDecoder.write(buffer);

		if (value.length < 1) {
			return result;
		}
		let start = 0;
		let ch: number;
		while (start < value.length && ((ch = value.charCodeAt(start)) === 13 || ch === 10)) {
			start++;
		}
		let idx = start;
		while (idx < value.length) {
			ch = value.charCodeAt(idx);
			if (ch === 13 || ch === 10) {
				result.push(value.substring(start, idx));
				idx++;
				while (idx < value.length && ((ch = value.charCodeAt(idx)) === 13 || ch === 10)) {
					idx++;
				}
				start = idx;
			} else {
				idx++;
			}
		}
		this.remaining = start < value.length ? value.substr(start) : null;
		return result;
	}

	public end(): string | null {
		return this.remaining;
	}
}

enum RunTrigger {
	onSave,
	onType
}

namespace RunTrigger {
	export const strings = {
		onSave: 'onSave',
		onType: 'onType'
	};
	export const from = function (value: string): RunTrigger {
		if (value === 'onType') {
			return RunTrigger.onType;
		} else {
			return RunTrigger.onSave;
		}
	};
}

export default class PHPValidationProvider {

	private static MatchExpression: RegExp = /(?:(?:Parse|Fatal) error): (.*)(?: in )(.*?)(?: on line )(\d+)/;
	private static BufferArgs: string[] = ['-l', '-n', '-d', 'display_errors=On', '-d', 'log_errors=Off'];
	private static FileArgs: string[] = ['-l', '-n', '-d', 'display_errors=On', '-d', 'log_errors=Off', '-f'];

	private validationEnabled: boolean;
	private pauseValidation: boolean;
	private config: IPhpConfig | undefined;
	private loadConfigP: Promise<void>;

	private documentListener: vscode.Disposable | null = null;
	private diagnosticCollection?: vscode.DiagnosticCollection;
	private delayers?: { [key: string]: ThrottledDelayer<void> };

	constructor() {
		this.validationEnabled = true;
		this.pauseValidation = false;
		this.loadConfigP = this.loadConfiguration();
	}

	public activate(subscriptions: vscode.Disposable[]) {
		this.diagnosticCollection = vscode.languages.createDiagnosticCollection();
		subscriptions.push(this);
		subscriptions.push(vscode.workspace.onDidChangeConfiguration(() => this.loadConfigP = this.loadConfiguration()));

		vscode.workspace.onDidOpenTextDocument(this.triggerValidate, this, subscriptions);
		vscode.workspace.onDidCloseTextDocument((textDocument) => {
			this.diagnosticCollection!.delete(textDocument.uri);
			if (this.delayers) {
				delete this.delayers[textDocument.uri.toString()];
			}
		}, null, subscriptions);
	}

	public dispose(): void {
		if (this.diagnosticCollection) {
			this.diagnosticCollection.clear();
			this.diagnosticCollection.dispose();
		}
		if (this.documentListener) {
			this.documentListener.dispose();
			this.documentListener = null;
		}
	}

	private async loadConfiguration(): Promise<void> {
		const section = vscode.workspace.getConfiguration();
		const oldExecutable = this.config?.executable;
		this.validationEnabled = section.get<boolean>(Setting.Enable, true);

		this.config = await getConfig();

		this.delayers = Object.create(null);
		if (this.pauseValidation) {
			this.pauseValidation = oldExecutable === this.config.executable;
		}
		if (this.documentListener) {
			this.documentListener.dispose();
			this.documentListener = null;
		}
		this.diagnosticCollection!.clear();
		if (this.validationEnabled) {
			if (this.config.trigger === RunTrigger.onType) {
				this.documentListener = vscode.workspace.onDidChangeTextDocument((e) => {
					this.triggerValidate(e.document);
				});
			} else {
				this.documentListener = vscode.workspace.onDidSaveTextDocument(this.triggerValidate, this);
			}
			// Configuration has changed. Reevaluate all documents.
			vscode.workspace.textDocuments.forEach(this.triggerValidate, this);
		}
	}

	private async triggerValidate(textDocument: vscode.TextDocument): Promise<void> {
		await this.loadConfigP;
		if (textDocument.languageId !== 'php' || this.pauseValidation || !this.validationEnabled) {
			return;
		}

		if (vscode.workspace.isTrusted) {
			const key = textDocument.uri.toString();
			let delayer = this.delayers![key];
			if (!delayer) {
				delayer = new ThrottledDelayer<void>(this.config?.trigger === RunTrigger.onType ? 250 : 0);
				this.delayers![key] = delayer;
			}
			delayer.trigger(() => this.doValidate(textDocument));
		}
	}

	private doValidate(textDocument: vscode.TextDocument): Promise<void> {
		return new Promise<void>(resolve => {
			const executable = this.config!.executable;
			if (!executable) {
				this.showErrorMessage(vscode.l10n.t("Cannot validate since a PHP installation could not be found. Use the setting 'php.validate.executablePath' to configure the PHP executable."));
				this.pauseValidation = true;
				resolve();
				return;
			}

			if (!path.isAbsolute(executable)) {
				// executable should either be resolved to an absolute path or undefined.
				// This is just to be sure.
				return;
			}

			const decoder = new LineDecoder();
			const diagnostics: vscode.Diagnostic[] = [];
			const processLine = (line: string) => {
				const matches = line.match(PHPValidationProvider.MatchExpression);
				if (matches) {
					const message = matches[1];
					const line = parseInt(matches[3]) - 1;
					const diagnostic: vscode.Diagnostic = new vscode.Diagnostic(
						new vscode.Range(line, 0, line, 2 ** 31 - 1), // See https://github.com/microsoft/vscode/issues/80288#issuecomment-650636442 for discussion
						message
					);
					diagnostics.push(diagnostic);
				}
			};

			const options = (vscode.workspace.workspaceFolders && vscode.workspace.workspaceFolders[0]) ? { cwd: vscode.workspace.workspaceFolders[0].uri.fsPath } : undefined;
			let args: string[];
			if (this.config!.trigger === RunTrigger.onSave) {
				args = PHPValidationProvider.FileArgs.slice(0);
				args.push(textDocument.fileName);
			} else {
				args = PHPValidationProvider.BufferArgs;
			}
			try {
				const childProcess = cp.spawn(executable, args, options);
				childProcess.on('error', (error: Error) => {
					if (this.pauseValidation) {
						resolve();
						return;
					}
					this.showError(error, executable);
					this.pauseValidation = true;
					resolve();
				});
				if (childProcess.pid) {
					if (this.config!.trigger === RunTrigger.onType) {
						childProcess.stdin.write(textDocument.getText());
						childProcess.stdin.end();
					}
					childProcess.stdout.on('data', (data: Buffer) => {
						decoder.write(data).forEach(processLine);
					});
					childProcess.stdout.on('end', () => {
						const line = decoder.end();
						if (line) {
							processLine(line);
						}
						this.diagnosticCollection!.set(textDocument.uri, diagnostics);
						resolve();
					});
				} else {
					resolve();
				}
			} catch (error) {
				this.showError(error, executable);
			}
		});
	}

	private async showError(error: any, executable: string): Promise<void> {
		let message: string | null = null;
		if (error.code === 'ENOENT') {
			if (this.config!.executable) {
				message = vscode.l10n.t("Cannot validate since {0} is not a valid php executable. Use the setting 'php.validate.executablePath' to configure the PHP executable.", executable);
			} else {
				message = vscode.l10n.t("Cannot validate since no PHP executable is set. Use the setting 'php.validate.executablePath' to configure the PHP executable.");
			}
		} else {
			message = error.message ? error.message : vscode.l10n.t("Failed to run php using path: {0}. Reason is unknown.", executable);
		}
		if (!message) {
			return;
		}

		return this.showErrorMessage(message);
	}

	private async showErrorMessage(message: string): Promise<void> {
		const openSettings = vscode.l10n.t("Open Settings");
		if (await vscode.window.showInformationMessage(message, openSettings) === openSettings) {
			vscode.commands.executeCommand('workbench.action.openSettings', Setting.ExecutablePath);
		}
	}
}

interface IPhpConfig {
	readonly executable: string | undefined;
	readonly executableIsUserDefined: boolean | undefined;
	readonly trigger: RunTrigger;
}

async function getConfig(): Promise<IPhpConfig> {
	const section = vscode.workspace.getConfiguration();

	let executable: string | undefined;
	let executableIsUserDefined: boolean | undefined;
	const inspect = section.inspect<string>(Setting.ExecutablePath);
	if (inspect && inspect.workspaceValue) {
		executable = inspect.workspaceValue;
		executableIsUserDefined = false;
	} else if (inspect && inspect.globalValue) {
		executable = inspect.globalValue;
		executableIsUserDefined = true;
	} else {
		executable = undefined;
		executableIsUserDefined = undefined;
	}

	if (executable && !path.isAbsolute(executable)) {
		const first = vscode.workspace.workspaceFolders && vscode.workspace.workspaceFolders[0];
		if (first) {
			executable = vscode.Uri.joinPath(first.uri, executable).fsPath;
		} else {
			executable = undefined;
		}
	} else if (!executable) {
		executable = await getPhpPath();
	}

	const trigger = RunTrigger.from(section.get<string>(Setting.Run, RunTrigger.strings.onSave));
	return {
		executable,
		executableIsUserDefined,
		trigger
	};
}

async function getPhpPath(): Promise<string | undefined> {
	try {
		return await which('php');
	} catch (e) {
		return undefined;
	}
}
```

--------------------------------------------------------------------------------

---[FILE: extensions/php-language-features/src/features/utils/async.ts]---
Location: vscode-main/extensions/php-language-features/src/features/utils/async.ts

```typescript
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

export interface ITask<T> {
	(): T;
}

/**
 * A helper to prevent accumulation of sequential async tasks.
 *
 * Imagine a mail man with the sole task of delivering letters. As soon as
 * a letter submitted for delivery, he drives to the destination, delivers it
 * and returns to his base. Imagine that during the trip, N more letters were submitted.
 * When the mail man returns, he picks those N letters and delivers them all in a
 * single trip. Even though N+1 submissions occurred, only 2 deliveries were made.
 *
 * The throttler implements this via the queue() method, by providing it a task
 * factory. Following the example:
 *
 * 		var throttler = new Throttler();
 * 		var letters = [];
 *
 * 		function letterReceived(l) {
 * 			letters.push(l);
 * 			throttler.queue(() => { return makeTheTrip(); });
 * 		}
 */
export class Throttler<T> {

	private activePromise: Promise<T> | null;
	private queuedPromise: Promise<T> | null;
	private queuedPromiseFactory: ITask<Promise<T>> | null;

	constructor() {
		this.activePromise = null;
		this.queuedPromise = null;
		this.queuedPromiseFactory = null;
	}

	public queue(promiseFactory: ITask<Promise<T>>): Promise<T> {
		if (this.activePromise) {
			this.queuedPromiseFactory = promiseFactory;

			if (!this.queuedPromise) {
				const onComplete = () => {
					this.queuedPromise = null;

					const result = this.queue(this.queuedPromiseFactory!);
					this.queuedPromiseFactory = null;

					return result;
				};

				this.queuedPromise = new Promise<T>((resolve) => {
					this.activePromise!.then(onComplete, onComplete).then(resolve);
				});
			}

			return new Promise<T>((resolve, reject) => {
				this.queuedPromise!.then(resolve, reject);
			});
		}

		this.activePromise = promiseFactory();

		return new Promise<T>((resolve, reject) => {
			this.activePromise!.then((result: T) => {
				this.activePromise = null;
				resolve(result);
			}, (err: any) => {
				this.activePromise = null;
				reject(err);
			});
		});
	}
}

/**
 * A helper to delay execution of a task that is being requested often.
 *
 * Following the throttler, now imagine the mail man wants to optimize the number of
 * trips proactively. The trip itself can be long, so the he decides not to make the trip
 * as soon as a letter is submitted. Instead he waits a while, in case more
 * letters are submitted. After said waiting period, if no letters were submitted, he
 * decides to make the trip. Imagine that N more letters were submitted after the first
 * one, all within a short period of time between each other. Even though N+1
 * submissions occurred, only 1 delivery was made.
 *
 * The delayer offers this behavior via the trigger() method, into which both the task
 * to be executed and the waiting period (delay) must be passed in as arguments. Following
 * the example:
 *
 * 		var delayer = new Delayer(WAITING_PERIOD);
 * 		var letters = [];
 *
 * 		function letterReceived(l) {
 * 			letters.push(l);
 * 			delayer.trigger(() => { return makeTheTrip(); });
 * 		}
 */
export class Delayer<T> {

	public defaultDelay: number;
	private timeout: NodeJS.Timer | null;
	private completionPromise: Promise<T> | null;
	private onResolve: ((value: T | PromiseLike<T> | undefined) => void) | null;
	private task: ITask<T> | null;

	constructor(defaultDelay: number) {
		this.defaultDelay = defaultDelay;
		this.timeout = null;
		this.completionPromise = null;
		this.onResolve = null;
		this.task = null;
	}

	public trigger(task: ITask<T>, delay: number = this.defaultDelay): Promise<T> {
		this.task = task;
		this.cancelTimeout();

		if (!this.completionPromise) {
			this.completionPromise = new Promise<T | undefined>((resolve) => {
				this.onResolve = resolve;
			}).then(() => {
				this.completionPromise = null;
				this.onResolve = null;

				const result = this.task!();
				this.task = null;

				return result;
			});
		}

		this.timeout = setTimeout(() => {
			this.timeout = null;
			this.onResolve!(undefined);
		}, delay);

		return this.completionPromise;
	}

	public isTriggered(): boolean {
		return this.timeout !== null;
	}

	public cancel(): void {
		this.cancelTimeout();

		if (this.completionPromise) {
			this.completionPromise = null;
		}
	}

	private cancelTimeout(): void {
		if (this.timeout !== null) {
			clearTimeout(this.timeout);
			this.timeout = null;
		}
	}
}

/**
 * A helper to delay execution of a task that is being requested often, while
 * preventing accumulation of consecutive executions, while the task runs.
 *
 * Simply combine the two mail man strategies from the Throttler and Delayer
 * helpers, for an analogy.
 */
export class ThrottledDelayer<T> extends Delayer<Promise<T>> {

	private throttler: Throttler<T>;

	constructor(defaultDelay: number) {
		super(defaultDelay);

		this.throttler = new Throttler<T>();
	}

	public override trigger(promiseFactory: ITask<Promise<T>>, delay?: number): Promise<Promise<T>> {
		return super.trigger(() => this.throttler.queue(promiseFactory), delay);
	}
}
```

--------------------------------------------------------------------------------

---[FILE: extensions/php-language-features/src/features/utils/markedTextUtil.ts]---
Location: vscode-main/extensions/php-language-features/src/features/utils/markedTextUtil.ts

```typescript
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

import { MarkedString } from 'vscode';

export function textToMarkedString(text: string): MarkedString {
	return text.replace(/[\\`*_{}[\]()#+\-.!]/g, '\\$&'); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash
}
```

--------------------------------------------------------------------------------

---[FILE: extensions/php-language-features/src/typings/node.additions.d.ts]---
Location: vscode-main/extensions/php-language-features/src/typings/node.additions.d.ts

```typescript
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

declare function setTimeout(callback: (...args: any[]) => void, ms: number, ...args: any[]): NodeJS.Timer;
declare function clearTimeout(timeoutId: NodeJS.Timer): void;
declare function setInterval(callback: (...args: any[]) => void, ms: number, ...args: any[]): NodeJS.Timer;
declare function clearInterval(intervalId: NodeJS.Timer): void;
declare function setImmediate(callback: (...args: any[]) => void, ...args: any[]): any;
declare function clearImmediate(immediateId: any): void;
```

--------------------------------------------------------------------------------

---[FILE: extensions/powershell/.vscodeignore]---
Location: vscode-main/extensions/powershell/.vscodeignore

```text
test/**
cgmanifest.json
```

--------------------------------------------------------------------------------

---[FILE: extensions/powershell/cgmanifest.json]---
Location: vscode-main/extensions/powershell/cgmanifest.json

```json
{
	"registrations": [
		{
			"component": {
				"type": "git",
				"git": {
					"name": "PowerShell/EditorSyntax",
					"repositoryUrl": "https://github.com/PowerShell/EditorSyntax",
					"commitHash": "742f0b5d4b60f5930c0b47fcc1f646860521296e"
				}
			},
			"license": "MIT",
			"version": "1.0.0"
		}
	],
	"version": 1
}
```

--------------------------------------------------------------------------------

---[FILE: extensions/powershell/language-configuration.json]---
Location: vscode-main/extensions/powershell/language-configuration.json

```json
{
	"comments": {
		"lineComment": "#",
		"blockComment": [ "<#", "#>" ]
	},
	"brackets": [
		["{", "}"],
		["[", "]"],
		["(", ")"]
	],
	"autoClosingPairs": [
		["{", "}"],
		["[", "]"],
		["(", ")"],
		{ "open": "@'", "close": "\n'@", "notIn": ["string", "comment"]},
		{ "open": "@\"", "close": "\n\"@", "notIn": ["string", "comment"]},
		{ "open": "\"", "close": "\"", "notIn": ["string"]},
		{ "open": "'", "close": "'", "notIn": ["string", "comment"]},
		["<#", "#>"]
	],
	"surroundingPairs": [
		["{", "}"],
		["[", "]"],
		["(", ")"],
		["\"", "\""],
		["'", "'"]
	],
	"folding": {
		"markers": {
			"start": "^\\s*#[rR]egion\\b",
			"end": "^\\s*#[eE]nd[rR]egion\\b"
		}
	}
}
```

--------------------------------------------------------------------------------

---[FILE: extensions/powershell/package.json]---
Location: vscode-main/extensions/powershell/package.json

```json
{
  "name": "powershell",
  "displayName": "%displayName%",
  "description": "%description%",
  "version": "1.0.0",
  "publisher": "vscode",
  "license": "MIT",
  "engines": {
    "vscode": "*"
  },
  "categories": ["Programming Languages"],
  "contributes": {
    "languages": [
      {
        "id": "powershell",
        "extensions": [
          ".ps1",
          ".psm1",
          ".psd1",
          ".pssc",
          ".psrc"
        ],
        "aliases": [
          "PowerShell",
          "powershell",
          "ps",
          "ps1",
          "pwsh"
        ],
        "firstLine": "^#!\\s*/.*\\bpwsh\\b",
        "configuration": "./language-configuration.json"
      }
    ],
    "grammars": [
      {
        "language": "powershell",
        "scopeName": "source.powershell",
        "path": "./syntaxes/powershell.tmLanguage.json"
      }
    ]
  },
  "scripts": {
    "update-grammar": "node ../node_modules/vscode-grammar-updater/bin PowerShell/EditorSyntax PowerShellSyntax.tmLanguage ./syntaxes/powershell.tmLanguage.json"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/microsoft/vscode.git"
  }
}
```

--------------------------------------------------------------------------------

---[FILE: extensions/powershell/package.nls.json]---
Location: vscode-main/extensions/powershell/package.nls.json

```json
{
	"displayName": "Powershell Language Basics",
	"description": "Provides snippets, syntax highlighting, bracket matching and folding in Powershell files."
}
```

--------------------------------------------------------------------------------

---[FILE: extensions/powershell/syntaxes/powershell.tmLanguage.json]---
Location: vscode-main/extensions/powershell/syntaxes/powershell.tmLanguage.json

```json
{
	"information_for_contributors": [
		"This file has been converted from https://github.com/PowerShell/EditorSyntax/blob/master/PowerShellSyntax.tmLanguage",
		"If you want to provide a fix or improvement, please create a pull request against the original repository.",
		"Once accepted there, we are happy to receive an update request."
	],
	"version": "https://github.com/PowerShell/EditorSyntax/commit/742f0b5d4b60f5930c0b47fcc1f646860521296e",
	"name": "PowerShell",
	"scopeName": "source.powershell",
	"patterns": [
		{
			"begin": "<#",
			"beginCaptures": {
				"0": {
					"name": "punctuation.definition.comment.block.begin.powershell"
				}
			},
			"end": "#>",
			"endCaptures": {
				"0": {
					"name": "punctuation.definition.comment.block.end.powershell"
				}
			},
			"name": "comment.block.powershell",
			"patterns": [
				{
					"include": "#commentEmbeddedDocs"
				}
			]
		},
		{
			"match": "[2-6]>&1|>>|>|<<|<|>|>\\||[1-6]>|[1-6]>>",
			"name": "keyword.operator.redirection.powershell"
		},
		{
			"include": "#commands"
		},
		{
			"include": "#commentLine"
		},
		{
			"include": "#variable"
		},
		{
			"include": "#subexpression"
		},
		{
			"include": "#function"
		},
		{
			"include": "#attribute"
		},
		{
			"include": "#UsingDirective"
		},
		{
			"include": "#type"
		},
		{
			"include": "#hashtable"
		},
		{
			"include": "#doubleQuotedString"
		},
		{
			"include": "#scriptblock"
		},
		{
			"comment": "Needed to parse stuff correctly in 'argument mode'. (See about_parsing.)",
			"include": "#doubleQuotedStringEscapes"
		},
		{
			"begin": "['\\x{2018}-\\x{201B}]",
			"beginCaptures": {
				"0": {
					"name": "punctuation.definition.string.begin.powershell"
				}
			},
			"end": "['\\x{2018}-\\x{201B}]",
			"applyEndPatternLast": true,
			"endCaptures": {
				"0": {
					"name": "punctuation.definition.string.end.powershell"
				}
			},
			"name": "string.quoted.single.powershell",
			"patterns": [
				{
					"match": "['\\x{2018}-\\x{201B}]{2}",
					"name": "constant.character.escape.powershell"
				}
			]
		},
		{
			"begin": "(@[\"\\x{201C}-\\x{201E}])\\s*$",
			"beginCaptures": {
				"1": {
					"name": "punctuation.definition.string.begin.powershell"
				}
			},
			"end": "^[\"\\x{201C}-\\x{201E}]@",
			"endCaptures": {
				"0": {
					"name": "punctuation.definition.string.end.powershell"
				}
			},
			"name": "string.quoted.double.heredoc.powershell",
			"patterns": [
				{
					"include": "#variableNoProperty"
				},
				{
					"include": "#doubleQuotedStringEscapes"
				},
				{
					"include": "#interpolation"
				}
			]
		},
		{
			"begin": "(@['\\x{2018}-\\x{201B}])\\s*$",
			"beginCaptures": {
				"1": {
					"name": "punctuation.definition.string.begin.powershell"
				}
			},
			"end": "^['\\x{2018}-\\x{201B}]@",
			"endCaptures": {
				"0": {
					"name": "punctuation.definition.string.end.powershell"
				}
			},
			"name": "string.quoted.single.heredoc.powershell"
		},
		{
			"include": "#numericConstant"
		},
		{
			"begin": "(@)(\\()",
			"beginCaptures": {
				"1": {
					"name": "keyword.other.array.begin.powershell"
				},
				"2": {
					"name": "punctuation.section.group.begin.powershell"
				}
			},
			"end": "\\)",
			"endCaptures": {
				"0": {
					"name": "punctuation.section.group.end.powershell"
				}
			},
			"name": "meta.group.array-expression.powershell",
			"patterns": [
				{
					"include": "$self"
				}
			]
		},
		{
			"begin": "((\\$))(\\()",
			"beginCaptures": {
				"1": {
					"name": "keyword.other.substatement.powershell"
				},
				"2": {
					"name": "punctuation.definition.subexpression.powershell"
				},
				"3": {
					"name": "punctuation.section.group.begin.powershell"
				}
			},
			"comment": "TODO: move to repo; make recursive.",
			"end": "\\)",
			"endCaptures": {
				"0": {
					"name": "punctuation.section.group.end.powershell"
				}
			},
			"name": "meta.group.complex.subexpression.powershell",
			"patterns": [
				{
					"include": "$self"
				}
			]
		},
		{
			"match": "(\\b(([A-Za-z0-9\\-_\\.]+)\\.(?i:exe|com|cmd|bat))\\b)",
			"name": "support.function.powershell"
		},
		{
			"match": "(?<!\\w|-|\\.)((?i:begin|break|catch|clean|continue|data|default|define|do|dynamicparam|else|elseif|end|exit|finally|for|from|if|in|inlinescript|parallel|param|process|return|sequence|switch|throw|trap|try|until|var|while)|%|\\?)(?!\\w)",
			"name": "keyword.control.powershell"
		},
		{
			"match": "(?<!\\w|-|[^\\)]\\.)((?i:(foreach|where)(?!-object))|%|\\?)(?!\\w)",
			"name": "keyword.control.powershell"
		},
		{
			"begin": "(?<!\\w)(--%)(?!\\w)",
			"beginCaptures": {
				"1": {
					"name": "keyword.control.powershell"
				}
			},
			"end": "$",
			"patterns": [
				{
					"match": ".+",
					"name": "string.unquoted.powershell"
				}
			],
			"comment": "This should be moved to the repository at some point."
		},
		{
			"comment": "This should only be relevant inside a class but will require a rework of how classes are matched. This is a temp fix.",
			"match": "(?<!\\w)((?i:hidden|static))(?!\\w)",
			"name": "storage.modifier.powershell"
		},
		{
			"captures": {
				"1": {
					"name": "storage.type.powershell"
				},
				"2": {
					"name": "entity.name.function"
				}
			},
			"comment": "capture should be entity.name.type, but it doesn't provide a good color in the default schema.",
			"match": "(?<!\\w|-)((?i:class)|%|\\?)(?:\\s)+((?:\\p{L}|\\d|_|-|)+)\\b"
		},
		{
			"match": "(?<!\\w)-(?i:is(?:not)?|as)\\b",
			"name": "keyword.operator.comparison.powershell"
		},
		{
			"match": "(?<!\\w)-(?i:[ic]?(?:eq|ne|[gl][te]|(?:not)?(?:like|match|contains|in)|replace))(?!\\p{L})",
			"name": "keyword.operator.comparison.powershell"
		},
		{
			"match": "(?<!\\w)-(?i:join|split)(?!\\p{L})|!",
			"name": "keyword.operator.unary.powershell"
		},
		{
			"match": "(?<!\\w)-(?i:and|or|not|xor)(?!\\p{L})|!",
			"name": "keyword.operator.logical.powershell"
		},
		{
			"match": "(?<!\\w)-(?i:band|bor|bnot|bxor|shl|shr)(?!\\p{L})",
			"name": "keyword.operator.bitwise.powershell"
		},
		{
			"match": "(?<!\\w)-(?i:f)(?!\\p{L})",
			"name": "keyword.operator.string-format.powershell"
		},
		{
			"match": "[+%*/-]?=|[+/*%-]",
			"name": "keyword.operator.assignment.powershell"
		},
		{
			"match": "\\|{2}|&{2}|;",
			"name": "punctuation.terminator.statement.powershell"
		},
		{
			"match": "&|(?<!\\w)\\.(?= )|`|,|\\|",
			"name": "keyword.operator.other.powershell"
		},
		{
			"comment": "This is very imprecise, is there a syntax for 'must come after...' ",
			"match": "(?<!\\s|^)\\.\\.(?=\\-?\\d|\\(|\\$)",
			"name": "keyword.operator.range.powershell"
		}
	],
	"repository": {
		"commentLine": {
			"begin": "(?<![`\\\\-])(#)#*",
			"captures": {
				"1": {
					"name": "punctuation.definition.comment.powershell"
				}
			},
			"end": "$\\n?",
			"name": "comment.line.powershell",
			"patterns": [
				{
					"include": "#commentEmbeddedDocs"
				},
				{
					"include": "#RequiresDirective"
				}
			]
		},
		"attribute": {
			"begin": "(\\[)\\s*\\b(?i)(cmdletbinding|alias|outputtype|parameter|validatenotnull|validatenotnullorempty|validatecount|validateset|allownull|allowemptycollection|allowemptystring|validatescript|validaterange|validatepattern|validatelength|supportswildcards)\\b",
			"beginCaptures": {
				"1": {
					"name": "punctuation.section.bracket.begin.powershell"
				},
				"2": {
					"name": "support.function.attribute.powershell"
				}
			},
			"end": "(\\])",
			"endCaptures": {
				"1": {
					"name": "punctuation.section.bracket.end.powershell"
				}
			},
			"name": "meta.attribute.powershell",
			"patterns": [
				{
					"begin": "\\(",
					"beginCaptures": {
						"0": {
							"name": "punctuation.section.group.begin.powershell"
						}
					},
					"end": "\\)",
					"endCaptures": {
						"0": {
							"name": "punctuation.section.group.end.powershell"
						}
					},
					"patterns": [
						{
							"include": "$self"
						},
						{
							"match": "(?i)\\b(mandatory|valuefrompipeline|valuefrompipelinebypropertyname|valuefromremainingarguments|position|parametersetname|defaultparametersetname|supportsshouldprocess|supportspaging|positionalbinding|helpuri|confirmimpact|helpmessage)\\b(?:\\s+)?(=)?",
							"captures": {
								"1": {
									"name": "variable.parameter.attribute.powershell"
								},
								"2": {
									"name": "keyword.operator.assignment.powershell"
								}
							}
						}
					]
				}
			]
		},
		"commands": {
			"patterns": [
				{
					"comment": "Verb-Noun pattern:",
					"match": "(?:(\\p{L}|\\d|_|-|\\\\|\\:)*\\\\)?\\b(?i:Add|Approve|Assert|Backup|Block|Build|Checkpoint|Clear|Close|Compare|Complete|Compress|Confirm|Connect|Convert|ConvertFrom|ConvertTo|Copy|Debug|Deny|Deploy|Disable|Disconnect|Dismount|Edit|Enable|Enter|Exit|Expand|Export|Find|Format|Get|Grant|Group|Hide|Import|Initialize|Install|Invoke|Join|Limit|Lock|Measure|Merge|Mount|Move|New|Open|Optimize|Out|Ping|Pop|Protect|Publish|Push|Read|Receive|Redo|Register|Remove|Rename|Repair|Request|Reset|Resize|Resolve|Restart|Restore|Resume|Revoke|Save|Search|Select|Send|Set|Show|Skip|Split|Start|Step|Stop|Submit|Suspend|Switch|Sync|Test|Trace|Unblock|Undo|Uninstall|Unlock|Unprotect|Unpublish|Unregister|Update|Use|Wait|Watch|Write)\\-.+?(?:\\.(?i:exe|cmd|bat|ps1))?\\b",
					"name": "support.function.powershell"
				},
				{
					"comment": "Builtin cmdlets with reserved verbs",
					"match": "(?<!\\w)(?i:foreach-object)(?!\\w)",
					"name": "support.function.powershell"
				},
				{
					"comment": "Builtin cmdlets with reserved verbs",
					"match": "(?<!\\w)(?i:where-object)(?!\\w)",
					"name": "support.function.powershell"
				},
				{
					"comment": "Builtin cmdlets with reserved verbs",
					"match": "(?<!\\w)(?i:sort-object)(?!\\w)",
					"name": "support.function.powershell"
				},
				{
					"comment": "Builtin cmdlets with reserved verbs",
					"match": "(?<!\\w)(?i:tee-object)(?!\\w)",
					"name": "support.function.powershell"
				}
			]
		},
		"commentEmbeddedDocs": {
			"patterns": [
				{
					"captures": {
						"1": {
							"name": "constant.string.documentation.powershell"
						},
						"2": {
							"name": "keyword.operator.documentation.powershell"
						}
					},
					"comment": "these embedded doc keywords do not support arguments, must be the only thing on the line",
					"match": "(?:^|\\G)(?i:\\s*(\\.)(COMPONENT|DESCRIPTION|EXAMPLE|FUNCTIONALITY|INPUTS|LINK|NOTES|OUTPUTS|ROLE|SYNOPSIS))\\s*$",
					"name": "comment.documentation.embedded.powershell"
				},
				{
					"captures": {
						"1": {
							"name": "constant.string.documentation.powershell"
						},
						"2": {
							"name": "keyword.operator.documentation.powershell"
						},
						"3": {
							"name": "keyword.operator.documentation.powershell"
						}
					},
					"comment": "these embedded doc keywords require arguments though the type required may be inconsistent, they may not all be able to use the same argument match",
					"match": "(?:^|\\G)(?i:\\s*(\\.)(EXTERNALHELP|FORWARDHELP(?:CATEGORY|TARGETNAME)|PARAMETER|REMOTEHELPRUNSPACE))\\s+(.+?)\\s*$",
					"name": "comment.documentation.embedded.powershell"
				}
			]
		},
		"doubleQuotedStringEscapes": {
			"patterns": [
				{
					"match": "`[`0abefnrtv'\"\\x{2018}-\\x{201E}$]",
					"name": "constant.character.escape.powershell"
				},
				{
					"include": "#unicodeEscape"
				}
			]
		},
		"unicodeEscape": {
			"comment": "`u{xxxx} added in PowerShell 6.0",
			"patterns": [
				{
					"match": "`u\\{(?:(?:10)?([0-9a-fA-F]){1,4}|0?\\g<1>{1,5})}",
					"name": "constant.character.escape.powershell"
				},
				{
					"match": "`u(?:\\{[0-9a-fA-F]{,6}.)?",
					"name": "invalid.character.escape.powershell"
				}
			]
		},
		"function": {
			"begin": "^(?:\\s*+)(?i)(function|filter|configuration|workflow)\\s+(?:(global|local|script|private):)?((?:\\p{L}|\\d|_|-|\\.)+)",
			"beginCaptures": {
				"0": {
					"name": "meta.function.powershell"
				},
				"1": {
					"name": "storage.type.powershell"
				},
				"2": {
					"name": "storage.modifier.scope.powershell"
				},
				"3": {
					"name": "entity.name.function.powershell"
				}
			},
			"end": "(?=\\{|\\()",
			"patterns": [
				{
					"include": "#commentLine"
				}
			]
		},
		"subexpression": {
			"begin": "\\(",
			"beginCaptures": {
				"0": {
					"name": "punctuation.section.group.begin.powershell"
				}
			},
			"end": "\\)",
			"endCaptures": {
				"0": {
					"name": "punctuation.section.group.end.powershell"
				}
			},
			"name": "meta.group.simple.subexpression.powershell",
			"patterns": [
				{
					"include": "$self"
				}
			]
		},
		"interpolation": {
			"begin": "(((\\$)))((\\())",
			"beginCaptures": {
				"1": {
					"name": "keyword.other.substatement.powershell"
				},
				"2": {
					"name": "punctuation.definition.substatement.powershell"
				},
				"3": {
					"name": "punctuation.section.embedded.substatement.begin.powershell"
				},
				"4": {
					"name": "punctuation.section.group.begin.powershell"
				},
				"5": {
					"name": "punctuation.section.embedded.substatement.begin.powershell"
				}
			},
			"contentName": "interpolated.complex.source.powershell",
			"end": "(\\))",
			"endCaptures": {
				"0": {
					"name": "punctuation.section.group.end.powershell"
				},
				"1": {
					"name": "punctuation.section.embedded.substatement.end.powershell"
				}
			},
			"name": "meta.embedded.substatement.powershell",
			"patterns": [
				{
					"include": "$self"
				}
			]
		},
		"numericConstant": {
			"patterns": [
				{
					"captures": {
						"1": {
							"name": "constant.numeric.hex.powershell"
						},
						"2": {
							"name": "keyword.other.powershell"
						}
					},
					"match": "(?<!\\w)([-+]?0(?:x|X)[0-9a-fA-F_]+(?:U|u|L|l|UL|Ul|uL|ul|LU|Lu|lU|lu)?)((?i:[kmgtp]b)?)\\b"
				},
				{
					"captures": {
						"1": {
							"name": "constant.numeric.integer.powershell"
						},
						"2": {
							"name": "keyword.other.powershell"
						}
					},
					"match": "(?<!\\w)([-+]?(?:[0-9_]+)?\\.[0-9_]+(?:(?:e|E)[0-9]+)?(?:F|f|D|d|M|m)?)((?i:[kmgtp]b)?)\\b"
				},
				{
					"captures": {
						"1": {
							"name": "constant.numeric.octal.powershell"
						},
						"2": {
							"name": "keyword.other.powershell"
						}
					},
					"match": "(?<!\\w)([-+]?0(?:b|B)[01_]+(?:U|u|L|l|UL|Ul|uL|ul|LU|Lu|lU|lu)?)((?i:[kmgtp]b)?)\\b"
				},
				{
					"captures": {
						"1": {
							"name": "constant.numeric.integer.powershell"
						},
						"2": {
							"name": "keyword.other.powershell"
						}
					},
					"match": "(?<!\\w)([-+]?[0-9_]+(?:e|E)(?:[0-9_])?+(?:F|f|D|d|M|m)?)((?i:[kmgtp]b)?)\\b"
				},
				{
					"captures": {
						"1": {
							"name": "constant.numeric.integer.powershell"
						},
						"2": {
							"name": "keyword.other.powershell"
						}
					},
					"match": "(?<!\\w)([-+]?[0-9_]+\\.(?:e|E)(?:[0-9_])?+(?:F|f|D|d|M|m)?)((?i:[kmgtp]b)?)\\b"
				},
				{
					"captures": {
						"1": {
							"name": "constant.numeric.integer.powershell"
						},
						"2": {
							"name": "keyword.other.powershell"
						}
					},
					"match": "(?<!\\w)([-+]?[0-9_]+[\\.]?(?:F|f|D|d|M|m))((?i:[kmgtp]b)?)\\b"
				},
				{
					"captures": {
						"1": {
							"name": "constant.numeric.integer.powershell"
						},
						"2": {
							"name": "keyword.other.powershell"
						}
					},
					"match": "(?<!\\w)([-+]?[0-9_]+[\\.]?(?:U|u|L|l|UL|Ul|uL|ul|LU|Lu|lU|lu)?)((?i:[kmgtp]b)?)\\b"
				}
			]
		},
		"scriptblock": {
			"begin": "\\{",
			"beginCaptures": {
				"0": {
					"name": "punctuation.section.braces.begin.powershell"
				}
			},
			"end": "\\}",
			"endCaptures": {
				"0": {
					"name": "punctuation.section.braces.end.powershell"
				}
			},
			"name": "meta.scriptblock.powershell",
			"patterns": [
				{
					"include": "$self"
				}
			]
		},
		"type": {
			"begin": "\\[",
			"beginCaptures": {
				"0": {
					"name": "punctuation.section.bracket.begin.powershell"
				}
			},
			"end": "\\]",
			"endCaptures": {
				"0": {
					"name": "punctuation.section.bracket.end.powershell"
				}
			},
			"patterns": [
				{
					"match": "(?!\\d+|\\.)(?:\\p{L}|\\p{N}|\\.)+",
					"name": "storage.type.powershell"
				},
				{
					"include": "$self"
				}
			]
		},
		"variable": {
			"patterns": [
				{
					"captures": {
						"0": {
							"name": "constant.language.powershell"
						},
						"1": {
							"name": "punctuation.definition.variable.powershell"
						}
					},
					"comment": "These are special constants.",
					"match": "(\\$)(?i:(False|Null|True))\\b"
				},
				{
					"captures": {
						"0": {
							"name": "support.constant.variable.powershell"
						},
						"1": {
							"name": "punctuation.definition.variable.powershell"
						},
						"3": {
							"name": "variable.other.member.powershell"
						}
					},
					"comment": "These are the other built-in constants.",
					"match": "(\\$)(?i:(Error|ExecutionContext|Host|Home|PID|PsHome|PsVersionTable|ShellID))((?:\\.(?:\\p{L}|\\d|_)+)*\\b)?\\b"
				},
				{
					"captures": {
						"0": {
							"name": "support.variable.automatic.powershell"
						},
						"1": {
							"name": "punctuation.definition.variable.powershell"
						},
						"3": {
							"name": "variable.other.member.powershell"
						}
					},
					"comment": "Automatic variables are not constants, but they are read-only. In monokai (default) color schema support.variable doesn't have color, so we use constant.",
					"match": "(\\$)((?:[$^?])|(?i:_|Args|ConsoleFileName|Event|EventArgs|EventSubscriber|ForEach|Input|LastExitCode|Matches|MyInvocation|NestedPromptLevel|Profile|PSBoundParameters|PsCmdlet|PsCulture|PSDebugContext|PSItem|PSCommandPath|PSScriptRoot|PsUICulture|Pwd|Sender|SourceArgs|SourceEventArgs|StackTrace|Switch|This)\\b)((?:\\.(?:\\p{L}|\\d|_)+)*\\b)?"
				},
				{
					"captures": {
						"0": {
							"name": "variable.language.powershell"
						},
						"1": {
							"name": "punctuation.definition.variable.powershell"
						},
						"3": {
							"name": "variable.other.member.powershell"
						}
					},
					"comment": "Style preference variables as language variables so that they stand out.",
					"match": "(\\$)(?i:(ConfirmPreference|DebugPreference|ErrorActionPreference|ErrorView|FormatEnumerationLimit|InformationPreference|LogCommandHealthEvent|LogCommandLifecycleEvent|LogEngineHealthEvent|LogEngineLifecycleEvent|LogProviderHealthEvent|LogProviderLifecycleEvent|MaximumAliasCount|MaximumDriveCount|MaximumErrorCount|MaximumFunctionCount|MaximumHistoryCount|MaximumVariableCount|OFS|OutputEncoding|PSCulture|PSDebugContext|PSDefaultParameterValues|PSEmailServer|PSItem|PSModuleAutoLoadingPreference|PSModuleAutoloadingPreference|PSSenderInfo|PSSessionApplicationName|PSSessionConfigurationName|PSSessionOption|ProgressPreference|VerbosePreference|WarningPreference|WhatIfPreference))((?:\\.(?:\\p{L}|\\d|_)+)*\\b)?\\b"
				},
				{
					"captures": {
						"0": {
							"name": "variable.other.readwrite.powershell"
						},
						"1": {
							"name": "punctuation.definition.variable.powershell"
						},
						"2": {
							"name": "storage.modifier.scope.powershell"
						},
						"4": {
							"name": "variable.other.member.powershell"
						}
					},
					"match": "(?i:(\\$|@)(global|local|private|script|using|workflow):((?:\\p{L}|\\d|_)+))((?:\\.(?:\\p{L}|\\d|_)+)*\\b)?"
				},
				{
					"captures": {
						"0": {
							"name": "variable.other.readwrite.powershell"
						},
						"1": {
							"name": "punctuation.definition.variable.powershell"
						},
						"2": {
							"name": "punctuation.section.braces.begin.powershell"
						},
						"3": {
							"name": "storage.modifier.scope.powershell"
						},
						"5": {
							"name": "punctuation.section.braces.end.powershell"
						},
						"6": {
							"name": "variable.other.member.powershell"
						}
					},
					"match": "(?i:(\\$)(\\{)(global|local|private|script|using|workflow):([^}]*[^}`])(\\}))((?:\\.(?:\\p{L}|\\d|_)+)*\\b)?"
				},
				{
					"captures": {
						"0": {
							"name": "variable.other.readwrite.powershell"
						},
						"1": {
							"name": "punctuation.definition.variable.powershell"
						},
						"2": {
							"name": "support.variable.drive.powershell"
						},
						"4": {
							"name": "variable.other.member.powershell"
						}
					},
					"match": "(?i:(\\$|@)((?:\\p{L}|\\d|_)+:)?((?:\\p{L}|\\d|_)+))((?:\\.(?:\\p{L}|\\d|_)+)*\\b)?"
				},
				{
					"captures": {
						"0": {
							"name": "variable.other.readwrite.powershell"
						},
						"1": {
							"name": "punctuation.definition.variable.powershell"
						},
						"2": {
							"name": "punctuation.section.braces.begin.powershell"
						},
						"3": {
							"name": "support.variable.drive.powershell"
						},
						"5": {
							"name": "punctuation.section.braces.end.powershell"
						},
						"6": {
							"name": "variable.other.member.powershell"
						}
					},
					"match": "(?i:(\\$)(\\{)((?:\\p{L}|\\d|_)+:)?([^}]*[^}`])(\\}))((?:\\.(?:\\p{L}|\\d|_)+)*\\b)?"
				}
			]
		},
		"UsingDirective": {
			"match": "(?<!\\w)(?i:(using))\\s+(?i:(namespace|module))\\s+(?i:((?:\\w+(?:\\.)?)+))",
			"captures": {
				"1": {
					"name": "keyword.control.using.powershell"
				},
				"2": {
					"name": "keyword.other.powershell"
				},
				"3": {
					"name": "variable.parameter.powershell"
				}
			}
		},
		"RequiresDirective": {
			"begin": "(?<=#)(?i:(requires))\\s",
			"beginCaptures": {
				"0": {
					"name": "keyword.control.requires.powershell"
				}
			},
			"end": "$",
			"name": "meta.requires.powershell",
			"patterns": [
				{
					"match": "\\-(?i:Modules|PSSnapin|RunAsAdministrator|ShellId|Version|Assembly|PSEdition)",
					"name": "keyword.other.powershell"
				},
				{
					"match": "(?<!-)\\b\\p{L}+|\\d+(?:\\.\\d+)*",
					"name": "variable.parameter.powershell"
				},
				{
					"include": "#hashtable"
				}
			]
		},
		"variableNoProperty": {
			"patterns": [
				{
					"captures": {
						"0": {
							"name": "constant.language.powershell"
						},
						"1": {
							"name": "punctuation.definition.variable.powershell"
						}
					},
					"comment": "These are special constants.",
					"match": "(\\$)(?i:(False|Null|True))\\b"
				},
				{
					"captures": {
						"0": {
							"name": "support.constant.variable.powershell"
						},
						"1": {
							"name": "punctuation.definition.variable.powershell"
						},
						"3": {
							"name": "variable.other.member.powershell"
						}
					},
					"comment": "These are the other built-in constants.",
					"match": "(\\$)(?i:(Error|ExecutionContext|Host|Home|PID|PsHome|PsVersionTable|ShellID))\\b"
				},
				{
					"captures": {
						"0": {
							"name": "support.variable.automatic.powershell"
						},
						"1": {
							"name": "punctuation.definition.variable.powershell"
						},
						"3": {
							"name": "variable.other.member.powershell"
						}
					},
					"comment": "Automatic variables are not constants, but they are read-only...",
					"match": "(\\$)((?:[$^?])|(?i:_|Args|ConsoleFileName|Event|EventArgs|EventSubscriber|ForEach|Input|LastExitCode|Matches|MyInvocation|NestedPromptLevel|Profile|PSBoundParameters|PsCmdlet|PsCulture|PSDebugContext|PSItem|PSCommandPath|PSScriptRoot|PsUICulture|Pwd|Sender|SourceArgs|SourceEventArgs|StackTrace|Switch|This)\\b)"
				},
				{
					"captures": {
						"0": {
							"name": "variable.language.powershell"
						},
						"1": {
							"name": "punctuation.definition.variable.powershell"
						},
						"3": {
							"name": "variable.other.member.powershell"
						}
					},
					"comment": "Style preference variables as language variables so that they stand out.",
					"match": "(\\$)(?i:(ConfirmPreference|DebugPreference|ErrorActionPreference|ErrorView|FormatEnumerationLimit|InformationPreference|LogCommandHealthEvent|LogCommandLifecycleEvent|LogEngineHealthEvent|LogEngineLifecycleEvent|LogProviderHealthEvent|LogProviderLifecycleEvent|MaximumAliasCount|MaximumDriveCount|MaximumErrorCount|MaximumFunctionCount|MaximumHistoryCount|MaximumVariableCount|OFS|OutputEncoding|PSCulture|PSDebugContext|PSDefaultParameterValues|PSEmailServer|PSItem|PSModuleAutoLoadingPreference|PSModuleAutoloadingPreference|PSSenderInfo|PSSessionApplicationName|PSSessionConfigurationName|PSSessionOption|ProgressPreference|VerbosePreference|WarningPreference|WhatIfPreference))\\b"
				},
				{
					"captures": {
						"0": {
							"name": "variable.other.readwrite.powershell"
						},
						"1": {
							"name": "punctuation.definition.variable.powershell"
						},
						"2": {
							"name": "storage.modifier.scope.powershell"
						},
						"4": {
							"name": "variable.other.member.powershell"
						}
					},
					"match": "(?i:(\\$)(global|local|private|script|using|workflow):((?:\\p{L}|\\d|_)+))"
				},
				{
					"captures": {
						"0": {
							"name": "variable.other.readwrite.powershell"
						},
						"1": {
							"name": "punctuation.definition.variable.powershell"
						},
						"2": {
							"name": "storage.modifier.scope.powershell"
						},
						"4": {
							"name": "keyword.other.powershell"
						},
						"5": {
							"name": "variable.other.member.powershell"
						}
					},
					"match": "(?i:(\\$)(\\{)(global|local|private|script|using|workflow):([^}]*[^}`])(\\}))"
				},
				{
					"captures": {
						"0": {
							"name": "variable.other.readwrite.powershell"
						},
						"1": {
							"name": "punctuation.definition.variable.powershell"
						},
						"2": {
							"name": "support.variable.drive.powershell"
						},
						"4": {
							"name": "variable.other.member.powershell"
						}
					},
					"match": "(?i:(\\$)((?:\\p{L}|\\d|_)+:)?((?:\\p{L}|\\d|_)+))"
				},
				{
					"captures": {
						"0": {
							"name": "variable.other.readwrite.powershell"
						},
						"1": {
							"name": "punctuation.definition.variable.powershell"
						},
						"2": {
							"name": "punctuation.section.braces.begin"
						},
						"3": {
							"name": "support.variable.drive.powershell"
						},
						"5": {
							"name": "punctuation.section.braces.end"
						}
					},
					"match": "(?i:(\\$)(\\{)((?:\\p{L}|\\d|_)+:)?([^}]*[^}`])(\\}))"
				}
			]
		},
		"hashtable": {
			"begin": "(@)(\\{)",
			"beginCaptures": {
				"1": {
					"name": "keyword.other.hashtable.begin.powershell"
				},
				"2": {
					"name": "punctuation.section.braces.begin.powershell"
				}
			},
			"end": "(\\})",
			"endCaptures": {
				"1": {
					"name": "punctuation.section.braces.end.powershell"
				}
			},
			"name": "meta.hashtable.powershell",
			"patterns": [
				{
					"captures": {
						"1": {
							"name": "punctuation.definition.string.begin.powershell"
						},
						"2": {
							"name": "variable.other.readwrite.powershell"
						},
						"3": {
							"name": "punctuation.definition.string.end.powershell"
						},
						"4": {
							"name": "keyword.operator.assignment.powershell"
						}
					},
					"match": "\\b((?:\\'|\\\")?)(\\w+)((?:\\'|\\\")?)(?:\\s+)?(=)(?:\\s+)?",
					"name": "meta.hashtable.assignment.powershell"
				},
				{
					"include": "#scriptblock"
				},
				{
					"include": "$self"
				}
			]
		},
		"doubleQuotedString": {
			"begin": "[\"\\x{201C}-\\x{201E}]",
			"beginCaptures": {
				"0": {
					"name": "punctuation.definition.string.begin.powershell"
				}
			},
			"end": "[\"\\x{201C}-\\x{201E}]",
			"applyEndPatternLast": true,
			"endCaptures": {
				"0": {
					"name": "punctuation.definition.string.end.powershell"
				}
			},
			"name": "string.quoted.double.powershell",
			"patterns": [
				{
					"match": "(?i)\\b[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,64}\\b"
				},
				{
					"include": "#variableNoProperty"
				},
				{
					"include": "#doubleQuotedStringEscapes"
				},
				{
					"match": "[\"\\x{201C}-\\x{201E}]{2}",
					"name": "constant.character.escape.powershell"
				},
				{
					"include": "#interpolation"
				},
				{
					"match": "`\\s*$",
					"name": "keyword.other.powershell"
				}
			]
		}
	}
}
```

--------------------------------------------------------------------------------

---[FILE: extensions/prompt-basics/.vscodeignore]---
Location: vscode-main/extensions/prompt-basics/.vscodeignore

```text
test/**
src/**
tsconfig.json
cgmanifest.json
```

--------------------------------------------------------------------------------

---[FILE: extensions/prompt-basics/cgmanifest.json]---
Location: vscode-main/extensions/prompt-basics/cgmanifest.json

```json
{
	"registrations": [],
	"version": 1
}
```

--------------------------------------------------------------------------------

---[FILE: extensions/prompt-basics/language-configuration.json]---
Location: vscode-main/extensions/prompt-basics/language-configuration.json

```json
{
	"comments": {
		// symbols used for start and end a block comment. Remove this entry if your language does not support block comments
		"blockComment": [
			"<!--",
			"-->"
		]
	},
	// symbols used as brackets
	"brackets": [
		[
			"{",
			"}"
		],
		[
			"[",
			"]"
		],
		[
			"(",
			")"
		]
	],
	"colorizedBracketPairs": [],
	"autoClosingPairs": [
		{
			"open": "{",
			"close": "}"
		},
		{
			"open": "[",
			"close": "]"
		},
		{
			"open": "(",
			"close": ")"
		},
		{
			"open": "<",
			"close": ">",
			"notIn": [
				"string"
			]
		},
	],
	"surroundingPairs": [
		[
			"(",
			")"
		],
		[
			"[",
			"]"
		],
		[
			"`",
			"`"
		],
		[
			"_",
			"_"
		],
		[
			"*",
			"*"
		],
		[
			"{",
			"}"
		],
		[
			"'",
			"'"
		],
		[
			"\"",
			"\""
		],
		[
			"<",
			">"
		],
		[
			"~",
			"~"
		],
		[
			"$",
			"$"
		]
	],
	"folding": {
		"offSide": true,
		"markers": {
			"start": "^\\s*<!--\\s*#?region\\b.*-->",
			"end": "^\\s*<!--\\s*#?endregion\\b.*-->"
		}
	},
	"wordPattern": {
		"pattern": "(\\p{Alphabetic}|\\p{Number}|\\p{Nonspacing_Mark})(((\\p{Alphabetic}|\\p{Number}|\\p{Nonspacing_Mark})|[_])?(\\p{Alphabetic}|\\p{Number}|\\p{Nonspacing_Mark}))*",
		"flags": "ug"
	},
}
```

--------------------------------------------------------------------------------

---[FILE: extensions/prompt-basics/package.json]---
Location: vscode-main/extensions/prompt-basics/package.json

```json
{
  "name": "prompt",
  "displayName": "%displayName%",
  "description": "%description%",
  "version": "1.0.0",
  "publisher": "vscode",
  "license": "MIT",
  "engines": {
    "vscode": "^1.20.0"
  },
  "categories": [
    "Programming Languages"
  ],
  "contributes": {
    "languages": [
      {
        "id": "prompt",
        "aliases": [
          "Prompt",
          "prompt"
        ],
        "extensions": [
          ".prompt.md"
        ],
        "configuration": "./language-configuration.json"
      },
      {
        "id": "instructions",
        "aliases": [
          "Instructions",
          "instructions"
        ],
        "extensions": [
          ".instructions.md",
          "copilot-instructions.md"
        ],
        "configuration": "./language-configuration.json"
      },
      {
        "id": "chatagent",
        "aliases": [
          "Agent",
          "chat agent"
        ],
        "extensions": [
          ".agent.md",
          ".chatmode.md"
        ],
        "filenamePatterns": [
          "**/.github/agents/*.md"
        ],
        "configuration": "./language-configuration.json"
      }
    ],
    "grammars": [
      {
        "language": "prompt",
        "path": "./syntaxes/prompt.tmLanguage.json",
        "scopeName": "text.html.markdown.prompt",
        "unbalancedBracketScopes": [
          "markup.underline.link.markdown",
          "punctuation.definition.list.begin.markdown"
        ]
      },
      {
        "language": "instructions",
        "path": "./syntaxes/prompt.tmLanguage.json",
        "scopeName": "text.html.markdown.prompt",
        "unbalancedBracketScopes": [
          "markup.underline.link.markdown",
          "punctuation.definition.list.begin.markdown"
        ]
      },
      {
        "language": "chatagent",
        "path": "./syntaxes/prompt.tmLanguage.json",
        "scopeName": "text.html.markdown.prompt",
        "unbalancedBracketScopes": [
          "markup.underline.link.markdown",
          "punctuation.definition.list.begin.markdown"
        ]
      }
    ],
    "configurationDefaults": {
      "[prompt]": {
        "editor.insertSpaces": true,
        "editor.tabSize": 2,
        "editor.autoIndent": "advanced",
        "editor.unicodeHighlight.ambiguousCharacters": false,
        "editor.unicodeHighlight.invisibleCharacters": false,
        "diffEditor.ignoreTrimWhitespace": false,
        "editor.wordWrap": "on",
        "editor.quickSuggestions": {
          "comments": "off",
          "strings": "on",
          "other": "on"
        },
        "editor.wordBasedSuggestions": "off"
      },
      "[instructions]": {
        "editor.insertSpaces": true,
        "editor.tabSize": 2,
        "editor.autoIndent": "advanced",
        "editor.unicodeHighlight.ambiguousCharacters": false,
        "editor.unicodeHighlight.invisibleCharacters": false,
        "diffEditor.ignoreTrimWhitespace": false,
        "editor.wordWrap": "on",
        "editor.quickSuggestions": {
          "comments": "off",
          "strings": "on",
          "other": "on"
        },
        "editor.wordBasedSuggestions": "off"
      },
      "[chatagent]": {
        "editor.insertSpaces": true,
        "editor.tabSize": 2,
        "editor.autoIndent": "advanced",
        "editor.unicodeHighlight.ambiguousCharacters": false,
        "editor.unicodeHighlight.invisibleCharacters": false,
        "diffEditor.ignoreTrimWhitespace": false,
        "editor.wordWrap": "on",
        "editor.quickSuggestions": {
          "comments": "off",
          "strings": "on",
          "other": "on"
        },
        "editor.wordBasedSuggestions": "off"
      }
    }
  },
  "scripts": {},
  "repository": {
    "type": "git",
    "url": "https://github.com/microsoft/vscode.git"
  }
}
```

--------------------------------------------------------------------------------

---[FILE: extensions/prompt-basics/package.nls.json]---
Location: vscode-main/extensions/prompt-basics/package.nls.json

```json
{
	"displayName": "Prompt Language Basics",
	"description": "Syntax highlighting for Prompt and Instructions documents."
}
```

--------------------------------------------------------------------------------

---[FILE: extensions/prompt-basics/syntaxes/prompt.tmLanguage.json]---
Location: vscode-main/extensions/prompt-basics/syntaxes/prompt.tmLanguage.json

```json
{
	"information_for_contributors": [
		"This file has been converted from https://github.com/microsoft/vscode-markdown-tm-grammar/blob/master/syntaxes/markdown.tmLanguage",
		"If you want to provide a fix or improvement, please create a pull request against the original repository.",
		"Once accepted there, we are happy to receive an update request."
	],
	"version": "0.1.0",
	"name": "Prompt",
	"scopeName": "text.html.markdown.prompt",
	"patterns": [
		{
			"include": "text.html.markdown"
		}
	]
}
```

--------------------------------------------------------------------------------

---[FILE: extensions/pug/.vscodeignore]---
Location: vscode-main/extensions/pug/.vscodeignore

```text
test/**
cgmanifest.json
```

--------------------------------------------------------------------------------

---[FILE: extensions/pug/cgmanifest.json]---
Location: vscode-main/extensions/pug/cgmanifest.json

```json
{
	"registrations": [
		{
			"component": {
				"type": "git",
				"git": {
					"name": "davidrios/pug-tmbundle",
					"repositoryUrl": "https://github.com/davidrios/pug-tmbundle",
					"commitHash": "ae1dd60ca4aa4b45617f236d584216cd8d19eecf"
				}
			},
			"license": "MIT",
			"description": "The file syntaxes/pug.tmLanguage.json was derived from Syntaxes/Pug.JSON-tmLanguage in https://github.com/davidrios/pug-tmbundle.",
			"version": "0.0.0"
		}
	],
	"version": 1
}
```

--------------------------------------------------------------------------------

---[FILE: extensions/pug/language-configuration.json]---
Location: vscode-main/extensions/pug/language-configuration.json

```json
{
	"comments": {
		"lineComment": "//-"
	},
	"brackets": [
		["{", "}"],
		["[", "]"],
		["(", ")"]
	],
	"autoClosingPairs": [
		["{", "}"],
		["[", "]"],
		["(", ")"],
		{ "open": "\"", "close": "\"", "notIn": ["string"] },
		{ "open": "'", "close": "'", "notIn": ["string"] }
	],
	"surroundingPairs": [
		["{", "}"],
		["[", "]"],
		["(", ")"],
		["'", "'"],
		["\"", "\""]
	],
	"folding": {
		"offSide": true
	}
}
```

--------------------------------------------------------------------------------

---[FILE: extensions/pug/package.json]---
Location: vscode-main/extensions/pug/package.json

```json
{
  "name": "pug",
  "displayName": "%displayName%",
  "description": "%description%",
  "version": "1.0.0",
  "publisher": "vscode",
  "license": "MIT",
  "engines": {
    "vscode": "*"
  },
  "scripts": {
    "update-grammar": "node ../node_modules/vscode-grammar-updater/bin davidrios/pug-tmbundle Syntaxes/Pug.JSON-tmLanguage ./syntaxes/pug.tmLanguage.json"
  },
  "categories": ["Programming Languages"],
  "contributes": {
    "languages": [
      {
        "id": "jade",
        "extensions": [
          ".pug",
          ".jade"
        ],
        "aliases": [
          "Pug",
          "Jade",
          "jade"
        ],
        "configuration": "./language-configuration.json"
      }
    ],
    "grammars": [
      {
        "language": "jade",
        "scopeName": "text.pug",
        "path": "./syntaxes/pug.tmLanguage.json"
      }
    ],
    "configurationDefaults": {
      "[jade]": {
        "diffEditor.ignoreTrimWhitespace": false
      }
    }
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/microsoft/vscode.git"
  }
}
```

--------------------------------------------------------------------------------

---[FILE: extensions/pug/package.nls.json]---
Location: vscode-main/extensions/pug/package.nls.json

```json
{
	"displayName": "Pug Language Basics",
	"description": "Provides syntax highlighting and bracket matching in Pug files."
}
```

--------------------------------------------------------------------------------

---[FILE: extensions/pug/syntaxes/pug.tmLanguage.json]---
Location: vscode-main/extensions/pug/syntaxes/pug.tmLanguage.json

```json
{
	"information_for_contributors": [
		"This file has been converted from https://github.com/davidrios/pug-tmbundle/blob/master/Syntaxes/Pug.JSON-tmLanguage",
		"If you want to provide a fix or improvement, please create a pull request against the original repository.",
		"Once accepted there, we are happy to receive an update request."
	],
	"version": "https://github.com/davidrios/pug-tmbundle/commit/ae1dd60ca4aa4b45617f236d584216cd8d19eecf",
	"name": "Pug",
	"scopeName": "text.pug",
	"patterns": [
		{
			"match": "^(!!!|doctype)(\\s*[a-zA-Z0-9-_]+)?",
			"name": "meta.tag.sgml.doctype.html",
			"comment": "Doctype declaration."
		},
		{
			"begin": "^(\\s*)//-",
			"end": "^(?!(\\1\\s)|\\s*$)",
			"name": "comment.unbuffered.block.pug",
			"comment": "Unbuffered (pug-only) comments."
		},
		{
			"begin": "^(\\s*)//",
			"end": "^(?!(\\1\\s)|\\s*$)",
			"name": "string.comment.buffered.block.pug",
			"comment": "Buffered (html) comments.",
			"patterns": [
				{
					"captures": {
						"1": {
							"name": "invalid.illegal.comment.comment.block.pug"
						}
					},
					"match": "^\\s*(//)(?!-)",
					"name": "string.comment.buffered.block.pug",
					"comment": "Buffered comments inside buffered comments will generate invalid html."
				}
			]
		},
		{
			"begin": "<!--",
			"end": "--\\s*>",
			"name": "comment.unbuffered.block.pug",
			"patterns": [
				{
					"match": "--",
					"name": "invalid.illegal.comment.comment.block.pug"
				}
			]
		},
		{
			"begin": "^(\\s*)-$",
			"end": "^(?!(\\1\\s)|\\s*$)",
			"name": "source.js",
			"comment": "Unbuffered code block.",
			"patterns": [
				{
					"include": "source.js"
				}
			]
		},
		{
			"begin": "^(\\s*)(script)((\\.$)|(?=[^\\n]*((text|application)/javascript|module).*\\.$))",
			"beginCaptures": {
				"2": {
					"name": "entity.name.tag.pug"
				}
			},
			"end": "^(?!(\\1\\s)|\\s*$)",
			"name": "meta.tag.other",
			"comment": "Script tag with JavaScript code.",
			"patterns": [
				{
					"begin": "\\G(?=\\()",
					"end": "$",
					"patterns": [
						{
							"include": "#tag_attributes"
						}
					]
				},
				{
					"begin": "\\G(?=[.#])",
					"end": "$",
					"patterns": [
						{
							"include": "#complete_tag"
						}
					]
				},
				{
					"include": "source.js"
				}
			]
		},
		{
			"begin": "^(\\s*)(style)((\\.$)|(?=[.#(].*\\.$))",
			"beginCaptures": {
				"2": {
					"name": "entity.name.tag.pug"
				}
			},
			"end": "^(?!(\\1\\s)|\\s*$)",
			"name": "meta.tag.other",
			"comment": "Style tag with CSS code.",
			"patterns": [
				{
					"begin": "\\G(?=\\()",
					"end": "$",
					"patterns": [
						{
							"include": "#tag_attributes"
						}
					]
				},
				{
					"begin": "\\G(?=[.#])",
					"end": "$",
					"patterns": [
						{
							"include": "#complete_tag"
						}
					]
				},
				{
					"include": "source.css"
				}
			]
		},
		{
			"begin": "^(\\s*):(sass)(?=\\(|$)",
			"beginCaptures": {
				"2": {
					"name": "constant.language.name.sass.filter.pug"
				}
			},
			"end": "^(?!(\\1\\s)|\\s*$)",
			"name": "source.sass.filter.pug",
			"patterns": [
				{
					"include": "#tag_attributes"
				},
				{
					"include": "source.sass"
				}
			]
		},
		{
			"begin": "^(\\s*):(scss)(?=\\(|$)",
			"beginCaptures": {
				"2": {
					"name": "constant.language.name.scss.filter.pug"
				}
			},
			"end": "^(?!(\\1\\s)|\\s*$)",
			"name": "source.css.scss.filter.pug",
			"patterns": [
				{
					"include": "#tag_attributes"
				},
				{
					"include": "source.css.scss"
				}
			]
		},
		{
			"begin": "^(\\s*):(less)(?=\\(|$)",
			"beginCaptures": {
				"2": {
					"name": "constant.language.name.less.filter.pug"
				}
			},
			"end": "^(?!(\\1\\s)|\\s*$)",
			"name": "source.less.filter.pug",
			"patterns": [
				{
					"include": "#tag_attributes"
				},
				{
					"include": "source.less"
				}
			]
		},
		{
			"begin": "^(\\s*):(stylus)(?=\\(|$)",
			"beginCaptures": {
				"2": {
					"name": "constant.language.name.stylus.filter.pug"
				}
			},
			"end": "^(?!(\\1\\s)|\\s*$)",
			"patterns": [
				{
					"include": "#tag_attributes"
				},
				{
					"include": "source.stylus"
				}
			]
		},
		{
			"begin": "^(\\s*):(coffee(-?script)?)(?=\\(|$)",
			"beginCaptures": {
				"2": {
					"name": "constant.language.name.coffeescript.filter.pug"
				}
			},
			"end": "^(?!(\\1\\s)|\\s*$)",
			"name": "source.coffeescript.filter.pug",
			"patterns": [
				{
					"include": "#tag_attributes"
				},
				{
					"include": "source.coffee"
				}
			]
		},
		{
			"begin": "^(\\s*):(uglify-js)(?=\\(|$)",
			"beginCaptures": {
				"2": {
					"name": "constant.language.name.js.filter.pug"
				}
			},
			"end": "^(?!(\\1\\s)|\\s*$)",
			"name": "source.js.filter.pug",
			"patterns": [
				{
					"include": "#tag_attributes"
				},
				{
					"include": "source.js"
				}
			]
		},
		{
			"begin": "^(\\s*)((:(?=.))|(:$))",
			"beginCaptures": {
				"4": {
					"name": "invalid.illegal.empty.generic.filter.pug"
				}
			},
			"end": "^(?!(\\1\\s)|\\s*$)",
			"comment": "Generic Pug filter.",
			"patterns": [
				{
					"begin": "\\G(?<=:)(?=.)",
					"end": "$",
					"name": "name.generic.filter.pug",
					"patterns": [
						{
							"match": "\\G\\(",
							"name": "invalid.illegal.name.generic.filter.pug"
						},
						{
							"match": "[\\w-]",
							"name": "constant.language.name.generic.filter.pug"
						},
						{
							"include": "#tag_attributes"
						},
						{
							"match": "\\W",
							"name": "invalid.illegal.name.generic.filter.pug"
						}
					]
				}
			]
		},
		{
			"begin": "^(\\s*)(?:(?=\\.$)|(?:(?=[\\w.#].*?\\.$)(?=(?:(?:(?:(?:(?:#[\\w-]+)|(?:\\.[\\w-]+))|(?:(?:[#!]\\{[^}]*\\})|(?:\\w(?:(?:[\\w:-]+[\\w-])|(?:[\\w-]*)))))(?:(?:#[\\w-]+)|(?:\\.[\\w-]+)|(?:\\((?:[^()\\'\\\"]*(?:(?:\\'(?:[^\\']|(?:(?<!\\\\)\\\\\\'))*\\')|(?:\\\"(?:[^\\\"]|(?:(?<!\\\\)\\\\\\\"))*\\\")))*[^()]*\\))*)*)(?:(?:(?::\\s+)|(?<=\\)))(?:(?:(?:(?:#[\\w-]+)|(?:\\.[\\w-]+))|(?:(?:[#!]\\{[^}]*\\})|(?:\\w(?:(?:[\\w:-]+[\\w-])|(?:[\\w-]*)))))(?:(?:#[\\w-]+)|(?:\\.[\\w-]+)|(?:\\((?:[^()\\'\\\"]*(?:(?:\\'(?:[^\\']|(?:(?<!\\\\)\\\\\\'))*\\')|(?:\\\"(?:[^\\\"]|(?:(?<!\\\\)\\\\\\\"))*\\\")))*[^()]*\\))*)*))*)\\.$)(?:(?:(#[\\w-]+)|(\\.[\\w-]+))|((?:[#!]\\{[^}]*\\})|(?:\\w(?:(?:[\\w:-]+[\\w-])|(?:[\\w-]*)))))))",
			"beginCaptures": {
				"2": {
					"name": "meta.selector.css entity.other.attribute-name.id.css.pug"
				},
				"3": {
					"name": "meta.selector.css entity.other.attribute-name.class.css.pug"
				},
				"4": {
					"name": "meta.tag.other entity.name.tag.pug"
				}
			},
			"end": "^(?!(\\1\\s)|\\s*$)",
			"comment": "Generated from dot_block_tag.py",
			"patterns": [
				{
					"match": "\\.$",
					"name": "storage.type.function.pug.dot-block-dot"
				},
				{
					"include": "#tag_attributes"
				},
				{
					"include": "#complete_tag"
				},
				{
					"begin": "^(?=.)",
					"end": "$",
					"name": "text.block.pug",
					"patterns": [
						{
							"include": "#inline_pug"
						},
						{
							"include": "#embedded_html"
						},
						{
							"include": "#html_entity"
						},
						{
							"include": "#interpolated_value"
						},
						{
							"include": "#interpolated_error"
						}
					]
				}
			]
		},
		{
			"begin": "^\\s*",
			"end": "$",
			"comment": "All constructs that generally span a single line starting with any number of white-spaces.",
			"patterns": [
				{
					"include": "#inline_pug"
				},
				{
					"include": "#blocks_and_includes"
				},
				{
					"include": "#unbuffered_code"
				},
				{
					"include": "#mixin_definition"
				},
				{
					"include": "#mixin_call"
				},
				{
					"include": "#flow_control"
				},
				{
					"include": "#flow_control_each"
				},
				{
					"include": "#case_conds"
				},
				{
					"begin": "\\|",
					"end": "$",
					"name": "text.block.pipe.pug",
					"comment": "Tag pipe text line.",
					"patterns": [
						{
							"include": "#inline_pug"
						},
						{
							"include": "#embedded_html"
						},
						{
							"include": "#html_entity"
						},
						{
							"include": "#interpolated_value"
						},
						{
							"include": "#interpolated_error"
						}
					]
				},
				{
					"include": "#printed_expression"
				},
				{
					"begin": "\\G(?=(#[^\\{\\w-])|[^\\w.#])",
					"end": "$",
					"comment": "Line starting with characters incompatible with tag name/id/class is standalone text.",
					"patterns": [
						{
							"begin": "</?(?=[!#])",
							"end": ">|$",
							"patterns": [
								{
									"include": "#inline_pug"
								},
								{
									"include": "#interpolated_value"
								},
								{
									"include": "#interpolated_error"
								}
							]
						},
						{
							"include": "#inline_pug"
						},
						{
							"include": "#embedded_html"
						},
						{
							"include": "#html_entity"
						},
						{
							"include": "#interpolated_value"
						},
						{
							"include": "#interpolated_error"
						}
					]
				},
				{
					"include": "#complete_tag"
				}
			]
		}
	],
	"repository": {
		"blocks_and_includes": {
			"captures": {
				"1": {
					"name": "storage.type.import.include.pug"
				},
				"4": {
					"name": "variable.control.import.include.pug"
				}
			},
			"match": "(extends|include|yield|append|prepend|block( (append|prepend))?)\\s+(.*)$",
			"name": "meta.first-class.pug",
			"comment": "Template blocks and includes."
		},
		"unbuffered_code": {
			"begin": "(-|(([a-zA-Z0-9_]+)\\s+=))",
			"beginCaptures": {
				"3": {
					"name": "variable.parameter.javascript.embedded.pug"
				}
			},
			"end": "(?=\\])|(({\\s*)?$)",
			"name": "source.js",
			"comment": "name = function() {}",
			"patterns": [
				{
					"include": "#js_brackets"
				},
				{
					"include": "#babel_parens"
				},
				{
					"include": "source.js"
				}
			]
		},
		"mixin_definition": {
			"match": "(mixin\\s+)([\\w-]+)(?:(\\()\\s*((?:[a-zA-Z_]\\w*\\s*)(?:,\\s*[a-zA-Z_]\\w*\\s*)*)(\\)))?$",
			"captures": {
				"1": {
					"name": "storage.type.function.pug"
				},
				"2": {
					"name": "meta.tag.other entity.name.function.pug"
				},
				"3": {
					"name": "punctuation.definition.parameters.begin.js"
				},
				"4": {
					"name": "variable.parameter.function.js"
				},
				"5": {
					"name": "punctuation.definition.parameters.begin.js"
				}
			}
		},
		"mixin_call": {
			"begin": "((?:mixin\\s+)|\\+)([\\w-]+)",
			"beginCaptures": {
				"1": {
					"name": "storage.type.function.pug"
				},
				"2": {
					"name": "meta.tag.other entity.name.function.pug"
				}
			},
			"end": "(?!\\()|$",
			"patterns": [
				{
					"begin": "(?<!\\))\\(",
					"end": "\\)",
					"name": "args.mixin.pug",
					"patterns": [
						{
							"include": "#js_parens"
						},
						{
							"match": "([^\\s(),=/]+)\\s*=\\s*",
							"captures": {
								"1": {
									"name": "meta.tag.other entity.other.attribute-name.tag.pug"
								}
							}
						},
						{
							"include": "source.js"
						}
					]
				},
				{
					"include": "#tag_attributes"
				}
			]
		},
		"flow_control": {
			"begin": "(for|if|else if|else|until|while|unless|case)(\\s+|$)",
			"captures": {
				"1": {
					"name": "storage.type.function.pug"
				}
			},
			"end": "$",
			"name": "meta.control.flow.pug",
			"comment": "Pug control flow.",
			"patterns": [
				{
					"begin": "",
					"end": "$",
					"name": "js.embedded.control.flow.pug",
					"patterns": [
						{
							"include": "source.js"
						}
					]
				}
			]
		},
		"flow_control_each": {
			"begin": "(each)(\\s+|$)",
			"captures": {
				"1": {
					"name": "storage.type.function.pug"
				}
			},
			"end": "$",
			"name": "meta.control.flow.pug.each",
			"patterns": [
				{
					"match": "([\\w$_]+)(?:\\s*,\\s*([\\w$_]+))?",
					"name": "variable.other.pug.each-var"
				},
				{
					"begin": "",
					"end": "$",
					"name": "js.embedded.control.flow.pug",
					"patterns": [
						{
							"include": "source.js"
						}
					]
				}
			]
		},
		"case_when_paren": {
			"begin": "\\(",
			"end": "\\)",
			"name": "js.when.control.flow.pug",
			"patterns": [
				{
					"include": "#case_when_paren"
				},
				{
					"match": ":",
					"name": "invalid.illegal.name.tag.pug"
				},
				{
					"include": "source.js"
				}
			]
		},
		"case_conds": {
			"begin": "(default|when)((\\s+|(?=:))|$)",
			"captures": {
				"1": {
					"name": "storage.type.function.pug"
				}
			},
			"end": "$",
			"name": "meta.control.flow.pug",
			"comment": "Pug case conditionals.",
			"patterns": [
				{
					"begin": "\\G(?!:)",
					"end": "(?=:\\s+)|$",
					"name": "js.embedded.control.flow.pug",
					"patterns": [
						{
							"include": "#case_when_paren"
						},
						{
							"include": "source.js"
						}
					]
				},
				{
					"begin": ":\\s+",
					"end": "$",
					"name": "tag.case.control.flow.pug",
					"patterns": [
						{
							"include": "#complete_tag"
						}
					]
				}
			]
		},
		"complete_tag": {
			"begin": "(?=[\\w.#])|(:\\s*)",
			"end": "(\\.?$)|(?=:.)",
			"endCaptures": {
				"1": {
					"name": "storage.type.function.pug.dot-block-dot"
				}
			},
			"patterns": [
				{
					"include": "#blocks_and_includes"
				},
				{
					"include": "#unbuffered_code"
				},
				{
					"include": "#mixin_call"
				},
				{
					"include": "#flow_control"
				},
				{
					"include": "#flow_control_each"
				},
				{
					"match": "(?<=:)\\w.*$",
					"name": "invalid.illegal.name.tag.pug"
				},
				{
					"include": "#tag_name"
				},
				{
					"include": "#tag_id"
				},
				{
					"include": "#tag_classes"
				},
				{
					"include": "#tag_attributes"
				},
				{
					"include": "#tag_mixin_attributes"
				},
				{
					"match": "((\\.)\\s+$)|((:)\\s*$)",
					"captures": {
						"2": {
							"name": "invalid.illegal.end.tag.pug"
						},
						"4": {
							"name": "invalid.illegal.end.tag.pug"
						}
					}
				},
				{
					"include": "#printed_expression"
				},
				{
					"include": "#tag_text"
				}
			]
		},
		"tag_name": {
			"begin": "([#!]\\{(?=.*?\\}))|(\\w(([\\w:-]+[\\w-])|([\\w-]*)))",
			"end": "(\\G(?<!\\5[^\\w-]))|\\}|$",
			"name": "meta.tag.other entity.name.tag.pug",
			"patterns": [
				{
					"begin": "\\G(?<=\\{)",
					"end": "(?=\\})",
					"name": "meta.tag.other entity.name.tag.pug",
					"patterns": [
						{
							"match": "{",
							"name": "invalid.illegal.tag.pug"
						},
						{
							"include": "source.js"
						}
					]
				}
			]
		},
		"tag_id": {
			"match": "#[\\w-]+",
			"name": "meta.selector.css entity.other.attribute-name.id.css.pug"
		},
		"tag_classes": {
			"match": "\\.([^\\w-])?[\\w-]*",
			"captures": {
				"1": {
					"name": "invalid.illegal.tag.pug"
				}
			},
			"name": "meta.selector.css entity.other.attribute-name.class.css.pug"
		},
		"tag_attributes": {
			"begin": "(\\(\\s*)",
			"captures": {
				"1": {
					"name": "constant.name.attribute.tag.pug"
				}
			},
			"end": "(\\))",
			"name": "meta.tag.other",
			"patterns": [
				{
					"include": "#tag_attribute_name_paren"
				},
				{
					"include": "#tag_attribute_name"
				},
				{
					"match": "!(?!=)",
					"name": "invalid.illegal.tag.pug"
				},
				{
					"begin": "=\\s*",
					"end": "$|(?=,|(?:\\s+[^!%&*\\-+~|<>?/])|\\))",
					"name": "attribute_value",
					"patterns": [
						{
							"include": "#js_parens"
						},
						{
							"include": "#js_brackets"
						},
						{
							"include": "#js_braces"
						},
						{
							"include": "source.js"
						}
					]
				},
				{
					"begin": "(?<=[%&*\\-+~|<>:?/])\\s+",
					"end": "$|(?=,|(?:\\s+[^!%&*\\-+~|<>?/])|\\))",
					"name": "attribute_value2",
					"patterns": [
						{
							"include": "#js_parens"
						},
						{
							"include": "#js_brackets"
						},
						{
							"include": "#js_braces"
						},
						{
							"include": "source.js"
						}
					]
				}
			]
		},
		"tag_attribute_name": {
			"match": "([^\\s(),=/!]+)\\s*",
			"captures": {
				"1": {
					"name": "entity.other.attribute-name.tag.pug"
				}
			}
		},
		"tag_attribute_name_paren": {
			"begin": "\\(\\s*",
			"end": "\\)",
			"name": "entity.other.attribute-name.tag.pug",
			"patterns": [
				{
					"include": "#tag_attribute_name_paren"
				},
				{
					"include": "#tag_attribute_name"
				}
			]
		},
		"tag_mixin_attributes": {
			"begin": "(&attributes\\()",
			"captures": {
				"1": {
					"name": "entity.name.function.pug"
				}
			},
			"end": "(\\))",
			"name": "meta.tag.other",
			"patterns": [
				{
					"match": "attributes(?=\\))",
					"name": "storage.type.keyword.pug"
				},
				{
					"include": "source.js"
				}
			]
		},
		"tag_text": {
			"begin": "(?=.)",
			"end": "$",
			"patterns": [
				{
					"include": "#inline_pug"
				},
				{
					"include": "#embedded_html"
				},
				{
					"include": "#html_entity"
				},
				{
					"include": "#interpolated_value"
				},
				{
					"include": "#interpolated_error"
				}
			]
		},
		"inline_pug_text": {
			"begin": "",
			"end": "(?=\\])",
			"patterns": [
				{
					"begin": "\\[",
					"end": "\\]",
					"patterns": [
						{
							"include": "#inline_pug_text"
						}
					]
				},
				{
					"include": "#inline_pug"
				},
				{
					"include": "#embedded_html"
				},
				{
					"include": "#html_entity"
				},
				{
					"include": "#interpolated_value"
				},
				{
					"include": "#interpolated_error"
				}
			]
		},
		"inline_pug": {
			"begin": "(?<!\\\\)(#\\[)",
			"captures": {
				"1": {
					"name": "entity.name.function.pug"
				},
				"2": {
					"name": "entity.name.function.pug"
				}
			},
			"end": "(\\])",
			"name": "inline.pug",
			"patterns": [
				{
					"include": "#inline_pug"
				},
				{
					"include": "#mixin_call"
				},
				{
					"begin": "(?<!\\])(?=[\\w.#])|(:\\s*)",
					"end": "(?=\\]|(:.)|=|\\s)",
					"name": "tag.inline.pug",
					"patterns": [
						{
							"include": "#tag_name"
						},
						{
							"include": "#tag_id"
						},
						{
							"include": "#tag_classes"
						},
						{
							"include": "#tag_attributes"
						},
						{
							"include": "#tag_mixin_attributes"
						},
						{
							"include": "#inline_pug"
						},
						{
							"match": "\\[",
							"name": "invalid.illegal.tag.pug"
						}
					]
				},
				{
					"include": "#unbuffered_code"
				},
				{
					"include": "#printed_expression"
				},
				{
					"match": "\\[",
					"name": "invalid.illegal.tag.pug"
				},
				{
					"include": "#inline_pug_text"
				}
			]
		},
		"html_entity": {
			"patterns": [
				{
					"match": "(&)([a-zA-Z0-9]+|#[0-9]+|#x[0-9a-fA-F]+)(;)",
					"name": "constant.character.entity.html.text.pug"
				},
				{
					"match": "[<>&]",
					"name": "invalid.illegal.html_entity.text.pug"
				}
			]
		},
		"interpolated_value": {
			"begin": "(?<!\\\\)[#!]\\{(?=.*?\\})",
			"end": "\\}",
			"name": "string.interpolated.pug",
			"patterns": [
				{
					"match": "{",
					"name": "invalid.illegal.tag.pug"
				},
				{
					"include": "source.js"
				}
			]
		},
		"interpolated_error": {
			"match": "(?<!\\\\)[#!]\\{(?=[^}]*$)",
			"name": "invalid.illegal.tag.pug"
		},
		"printed_expression": {
			"begin": "(!?\\=)\\s*",
			"captures": {
				"1": {
					"name": "constant"
				}
			},
			"end": "(?=\\])|$",
			"name": "source.js",
			"patterns": [
				{
					"include": "#js_brackets"
				},
				{
					"include": "source.js"
				}
			]
		},
		"embedded_html": {
			"begin": "(?=<[^>]*>)",
			"end": "$|(?=>)",
			"name": "html",
			"patterns": [
				{
					"include": "text.html.basic"
				},
				{
					"include": "#interpolated_value"
				},
				{
					"include": "#interpolated_error"
				}
			]
		},
		"js_parens": {
			"begin": "\\(",
			"end": "\\)",
			"patterns": [
				{
					"include": "#js_parens"
				},
				{
					"include": "source.js"
				}
			]
		},
		"js_brackets": {
			"begin": "\\[",
			"end": "\\]",
			"patterns": [
				{
					"include": "#js_brackets"
				},
				{
					"include": "source.js"
				}
			]
		},
		"js_braces": {
			"begin": "\\{",
			"end": "\\}",
			"patterns": [
				{
					"include": "#js_braces"
				},
				{
					"include": "source.js"
				}
			]
		},
		"babel_parens": {
			"begin": "\\(",
			"end": "\\)|(({\\s*)?$)",
			"patterns": [
				{
					"include": "#babel_parens"
				},
				{
					"include": "source.js"
				}
			]
		}
	}
}
```

--------------------------------------------------------------------------------

---[FILE: extensions/python/.vscodeignore]---
Location: vscode-main/extensions/python/.vscodeignore

```text
test/**
cgmanifest.json
.vscode
```

--------------------------------------------------------------------------------

---[FILE: extensions/python/cgmanifest.json]---
Location: vscode-main/extensions/python/cgmanifest.json

```json
{
	"registrations": [
		{
			"component": {
				"type": "git",
				"git": {
					"name": "MagicStack/MagicPython",
					"repositoryUrl": "https://github.com/MagicStack/MagicPython",
					"commitHash": "7d0f2b22a5ad8fccbd7341bc7b7a715169283044"
				}
			},
			"license": "MIT",
			"version": "1.1.1"
		}
	],
	"version": 1
}
```

--------------------------------------------------------------------------------

---[FILE: extensions/python/language-configuration.json]---
Location: vscode-main/extensions/python/language-configuration.json

```json
{
	"comments": {
		"lineComment": "#",
		"blockComment": [ "\"\"\"", "\"\"\"" ]
	},
	"brackets": [
		["{", "}"],
		["[", "]"],
		["(", ")"]
	],
	"autoClosingPairs": [
		{ "open": "{", "close": "}" },
		{ "open": "[", "close": "]" },
		{ "open": "(", "close": ")" },
		{ "open": "\"", "close": "\"", "notIn": ["string"] },
		{ "open": "r\"", "close": "\"", "notIn": ["string", "comment"] },
		{ "open": "R\"", "close": "\"", "notIn": ["string", "comment"] },
		{ "open": "u\"", "close": "\"", "notIn": ["string", "comment"] },
		{ "open": "U\"", "close": "\"", "notIn": ["string", "comment"] },
		{ "open": "f\"", "close": "\"", "notIn": ["string", "comment"] },
		{ "open": "F\"", "close": "\"", "notIn": ["string", "comment"] },
		{ "open": "b\"", "close": "\"", "notIn": ["string", "comment"] },
		{ "open": "B\"", "close": "\"", "notIn": ["string", "comment"] },
		{ "open": "'", "close": "'", "notIn": ["string", "comment"] },
		{ "open": "r'", "close": "'", "notIn": ["string", "comment"] },
		{ "open": "R'", "close": "'", "notIn": ["string", "comment"] },
		{ "open": "u'", "close": "'", "notIn": ["string", "comment"] },
		{ "open": "U'", "close": "'", "notIn": ["string", "comment"] },
		{ "open": "f'", "close": "'", "notIn": ["string", "comment"] },
		{ "open": "F'", "close": "'", "notIn": ["string", "comment"] },
		{ "open": "b'", "close": "'", "notIn": ["string", "comment"] },
		{ "open": "B'", "close": "'", "notIn": ["string", "comment"] },
		{ "open": "`", "close": "`", "notIn": ["string"] }
	],
	"surroundingPairs": [
		["{", "}"],
		["[", "]"],
		["(", ")"],
		["\"", "\""],
		["'", "'"],
		["`", "`"]
	],
	"folding": {
		"offSide": true,
		"markers": {
			"start": "^\\s*#\\s*region\\b",
			"end": "^\\s*#\\s*endregion\\b"
		}
	},
	"onEnterRules": [
		{
			"beforeText": "^\\s*(?:def|class|for|if|elif|else|while|try|with|finally|except|async).*?:\\s*$",
			"action": { "indent": "indent" }
		}
	]
}
```

--------------------------------------------------------------------------------

---[FILE: extensions/python/package.json]---
Location: vscode-main/extensions/python/package.json

```json
{
  "name": "python",
  "displayName": "%displayName%",
  "description": "%description%",
  "version": "1.0.0",
  "publisher": "vscode",
  "license": "MIT",
  "engines": {
    "vscode": "*"
  },
  "categories": ["Programming Languages"],
  "contributes": {
    "languages": [
      {
        "id": "python",
        "extensions": [
          ".py",
          ".rpy",
          ".pyw",
          ".cpy",
          ".gyp",
          ".gypi",
          ".pyi",
          ".ipy",
          ".pyt"
        ],
        "aliases": [
          "Python",
          "py"
        ],
        "filenames": [
          "SConstruct",
          "SConscript"
        ],
        "firstLine": "^#!\\s*/?.*\\bpython[0-9.-]*\\b",
        "configuration": "./language-configuration.json"
      }
    ],
    "grammars": [
      {
        "language": "python",
        "scopeName": "source.python",
        "path": "./syntaxes/MagicPython.tmLanguage.json"
      },
      {
        "scopeName": "source.regexp.python",
        "path": "./syntaxes/MagicRegExp.tmLanguage.json"
      }
    ],
    "configurationDefaults": {
      "[python]": {
        "diffEditor.ignoreTrimWhitespace": false,
        "editor.defaultColorDecorators": "never"
      }
    }
  },
  "scripts": {
    "update-grammar": "node ../node_modules/vscode-grammar-updater/bin MagicStack/MagicPython grammars/MagicPython.tmLanguage ./syntaxes/MagicPython.tmLanguage.json grammars/MagicRegExp.tmLanguage ./syntaxes/MagicRegExp.tmLanguage.json"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/microsoft/vscode.git"
  }
}
```

--------------------------------------------------------------------------------

---[FILE: extensions/python/package.nls.json]---
Location: vscode-main/extensions/python/package.nls.json

```json
{
	"displayName": "Python Language Basics",
	"description": "Provides syntax highlighting, bracket matching and folding in Python files."
}
```

--------------------------------------------------------------------------------

---[FILE: extensions/python/.vscode/launch.json]---
Location: vscode-main/extensions/python/.vscode/launch.json

```json
{
	"version": "0.2.0",
	"configurations": [
		{
			"name": "Launch Extension",
			"type": "extensionHost",
			"request": "launch",
			"runtimeExecutable": "${execPath}",
			"args": [
				"--extensionDevelopmentPath=${workspaceFolder}"
			],
			"stopOnEntry": false,
			"sourceMaps": true,
			"outDir": "${workspaceFolder}/out",
			"preLaunchTask": "npm"
		}
	]
}
```

--------------------------------------------------------------------------------

---[FILE: extensions/python/.vscode/tasks.json]---
Location: vscode-main/extensions/python/.vscode/tasks.json

```json
// Available variables which can be used inside of strings.
// ${workspaceFolder}: the root folder of the team
// ${file}: the current opened file
// ${fileBasename}: the current opened file's basename
// ${fileDirname}: the current opened file's dirname
// ${fileExtname}: the current opened file's extension
// ${cwd}: the current working directory of the spawned process

// A task runner that calls a custom npm script that compiles the extension.
{
	"version": "0.1.0",

	// we want to run npm
	"command": "npm",

	// the command is a shell script
	"isShellCommand": true,

	// show the output window only if unrecognized errors occur.
	"showOutput": "silent",

	// we run the custom script "compile" as defined in package.json
	"args": ["run", "compile"],

	// The tsc compiler is started in watching mode
	"isWatching": true,

	// use the standard tsc in watch mode problem matcher to find compile problems in the output.
	"problemMatcher": "$tsc-watch"
}
```

--------------------------------------------------------------------------------

````
