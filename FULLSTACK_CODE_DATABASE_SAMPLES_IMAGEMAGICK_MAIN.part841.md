---
source_txt: fullstack_samples/ImageMagick-main
converted_utc: 2025-12-18T11:25:35Z
part: 841
parts_total: 851
---

# FULLSTACK CODE DATABASE SAMPLES ImageMagick-main

## Verbatim Content (Part 841 of 851)

````text
================================================================================
FULLSTACK SAMPLES CODE DATABASE (VERBATIM) - ImageMagick-main
================================================================================
Generated: December 18, 2025
Source: fullstack_samples/ImageMagick-main
================================================================================

NOTES:
- This output is verbatim because the source is user-owned.
- Large/binary files may be skipped by size/binary detection limits.

================================================================================

---[FILE: thumbnail-anatomy-framed.fig]---
Location: ImageMagick-main/www/Magick++/thumbnail-anatomy-framed.fig

```text
#FIG 3.2
Portrait
Center
Inches
Letter 
100.00
Single
0
1200 2
2 1 0 1 -1 7 0 0 -1 0.000 0 0 -1 1 0 2
	1 1 1.00 60.00 120.00
	 4800 1200 4350 2250
2 1 0 1 -1 7 0 0 -1 0.000 0 0 -1 1 0 2
	1 1 1.00 60.00 120.00
	 5775 1200 5325 2025
2 1 0 1 -1 7 0 0 -1 0.000 0 0 -1 1 0 2
	1 1 1.00 60.00 120.00
	 6525 4275 5250 4575
2 1 0 1 -1 7 0 0 -1 0.000 0 0 -1 1 0 2
	1 1 1.00 60.00 120.00
	 3825 1200 3600 1875
2 5 0 1 -1 -1 2 0 -1 0.000 0 0 -1 0 0 5
	0 thumbnail-sample-framed.jpg
	 2700 1800 6300 1800 6300 5385 2700 5385 2700 1800
2 1 0 1 -1 7 0 0 -1 0.000 0 0 -1 1 0 2
	1 1 1.00 60.00 120.00
	 6525 3075 6150 3150
2 2 0 1 0 7 10 0 -1 0.000 0 0 -1 0 0 5
	 1650 600 7425 600 7425 6300 1650 6300 1650 600
4 1 -1 0 0 16 10 0.0000 4 120 480 5775 975 Thumb\001
4 1 -1 0 0 16 10 0.0000 4 105 435 5775 1155 Frame\001
4 1 -1 0 0 16 14 0.0000 4 165 2160 4500 5700 FRAMED THUMBNAIL\001
4 1 -1 0 0 16 10 0.0000 4 120 480 3825 975 Thumb\001
4 1 -1 0 0 16 10 0.0000 4 120 465 3825 1155 Border\001
4 1 -1 0 0 16 10 0.0000 4 135 435 4800 1140 Image\001
4 1 -1 0 0 16 10 0.0000 4 120 480 4800 975 Thumb\001
4 1 -1 0 0 16 10 0.0000 4 120 480 6900 3000 Thumb\001
4 1 -1 0 0 16 10 0.0000 4 120 570 6900 3180 Shadow\001
4 1 -1 0 0 16 10 0.0000 4 120 480 6900 4200 Thumb\001
4 1 -1 0 0 16 10 0.0000 4 120 390 6900 4380 Label\001
```

--------------------------------------------------------------------------------

---[FILE: thumbnail-anatomy-plain.fig]---
Location: ImageMagick-main/www/Magick++/thumbnail-anatomy-plain.fig

```text
#FIG 3.2
Portrait
Center
Inches
Letter 
100.00
Single
-3
1200 2
2 1 0 1 -1 7 0 0 -1 0.000 0 0 -1 1 0 2
	1 1 1.00 60.00 120.00
	 3825 1200 3600 1875
2 1 0 1 -1 7 0 0 -1 0.000 0 0 -1 1 0 2
	1 1 1.00 60.00 120.00
	 4950 1200 4575 2100
2 1 0 1 -1 7 0 0 -1 0.000 0 0 -1 1 0 2
	1 1 1.00 60.00 120.00
	 6000 3900 4950 4350
2 5 0 1 -1 -1 2 0 -1 0.000 0 0 -1 0 0 5
	0 thumbnail-sample-plain.jpg
	 2700 1800 5850 1800 5850 4935 2700 4935 2700 1800
2 1 0 1 -1 7 0 0 -1 0.000 0 0 -1 1 0 2
	1 1 1.00 60.00 120.00
	 6000 3075 5250 3375
2 2 0 1 0 7 10 0 -1 0.000 0 0 -1 0 0 5
	 1800 600 6900 600 6900 6000 1800 6000 1800 600
4 1 -1 0 0 16 14 0.0000 4 165 1875 4275 5250 PLAIN THUMBNAIL\001
4 1 -1 0 0 16 10 0.0000 4 120 480 3825 975 Thumb\001
4 1 -1 0 0 16 10 0.0000 4 120 465 3825 1155 Border\001
4 1 -1 0 0 16 10 0.0000 4 135 435 4950 1140 Image\001
4 1 -1 0 0 16 10 0.0000 4 120 480 4950 975 Thumb\001
4 1 -1 0 0 16 10 0.0000 4 120 570 6300 3180 Shadow\001
4 1 -1 0 0 16 10 0.0000 4 120 480 6300 3000 Thumb\001
4 1 -1 0 0 16 10 0.0000 4 120 390 6300 4005 Label\001
4 1 -1 0 0 16 10 0.0000 4 120 480 6300 3825 Thumb\001
```

--------------------------------------------------------------------------------

---[FILE: TypeMetric.html]---
Location: ImageMagick-main/www/Magick++/TypeMetric.html

```text
<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Magick++ API: Type Metrics</title>
<link rel="stylesheet" href="magick.css" type="text/css" />
</head>
<body>
<div class="doc-section">
<h1 align="center">Magick::TypeMetric</h1>
<p>The <i>TypeMetric</i> class provides the means to pass data from the Image class's TypeMetric method to the user. It provides information regarding font metrics such as ascent, descent, text width, text height, and maximum horizontal advance. The units of these font metrics are in pixels, and that the metrics are dependent on the current Image font (default Ghostscript's "Helvetica"), pointsize (default 12 points), and x/y resolution (default 72 DPI) settings.</p>
<p>The pixel units may be converted to points (the standard resolution-independent measure used by the typesetting industry) via the following equation:</p>
<pre class="text">
size_points = (size_pixels * 72)/resolution
</pre>
<p>where resolution is in dots-per-inch (DPI). This means that at the default image resolution, there is one pixel per point.</p>
<p>Note that a font's pointsize is only a first-order approximation of the font height (ascender + descender) in points. The relationship between the specified pointsize and the rendered font height is determined by the font designer.</p>
<p>See <a href="http://freetype.sourceforge.net/freetype2/docs/glyphs/index.html">FreeType Glyph Conventions</a> for a detailed description of font metrics related issues.</p>
<p style="margin-bottom: 0cm">The methods available in the <i>TypeMetric</i> class are shown in the following table:</p>
<p align="center" style="margin-bottom: 0cm"><b>TypeMetric Methods</b></p>
<ul><table width="100%" border="1" cellpadding="2" cellspacing="2">
<tr>
<td>
<p align="center"><b>Method</b></p></td>
<td>
<p align="center"><b>Returns</b></p></td>
<td>
<p><b>Units</b></p></td>
<td>
<p align="center"><b>Signature</b></p></td>
<td>
<p align="center"><b>Description</b></p></td></tr>
<tr>
<td>
<p align="center"><a name="ascent"></a><font size="2">ascent</font></p></td>
<td>
<p><font size="2">double</font></p></td>
<td>
<p><font size="2">Pixels</font></p></td>
<td>
<p><font size="2">void</font></p></td>
<td>
<p><font size="2">Returns the distance in pixels from the text baseline to the highest/upper grid coordinate used to place an outline point. Always a positive value.</font></p></td></tr>
<tr>
<td>
<p align="center"><a name="descent"></a><font size="2">descent</font></p></td>
<td>
<p><font size="2">double</font></p></td>
<td>
<p><font size="2">Pixels</font></p></td>
<td>
<p><font size="2">void</font></p></td>
<td>
<p><font size="2">Returns the distance in pixels from the baseline to the lowest grid coordinate used to place an outline point. Always a negative value.</font></p></td></tr>
<tr>
<td>
<p align="center"><a name="textWidth"></a><font size="2">textWidth</font></p></td>
<td>
<p><font size="2">double</font></p></td>
<td>
<p><font size="2">Pixels</font></p></td>
<td>
<p><font size="2">void</font></p></td>
<td>
<p><font size="2">Returns text width in pixels.</font></p></td></tr>
<tr>
<td>
<p align="center"><a name="textHeight"></a><font size="2">textHeight</font></p></td>
<td>
<p><font size="2">double</font></p></td>
<td>
<p><font size="2">Pixels</font></p></td>
<td>
<p><font size="2">void</font></p></td>
<td>
<p><font size="2">Returns text height in pixels.</font></p></td></tr>
<tr>
<td>
<p align="center"><a name="maxHorizontalAdvance"></a><font size="2">maxHorizontalAdvance</font></p></td>
<td>
<p><font size="2">double</font></p></td>
<td>
<p><font size="2">Pixels</font></p></td>
<td>
<p><font size="2">void</font></p></td>
<td>
<p><font size="2">Returns the maximum horizontal advance (advance from the beginning of a character to the beginning of the next character) in pixels.</font></p></td></tr></table></ul>
</div>
</body>
</html>
```

--------------------------------------------------------------------------------

---[FILE: analyze.c]---
Location: ImageMagick-main/www/source/analyze.c

```c
/*
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                                             %
%                                                                             %
%                AAA   N   N   AAA   L      Y   Y  ZZZZZ  EEEEE               %
%               A   A  NN  N  A   A  L       Y Y      ZZ  E                   %
%               AAAAA  N N N  AAAAA  L        Y     ZZZ   EEE                 %
%               A   A  N  NN  A   A  L        Y    ZZ     E                   %
%               A   A  N   N  A   A  LLLLL    Y    ZZZZZ  EEEEE               %
%                                                                             %
%                             Analyze An Image                                %
%                                                                             %
%                             Software Design                                 %
%                               Bill Corbis                                   %
%                              December 1998                                  %
%                                                                             %
%                                                                             %
%  Copyright 1999-2011 ImageMagick Studio LLC, a non-profit organization      %
%  dedicated to making software imaging solutions freely available.           %
%                                                                             %
%  You may not use this file except in compliance with the License.  You may  %
%  obtain a copy of the License at                                            %
%                                                                             %
%    https://imagemagick.org/script/license.php                            %
%                                                                             %
%  Unless required by applicable law or agreed to in writing, software        %
%  distributed under the License is distributed on an "AS IS" BASIS,          %
%  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.   %
%  See the License for the specific language governing permissions and        %
%  limitations under the License.                                             %
%                                                                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
*/

/*
  Include declarations.
*/
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <time.h>
#include <assert.h>
#include <math.h>
#include "magick/MagickCore.h"

/*
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                                             %
%                                                                             %
%                                                                             %
%   a n a l y z e I m a g e                                                   %
%                                                                             %
%                                                                             %
%                                                                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%  analyzeImage() computes the brightness and saturation mean,  standard
%  deviation, kurtosis and skewness and stores these values as attributes 
%  of the image.
%
%  The format of the analyzeImage method is:
%
%      size_t analyzeImage(Image *images,const int argc,
%        char **argv,ExceptionInfo *exception)
%
%  A description of each parameter follows:
%
%    o image: the address of a structure of type Image.
%
%    o argc: Specifies a pointer to an integer describing the number of
%      elements in the argument vector.
%
%    o argv: Specifies a pointer to a text array containing the command line
%      arguments.
%
%    o exception: return any errors or warnings in this structure.
%
*/
ModuleExport size_t analyzeImage(Image **images,const int argc,
  const char **argv,ExceptionInfo *exception)
{
  char
    text[MaxTextExtent];

  double
    area,
    brightness,
    brightness_mean,
    brightness_standard_deviation,
    brightness_kurtosis,
    brightness_skewness,
    brightness_sum_x,
    brightness_sum_x2,
    brightness_sum_x3,
    brightness_sum_x4,
    hue,
    saturation,
    saturation_mean,
    saturation_standard_deviation,
    saturation_kurtosis,
    saturation_skewness,
    saturation_sum_x,
    saturation_sum_x2,
    saturation_sum_x3,
    saturation_sum_x4;

  Image
    *image;

  assert(images != (Image **) NULL);
  assert(*images != (Image *) NULL);
  assert((*images)->signature == MagickSignature);
  (void) argc;
  (void) argv;
  image=(*images);
  for ( ; image != (Image *) NULL; image=GetNextImageInList(image))
  {
    CacheView
      *image_view;

    MagickBooleanType
      status;

    ssize_t
      y;

    brightness_sum_x=0.0;
    brightness_sum_x2=0.0;
    brightness_sum_x3=0.0;
    brightness_sum_x4=0.0;
    brightness_mean=0.0;
    brightness_standard_deviation=0.0;
    brightness_kurtosis=0.0;
    brightness_skewness=0.0;
    saturation_sum_x=0.0;
    saturation_sum_x2=0.0;
    saturation_sum_x3=0.0;
    saturation_sum_x4=0.0;
    saturation_mean=0.0;
    saturation_standard_deviation=0.0;
    saturation_kurtosis=0.0;
    saturation_skewness=0.0;
    area=0.0;
    status=MagickTrue;
    image_view=AcquireCacheView(image);
#if defined(MAGICKCORE_OPENMP_SUPPORT)
    #pragma omp parallel for schedule(dynamic,4) shared(status)
#endif
    for (y=0; y < (ssize_t) image->rows; y++)
    {
      register const PixelPacket
        *p;

      register ssize_t
        x;

      if (status == MagickFalse)
        continue;
      p=GetCacheViewVirtualPixels(image_view,0,y,image->columns,1,exception);
      if (p == (const PixelPacket *) NULL)
        {
          status=MagickFalse;
          continue;
        }
      for (x=0; x < (ssize_t) image->columns; x++)
      {
        ConvertRGBToHSB(GetPixelRed(p),GetPixelGreen(p),
          GetPixelBlue(p),&hue,&saturation,&brightness);
        brightness*=QuantumRange;
        brightness_sum_x+=brightness;
        brightness_sum_x2+=brightness*brightness;
        brightness_sum_x3+=brightness*brightness*brightness;
        brightness_sum_x4+=brightness*brightness*brightness*brightness;
        saturation*=QuantumRange;
        saturation_sum_x+=saturation;
        saturation_sum_x2+=saturation*saturation;
        saturation_sum_x3+=saturation*saturation*saturation;
        saturation_sum_x4+=saturation*saturation*saturation*saturation;
        area++;
        p++;
      }
    }
    image_view=DestroyCacheView(image_view);
    if (area <= 0.0)
      break;
    brightness_mean=brightness_sum_x/area;
    (void) FormatMagickString(text,MaxTextExtent,"%g",brightness_mean);
    (void) SetImageProperty(image,"filter:brightness:mean",text);
    brightness_standard_deviation=sqrt(brightness_sum_x2/area-(brightness_sum_x/
      area*brightness_sum_x/area));
    (void) FormatMagickString(text,MaxTextExtent,"%g",
      brightness_standard_deviation);
    (void) SetImageProperty(image,"filter:brightness:standard-deviation",text);
    if (brightness_standard_deviation != 0)
      brightness_kurtosis=(brightness_sum_x4/area-4.0*brightness_mean*
        brightness_sum_x3/area+6.0*brightness_mean*brightness_mean*
        brightness_sum_x2/area-3.0*brightness_mean*brightness_mean*
        brightness_mean*brightness_mean)/(brightness_standard_deviation*
        brightness_standard_deviation*brightness_standard_deviation*
        brightness_standard_deviation)-3.0;
    (void) FormatMagickString(text,MaxTextExtent,"%g",brightness_kurtosis);
    (void) SetImageProperty(image,"filter:brightness:kurtosis",text);
    if (brightness_standard_deviation != 0)
      brightness_skewness=(brightness_sum_x3/area-3.0*brightness_mean*
        brightness_sum_x2/area+2.0*brightness_mean*brightness_mean*
        brightness_mean)/(brightness_standard_deviation*
        brightness_standard_deviation*brightness_standard_deviation);
    (void) FormatMagickString(text,MaxTextExtent,"%g",brightness_skewness);
    (void) SetImageProperty(image,"filter:brightness:skewness",text);
    saturation_mean=saturation_sum_x/area;
    (void) FormatMagickString(text,MaxTextExtent,"%g",saturation_mean);
    (void) SetImageProperty(image,"filter:saturation:mean",text);
    saturation_standard_deviation=sqrt(saturation_sum_x2/area-(saturation_sum_x/
      area*saturation_sum_x/area));
    (void) FormatMagickString(text,MaxTextExtent,"%g",
      saturation_standard_deviation);
    (void) SetImageProperty(image,"filter:saturation:standard-deviation",text);
    if (saturation_standard_deviation != 0)
      saturation_kurtosis=(saturation_sum_x4/area-4.0*saturation_mean*
        saturation_sum_x3/area+6.0*saturation_mean*saturation_mean*
        saturation_sum_x2/area-3.0*saturation_mean*saturation_mean*
        saturation_mean*saturation_mean)/(saturation_standard_deviation*
        saturation_standard_deviation*saturation_standard_deviation*
        saturation_standard_deviation)-3.0;
    (void) FormatMagickString(text,MaxTextExtent,"%g",saturation_kurtosis);
    (void) SetImageProperty(image,"filter:saturation:kurtosis",text);
    if (saturation_standard_deviation != 0)
      saturation_skewness=(saturation_sum_x3/area-3.0*saturation_mean*
        saturation_sum_x2/area+2.0*saturation_mean*saturation_mean*
        saturation_mean)/(saturation_standard_deviation*
        saturation_standard_deviation*saturation_standard_deviation);
    (void) FormatMagickString(text,MaxTextExtent,"%g",saturation_skewness);
    (void) SetImageProperty(image,"filter:saturation:skewness",text);
  }
  return(MagickImageFilterSignature);
}
```

--------------------------------------------------------------------------------

---[FILE: coder.xml]---
Location: ImageMagick-main/www/source/coder.xml

```text
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE codermap [
<!ELEMENT codermap (coder)+>
  <!ATTLIST codermap xmlns CDATA #FIXED ''>
  <!ELEMENT coder EMPTY>
  <!ATTLIST coder xmlns CDATA #FIXED '' magick NMTOKEN #REQUIRED
    name NMTOKEN #REQUIRED>
]>
<!--
  Associate an image format with the specified coder module.

  ImageMagick has a number of coder modules to support the reading and/or
  writing of an image format (e.g. JPEG). Some coder modules support more
  than one associated image format and the mapping between an associated
  format and its respective coder module is defined in this configuration
  file. For example, the PNG coder module not only supports the PNG image
  format, but the JNG and MNG formats as well.
-->
<codermap>
  <!-- <coder magick="GIF87" name="GIF"/> -->
  <!-- <coder magick="JPG" name="JPEG"/> -->
  <!-- <coder magick="PGM" name="PNM"/> -->
</codermap>
```

--------------------------------------------------------------------------------

---[FILE: colors.xml]---
Location: ImageMagick-main/www/source/colors.xml

```text
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE colormap [
<!ELEMENT colormap (color)+>
<!ELEMENT color (#PCDATA)>
<!ATTLIST color name CDATA "0">
<!ATTLIST color color CDATA "rgb(0,0,0)">
<!ATTLIST color compliance CDATA "SVG">
]>
<!--
  Associate a color name with its red, green, blue, and alpha intensities.

  A number of methods and options require a color parameter. It is often
  convenient to refer to a color by name (e.g. white) rather than by hex
  value (e.g. #fff). This file maps a color name to its equivalent red,
  green, blue, and alpha intensities (e.g. for white, red = 255, green =
  255, blue = 255, and alpha = 0).
-->
<colormap>
  <!-- <color name="none" color="rgba(0,0,0,0)" compliance="SVG, XPM"/> -->
  <!-- <color name="black" color="rgb(0,0,0)" compliance="SVG, X11, XPM"/> -->
  <!-- <color name="red" color="rgb(255,0,0)" compliance="SVG, X11, XPM"/> -->
  <!-- <color name="magenta" color="rgb(255,0,255)" compliance="SVG, X11, XPM"/> -->
  <!-- <color name="green" color="rgb(0,128,0)" compliance="SVG"/> -->
  <!-- <color name="cyan" color="rgb(0,255,255)" compliance="SVG, X11, XPM"/> -->
  <!-- <color name="blue" color="rgb(0,0,255)" compliance="SVG, X11, XPM"/> -->
  <!-- <color name="yellow" color="rgb(255,255,0)" compliance="SVG, X11, XPM"/> -->
  <!-- <color name="white" color="rgb(255,255,255)" compliance="SVG, X11"/> -->
</colormap>
```

--------------------------------------------------------------------------------

---[FILE: configure.xml]---
Location: ImageMagick-main/www/source/configure.xml

```text
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE configuremap [
  <!ELEMENT configuremap (configure)+>
  <!ATTLIST configuremap xmlns CDATA #FIXED ''>
  <!ELEMENT configure EMPTY>
  <!ATTLIST configure xmlns CDATA #FIXED '' name NMTOKEN #REQUIRED
    value CDATA #REQUIRED>
]>
<!--
  ImageMagick build configuration.
-->
<configuremap>
  <configure name="CC" value="gcc"/>
  <configure name="CFLAGS" value="-I/usr/include/libxml2    -I/usr/include/libraw  -I/usr/include/libpng16   -I/usr/include/pango-1.0 -I/usr/include/glib-2.0 -I/usr/lib64/glib-2.0/include -I/usr/include/cairo -I/usr/include/pixman-1 -I/usr/include/freetype2 -I/usr/include/libpng16 -I/usr/include/libdrm -I/usr/include/harfbuzz  -I/usr/include/OpenEXR -pthread -I/usr/include/libdrm   -I/usr/include/openjpeg-2.2    -I/usr/include/freetype2 -I/usr/include/libpng16  -I/usr/include/freetype2 -I/usr/include/libpng16  -pthread     -fopenmp -g -O2 -Wall -mtune=sandybridge -fexceptions -pthread -DMAGICKCORE_HDRI_ENABLE=1 -DMAGICKCORE_QUANTUM_DEPTH=16"/>
  <configure name="CODER_PATH" value="/usr/local/lib/ImageMagick-7.0.7/modules-Q16HDRI/coders"/>
  <configure name="CONFIGURE_PATH" value="/usr/local/etc/ImageMagick-7/"/>
  <configure name="CONFIGURE" value="./configure  '--with-modules'"/>
  <configure name="COPYRIGHT" value="Copyright (C) 1999-2020 ImageMagick Studio LLC"/>
  <configure name="CPPFLAGS" value="-I/usr/local/include/ImageMagick-7"/>
  <configure name="CXXFLAGS" value="-g -O2 -pthread"/>
  <configure name="CXX" value="g++"/>
  <configure name="DEFS" value="-DHAVE_CONFIG_H"/>
  <configure name="DELEGATES" value="bzlib djvu mpeg fftw fontconfig freetype heic jbig jng jpeg lcms lzma openexr openjp2 pango png ps raw tiff webp wmf x xml zlib"/>
  <configure name="DISTCHECK_CONFIG_FLAGS" value=" --disable-deprecated  --with-quantum-depth=16  --with-jemalloc=no  --with-umem=no  --with-autotrace=no  --with-gslib=no  --with-fontpath=  --with-rsvg=no  --with-perl=no "/>
  <configure name="DOCUMENTATION_PATH" value="/usr/local/share/doc/ImageMagick-7"/>
  <configure name="EXEC-PREFIX" value="/usr/local"/>
  <configure name="EXECUTABLE_PATH" value="/usr/local/bin"/>
  <configure name="FEATURES" value="DPC HDRI Cipher OpenMP Modules"/>
  <configure name="FILTER_PATH" value="/usr/local/lib/ImageMagick-7.0.7/modules-Q16HDRI/filters"/>
  <configure name="GIT_REVISION" value="21914:94a165e5b:20171216" />
  <configure name="HOST" value="x86_64-pc-linux-gnu"/>
  <configure name="INCLUDE_PATH" value="/usr/local/include/ImageMagick-7"/>
  <configure name="LDFLAGS" value="-L/usr/local/lib  "/>
  <configure name="LIBRARY_ABSOLUTE_PATH" value="/usr/local/lib/ImageMagick-7.0.7"/>
  <configure name="LIBS" value=" -llcms2  -lfreetype    -lfftw3   -lfontconfig -lfreetype  -lXext   -lSM -lICE -lX11  -lXt -llzma  -lbz2 -lz  -lltdl  -lm -lgomp    "/>
  <configure name="LIB_VERSION_NUMBER" value="7,0,7,15"/>
  <configure name="LIB_VERSION" value="0x707"/>
  <configure name="NAME" value="ImageMagick"/>
  <configure name="PCFLAGS" value="-fopenmp -DMAGICKCORE_HDRI_ENABLE=1 -DMAGICKCORE_QUANTUM_DEPTH=16"/>
  <configure name="PREFIX" value="/usr/local"/>
  <configure name="QuantumDepth" value="16"/>
  <configure name="RELEASE_DATE" value="2017-12-16"/>
  <configure name="SHAREARCH_PATH" value="/usr/local/lib/ImageMagick-7.0.7/config-Q16HDRI"/>
  <configure name="SHARE_PATH" value="/usr/local/share/ImageMagick-7"/>
  <configure name="TARGET_CPU" value="x86_64"/>
  <configure name="TARGET_OS" value="linux-gnu"/>
  <configure name="TARGET_VENDOR" value="pc"/>
  <configure name="VERSION" value="7.0.7"/>
  <configure name="WEBSITE" value="https://imagemagick.org"/>
</configuremap>
```

--------------------------------------------------------------------------------

---[FILE: contrast.c]---
Location: ImageMagick-main/www/source/contrast.c

```c
#include <stdio.h>
#include <stdlib.h>
#include <math.h>
#include <wand/MagickWand.h>

int main(int argc,char **argv)
{
#define QuantumScale  ((MagickRealType) 1.0/(MagickRealType) QuantumRange)
#define SigmoidalContrast(x) \
  (QuantumRange*(1.0/(1+exp(10.0*(0.5-QuantumScale*x)))-0.0066928509)*1.0092503)
#define ThrowWandException(wand) \
{ \
  char \
    *description; \
 \
  ExceptionType \
    severity; \
 \
  description=MagickGetException(wand,&severity); \
  (void) fprintf(stderr,"%s %s %lu %s\n",GetMagickModule(),description); \
  description=(char *) MagickRelinquishMemory(description); \
  exit(-1); \
}

  MagickBooleanType
    status;

  MagickPixelPacket
    pixel;

  MagickWand
    *contrast_wand,
    *image_wand;

  PixelIterator
    *contrast_iterator,
    *iterator;

  PixelWand
    **contrast_pixels,
    **pixels;

  register ssize_t
    x;

  size_t
    width;

  ssize_t
    y;

  if (argc != 3)
    {
      (void) fprintf(stdout,"Usage: %s image sigmoidal-image\n",argv[0]);
      exit(0);
    }
  /*
    Read an image.
  */
  MagickWandGenesis();
  image_wand=NewMagickWand();
  status=MagickReadImage(image_wand,argv[1]);
  if (status == MagickFalse)
    ThrowWandException(image_wand);
  contrast_wand=CloneMagickWand(image_wand);
  /*
    Sigmoidal non-linearity contrast control.
  */
  iterator=NewPixelIterator(image_wand);
  contrast_iterator=NewPixelIterator(contrast_wand);
  if ((iterator == (PixelIterator *) NULL) ||
      (contrast_iterator == (PixelIterator *) NULL))
    ThrowWandException(image_wand);
  for (y=0; y < (ssize_t) MagickGetImageHeight(image_wand); y++)
  {
    pixels=PixelGetNextIteratorRow(iterator,&width);
    contrast_pixels=PixelGetNextIteratorRow(contrast_iterator,&width);
    if ((pixels == (PixelWand **) NULL) ||
        (contrast_pixels == (PixelWand **) NULL))
      break;
    for (x=0; x < (ssize_t) width; x++)
    {
      PixelGetMagickColor(pixels[x],&pixel);
      pixel.red=SigmoidalContrast(pixel.red);
      pixel.green=SigmoidalContrast(pixel.green);
      pixel.blue=SigmoidalContrast(pixel.blue);
      pixel.index=SigmoidalContrast(pixel.index);
      PixelSetMagickColor(contrast_pixels[x],&pixel);
    }
    (void) PixelSyncIterator(contrast_iterator);
  }
  if (y < (ssize_t) MagickGetImageHeight(image_wand))
    ThrowWandException(image_wand);
  contrast_iterator=DestroyPixelIterator(contrast_iterator);
  iterator=DestroyPixelIterator(iterator);
  image_wand=DestroyMagickWand(image_wand);
  /*
    Write the image then destroy it.
  */
  status=MagickWriteImages(contrast_wand,argv[2],MagickTrue);
  if (status == MagickFalse)
    ThrowWandException(image_wand);
  contrast_wand=DestroyMagickWand(contrast_wand);
  MagickWandTerminus();
  return(0);
}
```

--------------------------------------------------------------------------------

---[FILE: core.c]---
Location: ImageMagick-main/www/source/core.c

```c
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <time.h>
#include <magick/MagickCore.h>

int main(int argc,char **argv)
{
  ExceptionInfo
    *exception;

  Image
    *image,
    *images,
    *resize_image,
    *thumbnails;

  ImageInfo
    *image_info;

  if (argc != 3)
    {
      (void) fprintf(stdout,"Usage: %s image thumbnail\n",argv[0]);
      exit(0);
    }
  /*
    Initialize the image info structure and read an image.
  */
  MagickCoreGenesis(*argv,MagickTrue);
  exception=AcquireExceptionInfo();
  image_info=CloneImageInfo((ImageInfo *) NULL);
  (void) strcpy(image_info->filename,argv[1]);
  images=ReadImage(image_info,exception);
  if (exception->severity != UndefinedException)
    CatchException(exception);
  if (images == (Image *) NULL)
    exit(1);
  /*
    Convert the image to a thumbnail.
  */
  thumbnails=NewImageList();
  while ((image=RemoveFirstImageFromList(&images)) != (Image *) NULL)
  {
    resize_image=ResizeImage(image,106,80,LanczosFilter,1.0,exception);
    if (resize_image == (Image *) NULL)
      MagickError(exception->severity,exception->reason,exception->description);
    (void) AppendImageToList(&thumbnails,resize_image);
    DestroyImage(image);
  }
  /*
    Write the image thumbnail.
  */
  (void) strcpy(thumbnails->filename,argv[2]);
  WriteImage(image_info,thumbnails);
  /*
    Destroy the image thumbnail and exit.
  */
  thumbnails=DestroyImageList(thumbnails);
  image_info=DestroyImageInfo(image_info);
  exception=DestroyExceptionInfo(exception);
  MagickCoreTerminus();
  return(0);
}
```

--------------------------------------------------------------------------------

````
