---
source_txt: fullstack_samples/zulip-main
converted_utc: 2025-12-18T13:06:15Z
part: 1121
parts_total: 1290
---

# FULLSTACK CODE DATABASE SAMPLES zulip-main

## Verbatim Content (Part 1121 of 1290)

````text
================================================================================
FULLSTACK SAMPLES CODE DATABASE (VERBATIM) - zulip-main
================================================================================
Generated: December 18, 2025
Source: fullstack_samples/zulip-main
================================================================================

NOTES:
- This output is verbatim because the source is user-owned.
- Large/binary files may be skipped by size/binary detection limits.

================================================================================

---[FILE: git_morethanlimitcommits.json]---
Location: zulip-main/zerver/webhooks/beanstalk/fixtures/git_morethanlimitcommits.json

```json
{
  "after": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
  "before": "d190b0f5f1873f809db4050f0b31e89d349381f1",
  "branch": "master",
  "commits": [
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    },
    {
      "author": {
        "email": "lfranchi@kde.org",
        "name": "Leo Franchi"
      },
      "changed_dirs": [],
      "changed_files": [
        [
          "work-test.py",
          "edit"
        ]
      ],
      "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3",
      "message": "add some stuff",
      "timestamp": "2013-04-01T19:21:11Z",
      "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df"
    }
  ],
  "push_is_too_large": false,
  "pusher_id": 348341,
  "pusher_name": "Leo Franchi",
  "ref": "refs/heads/master",
  "repository": {
    "name": "work-test",
    "owner": {
      "email": "lfranchi@gmail.com",
      "name": "Leo Franchi"
    },
    "private": true,
    "url": "http://lfranchi-svn.beanstalkapp.com/work-test"
  },
  "uri": "git@lfranchi-svn.beanstalkapp.com:/work-test.git"
}
```

--------------------------------------------------------------------------------

---[FILE: git_multiple.json]---
Location: zulip-main/zerver/webhooks/beanstalk/fixtures/git_multiple.json

```json
{ "after": "20098158e20ae4257ca228e18b1de8205a69604d", "before": "e50508df24cee0c6e6b1c051ce348282ea152cb3", "branch": "master", "commits": [ { "author": { "email": "lfranchi@kde.org", "name": "Leo Franchi" }, "changed_dirs": [], "changed_files": [ [ "new-file", "add" ] ], "id": "edf529c7a64d44937e534fe6e78323e79a160b13", "message": "Added new file", "timestamp": "2013-04-01T19:38:40Z", "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/edf529c7" }, { "author": { "email": "lfranchi@kde.org", "name": "Leo Franchi" }, "changed_dirs": [], "changed_files": [ [ "new-file", "edit" ] ], "id": "c2a191b9e79208c4a9aa5efda917a210f34f61d6", "message": "Filled in new file with some stuff", "timestamp": "2013-04-01T19:38:54Z", "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/c2a191b9" }, { "author": { "email": "lfranchi@kde.org", "name": "Leo Franchi" }, "changed_dirs": [], "changed_files": [ [ "new-file", "edit" ], [ "work-test.py", "edit" ] ], "id": "20098158e20ae4257ca228e18b1de8205a69604d", "message": "More work to fix some bugs\n\nSecond line of commit message, yes plzzzz", "timestamp": "2013-04-01T19:39:08Z", "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/20098158" } ], "push_is_too_large": false, "pusher_id": 348341, "pusher_name": "Leo Franchi", "ref": "refs/heads/master", "repository": { "name": "work-test", "owner": { "email": "lfranchi@gmail.com", "name": "Leo Franchi" }, "private": true, "url": "http://lfranchi-svn.beanstalkapp.com/work-test" }, "uri": "git@lfranchi-svn.beanstalkapp.com:/work-test.git" }
```

--------------------------------------------------------------------------------

---[FILE: git_multiple_committers.json]---
Location: zulip-main/zerver/webhooks/beanstalk/fixtures/git_multiple_committers.json

```json
{
   "after":"20098158e20ae4257ca228e18b1de8205a69604d",
   "before":"e50508df24cee0c6e6b1c051ce348282ea152cb3",
   "branch":"master",
   "commits":[
      {
         "author":{
            "email":"Tomasz@kde.org",
            "name":"Tomasz Kolek"
         },
         "changed_dirs":[

         ],
         "changed_files":[
            [
               "new-file",
               "add"
            ]
         ],
         "id":"edf529c7a64d44937e534fe6e78323e79a160b13",
         "message":"Added new file",
         "timestamp":"2013-04-01T19:38:40Z",
         "url":"http://lfranchi-svn.beanstalkapp.com/work-test/changesets/edf529c7"
      },
      {
         "author":{
            "email":"lfranchi@kde.org",
            "name":"Leo Franchi"
         },
         "changed_dirs":[

         ],
         "changed_files":[
            [
               "new-file",
               "edit"
            ]
         ],
         "id":"c2a191b9e79208c4a9aa5efda917a210f34f61d6",
         "message":"Filled in new file with some stuff",
         "timestamp":"2013-04-01T19:38:54Z",
         "url":"http://lfranchi-svn.beanstalkapp.com/work-test/changesets/c2a191b9"
      },
      {
         "author":{
            "email":"lfranchi@kde.org",
            "name":"Leo Franchi"
         },
         "changed_dirs":[

         ],
         "changed_files":[
            [
               "new-file",
               "edit"
            ],
            [
               "work-test.py",
               "edit"
            ]
         ],
         "id":"20098158e20ae4257ca228e18b1de8205a69604d",
         "message":"More work to fix some bugs\n\nSecond line of commit message, yes plzzzz",
         "timestamp":"2013-04-01T19:39:08Z",
         "url":"http://lfranchi-svn.beanstalkapp.com/work-test/changesets/20098158"
      }
   ],
   "push_is_too_large":false,
   "pusher_id":348341,
   "pusher_name":"Leo Franchi",
   "ref":"refs/heads/master",
   "repository":{
      "name":"work-test",
      "owner":{
         "email":"lfranchi@gmail.com",
         "name":"Leo Franchi"
      },
      "private":true,
      "url":"http://lfranchi-svn.beanstalkapp.com/work-test"
   },
   "uri":"git@lfranchi-svn.beanstalkapp.com:/work-test.git"
}
```

--------------------------------------------------------------------------------

---[FILE: git_singlecommit.json]---
Location: zulip-main/zerver/webhooks/beanstalk/fixtures/git_singlecommit.json

```json
{ "after": "e50508df24cee0c6e6b1c051ce348282ea152cb3", "before": "d190b0f5f1873f809db4050f0b31e89d349381f1", "branch": "master", "commits": [ { "author": { "email": "lfranchi@kde.org", "name": "Leo Franchi" }, "changed_dirs": [], "changed_files": [ [ "work-test.py", "edit" ] ], "id": "e50508df24cee0c6e6b1c051ce348282ea152cb3", "message": "add some stuff", "timestamp": "2013-04-01T19:21:11Z", "url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/e50508df" } ], "push_is_too_large": false, "pusher_id": 348341, "pusher_name": "Leo Franchi", "ref": "refs/heads/master", "repository": { "name": "work-test", "owner": { "email": "lfranchi@gmail.com", "name": "Leo Franchi" }, "private": true, "url": "http://lfranchi-svn.beanstalkapp.com/work-test" }, "uri": "git@lfranchi-svn.beanstalkapp.com:/work-test.git" }
```

--------------------------------------------------------------------------------

---[FILE: svn_addremove.json]---
Location: zulip-main/zerver/webhooks/beanstalk/fixtures/svn_addremove.json

```json
{ "author": "lfranchi", "author_email": "lfranchi@gmail.com", "author_full_name": "Leo Franchi", "changed_dirs": [], "changed_files": [ [ "new-file.txt", "add" ], [ "lots-of-work.py", "delete" ] ], "changeset_url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/3", "message": "Removed a file and added another one!\n\nTHis is a pretty long commit", "revision": 3, "time": "2013/04/01 19:03:50 +0000" }
```

--------------------------------------------------------------------------------

---[FILE: svn_changefile.json]---
Location: zulip-main/zerver/webhooks/beanstalk/fixtures/svn_changefile.json

```json
{ "author": "lfranchi", "author_email": "lfranchi@gmail.com", "author_full_name": "Leo Franchi", "changed_dirs": [], "changed_files": [ [ "lots-of-work.py", "edit" ] ], "changeset_url": "http://lfranchi-svn.beanstalkapp.com/work-test/changesets/2", "message": "Added some code", "revision": 2, "time": "2013/04/01 19:01:33 +0000" }
```

--------------------------------------------------------------------------------

---[FILE: doc.md]---
Location: zulip-main/zerver/webhooks/beeminder/doc.md

```text
# Zulip Beeminder integration

Get Beeminder notifications in Zulip whenever you're going
to derail from your goal!

{start_tabs}

1. {!create-an-incoming-webhook.md!}

1. {!generate-webhook-url-basic.md!}

1. Go to your Beeminder **Reminders** settings.

1. Set **URL for POST** to the URL generated above. Click
   **Save Changes**.

{end_tabs}

{!congrats.md!}

![](/static/images/integrations/beeminder/001.png)

### Related documentation

{!webhooks-url-specification.md!}
```

--------------------------------------------------------------------------------

---[FILE: tests.py]---
Location: zulip-main/zerver/webhooks/beeminder/tests.py

```python
from unittest.mock import MagicMock, patch

from zerver.lib.test_classes import WebhookTestCase


class BeeminderHookTests(WebhookTestCase):
    CHANNEL_NAME = "beeminder"
    URL_TEMPLATE = "/api/v1/external/beeminder?api_key={api_key}&stream={stream}"
    WEBHOOK_DIR_NAME = "beeminder"

    @patch("zerver.webhooks.beeminder.view.time.time")
    def test_beeminder_derail(self, time: MagicMock) -> None:
        time.return_value = 1517739100  # 5.6 hours from fixture value
        expected_topic_name = "beekeeper"
        expected_message = """
You are going to derail from goal **gainweight** in **5.6 hours**. You need **+2 in 7 days (60)** to avoid derailing.
* Pledge: **$0** :relieved:
""".strip()

        self.check_webhook(
            "derail",
            expected_topic_name,
            expected_message,
            content_type="application/x-www-form-urlencoded",
        )

    @patch("zerver.webhooks.beeminder.view.time.time")
    def test_beeminder_derail_worried(self, time: MagicMock) -> None:
        time.return_value = 1517739100  # 5.6 hours from fixture value
        expected_topic_name = "beekeeper"
        expected_message = """
You are going to derail from goal **gainweight** in **5.6 hours**. You need **+2 in 7 days (60)** to avoid derailing.
* Pledge: **$5** :worried:
""".strip()

        self.check_webhook(
            "derail_worried", expected_topic_name, expected_message, content_type="application/json"
        )
```

--------------------------------------------------------------------------------

---[FILE: view.py]---
Location: zulip-main/zerver/webhooks/beeminder/view.py
Signals: Django

```python
# Webhooks for external integrations.
import time

from django.http import HttpRequest, HttpResponse

from zerver.decorator import webhook_view
from zerver.lib.response import json_success
from zerver.lib.typed_endpoint import JsonBodyPayload, typed_endpoint
from zerver.lib.validator import WildValue, check_float, check_int, check_string, check_union
from zerver.lib.webhooks.common import check_send_webhook_message
from zerver.models import UserProfile

MESSAGE_TEMPLATE = (
    "You are going to derail from goal **{goal_name}** in **{time:0.1f} hours**. "
    "You need **{limsum}** to avoid derailing.\n"
    "* Pledge: **${pledge}** {expression}\n"
)


def get_time(payload: WildValue) -> float:
    losedate = payload["goal"]["losedate"].tame(check_int)
    time_remaining = (losedate - time.time()) / 3600
    return time_remaining


@webhook_view("Beeminder")
@typed_endpoint
def api_beeminder_webhook(
    request: HttpRequest,
    user_profile: UserProfile,
    *,
    payload: JsonBodyPayload[WildValue],
) -> HttpResponse:
    goal_name = payload["goal"]["slug"].tame(check_string)
    limsum = payload["goal"]["limsum"].tame(check_string)
    pledge = payload["goal"]["pledge"].tame(check_union([check_int, check_float]))
    time_remain = get_time(payload)  # time in hours
    # To show user's probable reaction by looking at pledge amount
    if pledge > 0:
        expression = ":worried:"
    else:
        expression = ":relieved:"

    topic_name = "beekeeper"
    body = MESSAGE_TEMPLATE.format(
        goal_name=goal_name,
        time=time_remain,
        limsum=limsum,
        pledge=pledge,
        expression=expression,
    )
    check_send_webhook_message(request, user_profile, topic_name, body)
    return json_success(request)
```

--------------------------------------------------------------------------------

---[FILE: derail.json]---
Location: zulip-main/zerver/webhooks/beeminder/fixtures/derail.json

```json
{
    "goal": {
        "slug": "gainweight",
        "title": "Have to get back to the shape I want!",
        "description": null,
        "goalval": 60,
        "rate": null,
        "goaldate": 1515258000,
        "graph_url": "https://bmndr.s3.amazonaws.com/uploads/e5eec384-d736-4a96-a22c-724784598dd0.png",
        "thumb_url": "https://bmndr.s3.amazonaws.com/uploads/e5eec384-d736-4a96-a22c-724784598dd0-thumb.png",
        "goal_type": "gainer",
        "autodata": null,
        "healthkitmetric": "",
        "losedate": 1517759100,
        "deadline": -4500,
        "leadtime": 0,
        "alertstart": 81720,
        "use_defaults": true,
        "id": "5a47c445bfec034a59000d75",
        "ephem": false,
        "queued": false,
        "panic": 54000,
        "updated_at": 1514653620,
        "burner": "frontburner",
        "yaw": 1,
        "lane": 666,
        "lanewidth": 0,
        "delta": 0.5,
        "runits": "d",
        "limsum": "+2 in 7 days (60)",
        "frozen": false,
        "lost": false,
        "won": false,
        "contract": {
            "amount": 0,
            "stepdown_at": null,
            "pending_amount": null,
            "pending_at": null
        },
        "delta_text": "✔ ✔ ✔",
        "safebump": 60,
        "limsumdate": "+2 due Sat by 22:45",
        "limsumdays": "+2 due in 7 days",
        "baremin": "+2",
        "baremintotal": "60",
        "roadstatuscolor": "green",
        "lasttouch": "2017-12-30T16:53:18Z",
        "safebuf": 7,
        "sadbrink": false,
        "coasting": false,
        "fineprint": null,
        "yaxis": "kilograms",
        "nomercy": true,
        "initday": 1514653200,
        "initval": 57.5,
        "curday": 1514653200,
        "curval": 58,
        "lastday": 1514653200,
        "dir": 1,
        "exprd": false,
        "kyoom": false,
        "odom": false,
        "noisy": false,
        "aggday": "max",
        "plotall": false,
        "steppy": false,
        "rosy": true,
        "movingav": true,
        "aura": true,
        "numpts": 2,
        "road": [
            [
                1515258000,
                null,
                0
            ]
        ],
        "roadall": [
            [
                1514653200,
                57.5,
                null
            ],
            [
                1515258000,
                null,
                0
            ],
            [
                1515258000,
                60,
                null
            ]
        ],
        "fullroad": [
            [
                1514653200,
                57.5,
                0
            ],
            [
                1515258000,
                57.5,
                0
            ],
            [
                1515258000,
                60,
                0
            ]
        ],
        "secret": false,
        "pledge": 0,
        "mathishard": [
            1515258000,
            60,
            0
        ],
        "headsum": "Coasting on a currently flat yellow brick road",
        "datapublic": false,
        "graphsum": "58 on 2017.12.30 (1 datapoint in 1 day) targeting 60 on 2018.01.06 (7 more days). Yellow Brick Rd = +0 / day.",
        "rah": 60,
        "last_datapoint": {
            "timestamp": 1514654099,
            "value": 58,
            "comment": "",
            "id": "5a47c47ebfec034a4e0036b3",
            "updated_at": 1514652798,
            "requestid": null,
            "canonical": "30 58",
            "fulltext": "2017-Dec-30 entered at 22:23 via Beeminder Web",
            "origin": "Beeminder Web",
            "daystamp": "20171230"
        },
        "callback_url": null
    }
}
```

--------------------------------------------------------------------------------

````
