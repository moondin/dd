---
source_txt: fullstack_samples/mlflow-master
converted_utc: 2025-12-18T11:25:54Z
part: 579
parts_total: 991
---

# FULLSTACK CODE DATABASE SAMPLES mlflow-master

## Verbatim Content (Part 579 of 991)

````text
================================================================================
FULLSTACK SAMPLES CODE DATABASE (VERBATIM) - mlflow-master
================================================================================
Generated: December 18, 2025
Source: fullstack_samples/mlflow-master
================================================================================

NOTES:
- This output is verbatim because the source is user-owned.
- Large/binary files may be skipped by size/binary detection limits.

================================================================================

---[FILE: autogenerated_schema.gql]---
Location: mlflow-master/mlflow/server/js/src/graphql/autogenerated_schema.gql

```graphql
# GENERATED FILE. PLEASE DON'T MODIFY.
# Run uv run ./dev/proto_to_graphql/code_generator.py to regenerate.

directive @component(name: String!) on QUERY | MUTATION

type Query {
  mlflowGetExperiment(input: MlflowGetExperimentInput): MlflowGetExperimentResponse
  mlflowGetMetricHistoryBulkInterval(input: MlflowGetMetricHistoryBulkIntervalInput): MlflowGetMetricHistoryBulkIntervalResponse
  mlflowGetRun(input: MlflowGetRunInput): MlflowGetRunResponse
  mlflowListArtifacts(input: MlflowListArtifactsInput): MlflowListArtifactsResponse
  mlflowSearchModelVersions(input: MlflowSearchModelVersionsInput): MlflowSearchModelVersionsResponse

  """Simple echoing field"""
  test(inputString: String): Test
  mlflowSearchRuns(input: MlflowSearchRunsInput): MlflowSearchRunsResponse
}

type MlflowGetExperimentResponse {
  experiment: MlflowExperiment
  apiError: ApiError
}

type MlflowExperiment {
  experimentId: String
  name: String
  artifactLocation: String
  lifecycleStage: String
  lastUpdateTime: LongString
  creationTime: LongString
  tags: [MlflowExperimentTag!]
}

"""
LongString Scalar type to prevent truncation to max integer in JavaScript.
"""
scalar LongString

type MlflowExperimentTag {
  key: String
  value: String
}

type ApiError {
  code: String
  message: String
  helpUrl: String
  traceId: String
  errorDetails: [ErrorDetail]
}

type ErrorDetail {
  field: String
  message: String
}

input MlflowGetExperimentInput {
  experimentId: String
}

type MlflowGetMetricHistoryBulkIntervalResponse {
  metrics: [MlflowMetricWithRunId!]
  apiError: ApiError
}

type MlflowMetricWithRunId {
  key: String
  value: Float
  timestamp: LongString
  step: LongString
  runId: String
}

input MlflowGetMetricHistoryBulkIntervalInput {
  runIds: [String]
  metricKey: String
  startStep: Int
  endStep: Int
  maxResults: Int
}

type MlflowGetRunResponse {
  run: MlflowRunExtension
  apiError: ApiError
}

type MlflowRunExtension {
  info: MlflowRunInfo
  data: MlflowRunData
  inputs: MlflowRunInputs
  outputs: MlflowRunOutputs
  experiment: MlflowExperiment
  modelVersions: [MlflowModelVersion!]
}

type MlflowRunInfo {
  runId: String
  runUuid: String
  runName: String
  experimentId: String
  userId: String
  status: MlflowRunStatus
  startTime: LongString
  endTime: LongString
  artifactUri: String
  lifecycleStage: String
}

enum MlflowRunStatus {
  RUNNING
  SCHEDULED
  FINISHED
  FAILED
  KILLED
}

type MlflowRunData {
  metrics: [MlflowMetricExtension!]
  params: [MlflowParam!]
  tags: [MlflowRunTag!]
}

type MlflowMetricExtension {
  key: String
  value: Float
  timestamp: LongString
  step: LongString
  datasetName: String
  datasetDigest: String
  modelId: String
  runId: String
}

type MlflowParam {
  key: String
  value: String
}

type MlflowRunTag {
  key: String
  value: String
}

type MlflowRunInputs {
  datasetInputs: [MlflowDatasetInput!]
  modelInputs: [MlflowModelInput!]
}

type MlflowDatasetInput {
  tags: [MlflowInputTag!]
  dataset: MlflowDataset
}

type MlflowInputTag {
  key: String
  value: String
}

type MlflowDataset {
  name: String
  digest: String
  sourceType: String
  source: String
  schema: String
  profile: String
}

type MlflowModelInput {
  modelId: String
}

type MlflowRunOutputs {
  modelOutputs: [MlflowModelOutput!]
}

type MlflowModelOutput {
  modelId: String
  step: LongString
}

type MlflowModelVersion {
  name: String
  version: String
  creationTimestamp: LongString
  lastUpdatedTimestamp: LongString
  userId: String
  currentStage: String
  description: String
  source: String
  runId: String
  status: MlflowModelVersionStatus
  statusMessage: String
  tags: [MlflowModelVersionTag!]
  runLink: String
  aliases: [String]
  modelId: String
  modelParams: [MlflowModelParam!]
  modelMetrics: [MlflowModelMetric!]
  deploymentJobState: MlflowModelVersionDeploymentJobState
}

enum MlflowModelVersionStatus {
  PENDING_REGISTRATION
  FAILED_REGISTRATION
  READY
}

type MlflowModelVersionTag {
  key: String
  value: String
}

type MlflowModelParam {
  name: String
  value: String
}

type MlflowModelMetric {
  key: String
  value: Float
  timestamp: LongString
  step: LongString
  datasetName: String
  datasetDigest: String
  modelId: String
  runId: String
}

type MlflowModelVersionDeploymentJobState {
  jobId: String
  runId: String
  jobState: MlflowDeploymentJobConnectionState
  runState: MlflowModelVersionDeploymentJobStateDeploymentJobRunState
  currentTaskName: String
}

enum MlflowDeploymentJobConnectionState {
  DEPLOYMENT_JOB_CONNECTION_STATE_UNSPECIFIED
  NOT_SET_UP
  CONNECTED
  NOT_FOUND
  REQUIRED_PARAMETERS_CHANGED
}

enum MlflowModelVersionDeploymentJobStateDeploymentJobRunState {
  DEPLOYMENT_JOB_RUN_STATE_UNSPECIFIED
  NO_VALID_DEPLOYMENT_JOB_FOUND
  RUNNING
  SUCCEEDED
  FAILED
  PENDING
  APPROVAL
}

input MlflowGetRunInput {
  runId: String
  runUuid: String
}

type MlflowListArtifactsResponse {
  rootUri: String
  files: [MlflowFileInfo!]
  nextPageToken: String
  apiError: ApiError
}

type MlflowFileInfo {
  path: String
  isDir: Boolean
  fileSize: LongString
}

input MlflowListArtifactsInput {
  runId: String
  runUuid: String
  path: String
  pageToken: String
}

type MlflowSearchModelVersionsResponse {
  modelVersions: [MlflowModelVersion!]
  nextPageToken: String
  apiError: ApiError
}

input MlflowSearchModelVersionsInput {
  filter: String
  maxResults: LongString
  orderBy: [String]
  pageToken: String
}

type Test {
  """Echoes the input string"""
  output: String
}

type MlflowSearchRunsResponse {
  runs: [MlflowRunExtension!]
  nextPageToken: String
  apiError: ApiError
}

input MlflowSearchRunsInput {
  experimentIds: [String]
  filter: String
  runViewType: MlflowViewType = null
  maxResults: Int
  orderBy: [String]
  pageToken: String
}

enum MlflowViewType {
  ACTIVE_ONLY
  DELETED_ONLY
  ALL
}

type Mutation {
  mlflowSearchDatasets(input: MlflowSearchDatasetsInput): MlflowSearchDatasetsResponse
  mlflowSearchRuns(input: MlflowSearchRunsInput): MlflowSearchRunsResponse

  """Simple echoing field"""
  testMutation(inputString: String): TestMutation
}

type MlflowSearchDatasetsResponse {
  datasetSummaries: [MlflowDatasetSummary!]
  apiError: ApiError
}

type MlflowDatasetSummary {
  experimentId: String
  name: String
  digest: String
  context: String
}

input MlflowSearchDatasetsInput {
  experimentIds: [String]
}

type TestMutation {
  """Echoes the input string"""
  output: String
}
```

--------------------------------------------------------------------------------

---[FILE: client.ts]---
Location: mlflow-master/mlflow/server/js/src/graphql/client.ts

```typescript
import {
  ApolloClient,
  ApolloLink,
  InMemoryCache,
  type Operation,
  createHttpLink,
} from '@mlflow/mlflow/src/common/utils/graphQLHooks';
import {
  // prettier-ignore
  RetryLink,
  DefaultHeadersLink as OssDefaultHeadersLink,
} from '@mlflow/mlflow/src/common/utils/graphQLHooks';

function containsMutation(op: Operation): boolean {
  const definitions = (op.query && op.query.definitions) || [];
  return Boolean(definitions.find((d) => d.kind === 'OperationDefinition' && d.operation === 'mutation'));
}

const backgroundLinkTimeoutMs = 10000;

const possibleTypes: Record<string, string[]> = {};

const graphqlFetch = async (uri: any, options: any): Promise<Response> => {
  const headers = new Headers({
    ...options.headers,
  });

  // eslint-disable-next-line no-restricted-globals -- See go/spog-fetch
  return fetch(uri, { ...options, headers }).then((res) => res);
};

const apolloCache = new InMemoryCache({
  possibleTypes,
  typePolicies: {
    Query: {
      fields: {},
    },
  },
});

export function createApolloClient() {
  const uri = 'graphql';
  const httpLink = createHttpLink({
    uri,
    credentials: 'same-origin',
    fetch: graphqlFetch,
  });

  // Copied from redash -- I guess the idea is to retry if the request isn't a mutation?
  const retryLink = new RetryLink({
    attempts: { retryIf: (_, op) => !containsMutation(op) },
  });

  const DefaultHeadersLink = OssDefaultHeadersLink;
  const defaultHeadersLink = new DefaultHeadersLink({
    cookieStr: document.cookie,
  });

  // eslint-disable-next-line prefer-const
  let combinedLinks = ApolloLink.from([
    // This link retries queries that fail due to network errors
    retryLink,
    // This link adds application-specific headers to HTTP requests (e.g., CSRF tokens)
    defaultHeadersLink,
    httpLink,
  ]);

  return new ApolloClient({
    link: combinedLinks,
    cache: apolloCache,
  });
}
```

--------------------------------------------------------------------------------

---[FILE: get-graphql-error.ts]---
Location: mlflow-master/mlflow/server/js/src/graphql/get-graphql-error.ts

```typescript
import type { ApolloError } from '@mlflow/mlflow/src/common/utils/graphQLHooks';
import { isApolloError } from '@mlflow/mlflow/src/common/utils/graphQLHooks';

interface CommonGraphQLApiError {
  code: string | null;
  message: string | null;
}

export const getGraphQLErrorMessage = (error?: CommonGraphQLApiError | ApolloError | Error | any) => {
  if (!error) {
    return undefined;
  }
  if (isApolloError(error)) {
    if (error.graphQLErrors.length > 0) {
      return error.graphQLErrors.map((e) => e.message || e.toString()).join(', ');
    }
  }

  if ('message' in error) {
    return error.message;
  }

  return error.toString();
};
```

--------------------------------------------------------------------------------

---[FILE: graphql-codegen.ts]---
Location: mlflow-master/mlflow/server/js/src/graphql/graphql-codegen.ts

```typescript
import type { CodegenConfig as BaseCodegenConfig } from '@graphql-codegen/cli';

type CodegenConfig = BaseCodegenConfig;

const config: CodegenConfig = {
  schema: [`./src/graphql/autogenerated_schema.gql`],
  documents: ['src/**/!(*.test).js*', 'src/**/!(*.test).ts*'],
  config: {
    avoidOptionals: {
      // Do not mark fields in the response as optional
      field: true,
    },
    namingConvention: {
      // Use ALL_CAPS for enum values
      enumValues: 'change-case-all#constantCase',
    },
    // Always include __typename fields on response types
    nonOptionalTypename: true,
    // Do not include "Query"/"Mutation" in the type name
    omitOperationSuffix: true,
    // Only include enums and operations to avoid introducing duplicate types
    onlyOperationTypes: true,
    // Explicitly list out mapping for custom scalars from GQL type to TS type
    scalars: {
      GraphQLAnyValue: 'any',
      Long: 'number',
      LongString: 'string',
      StringMap: 'Record<string, string>',
      JSON: 'any',
      WellKnownFieldMask: 'any',
      WellKnownTimestamp: 'any',
      WellKnownDuration: 'any',
      WellKnownStruct: 'Record<string, any>',
    },
    // Omit `__typename: 'QueryType'/'MutationType'` on operation types
    skipTypeNameForRoot: true,
    // Require all custom scalars to be specified in `scalars`
    strictScalars: true,
  },
  generates: {
    'src/graphql/__generated__/graphql.ts': {
      plugins: ['graphql-codegen-typescript-operation-types', 'typescript-operations'],
    },
  },
};

// eslint-disable-next-line import/no-default-export
export default config;
```

--------------------------------------------------------------------------------

---[FILE: graphql.ts]---
Location: mlflow-master/mlflow/server/js/src/graphql/__generated__/graphql.ts

```typescript
export type Maybe<T> = T | null;
export type InputMaybe<T> = Maybe<T>;
export type Exact<T extends { [key: string]: unknown }> = { [K in keyof T]: T[K] };
export type MakeOptional<T, K extends keyof T> = Omit<T, K> & { [SubKey in K]?: Maybe<T[SubKey]> };
export type MakeMaybe<T, K extends keyof T> = Omit<T, K> & { [SubKey in K]: Maybe<T[SubKey]> };
export type MakeEmpty<T extends { [key: string]: unknown }, K extends keyof T> = { [_ in K]?: never };
export type Incremental<T> = T | { [P in keyof T]?: P extends ' $fragmentName' | '__typename' ? T[P] : never };
/** All built-in and custom scalars, mapped to their actual values */
export type Scalars = {
  ID: { input: string; output: string; }
  String: { input: string; output: string; }
  Boolean: { input: boolean; output: boolean; }
  Int: { input: number; output: number; }
  Float: { input: number; output: number; }
  /** LongString Scalar type to prevent truncation to max integer in JavaScript. */
  LongString: { input: string; output: string; }
};

export enum MlflowDeploymentJobConnectionState {
  CONNECTED = 'CONNECTED',
  DEPLOYMENT_JOB_CONNECTION_STATE_UNSPECIFIED = 'DEPLOYMENT_JOB_CONNECTION_STATE_UNSPECIFIED',
  NOT_FOUND = 'NOT_FOUND',
  NOT_SET_UP = 'NOT_SET_UP',
  REQUIRED_PARAMETERS_CHANGED = 'REQUIRED_PARAMETERS_CHANGED'
}

export type MlflowGetExperimentInput = {
  experimentId?: InputMaybe<Scalars['String']['input']>;
};

export type MlflowGetMetricHistoryBulkIntervalInput = {
  endStep?: InputMaybe<Scalars['Int']['input']>;
  maxResults?: InputMaybe<Scalars['Int']['input']>;
  metricKey?: InputMaybe<Scalars['String']['input']>;
  runIds?: InputMaybe<Array<InputMaybe<Scalars['String']['input']>>>;
  startStep?: InputMaybe<Scalars['Int']['input']>;
};

export type MlflowGetRunInput = {
  runId?: InputMaybe<Scalars['String']['input']>;
  runUuid?: InputMaybe<Scalars['String']['input']>;
};

export enum MlflowModelVersionDeploymentJobStateDeploymentJobRunState {
  APPROVAL = 'APPROVAL',
  DEPLOYMENT_JOB_RUN_STATE_UNSPECIFIED = 'DEPLOYMENT_JOB_RUN_STATE_UNSPECIFIED',
  FAILED = 'FAILED',
  NO_VALID_DEPLOYMENT_JOB_FOUND = 'NO_VALID_DEPLOYMENT_JOB_FOUND',
  PENDING = 'PENDING',
  RUNNING = 'RUNNING',
  SUCCEEDED = 'SUCCEEDED'
}

export enum MlflowModelVersionStatus {
  FAILED_REGISTRATION = 'FAILED_REGISTRATION',
  PENDING_REGISTRATION = 'PENDING_REGISTRATION',
  READY = 'READY'
}

export enum MlflowRunStatus {
  FAILED = 'FAILED',
  FINISHED = 'FINISHED',
  KILLED = 'KILLED',
  RUNNING = 'RUNNING',
  SCHEDULED = 'SCHEDULED'
}

export type MlflowSearchRunsInput = {
  experimentIds?: InputMaybe<Array<InputMaybe<Scalars['String']['input']>>>;
  filter?: InputMaybe<Scalars['String']['input']>;
  maxResults?: InputMaybe<Scalars['Int']['input']>;
  orderBy?: InputMaybe<Array<InputMaybe<Scalars['String']['input']>>>;
  pageToken?: InputMaybe<Scalars['String']['input']>;
  runViewType?: InputMaybe<MlflowViewType>;
};

export enum MlflowViewType {
  ACTIVE_ONLY = 'ACTIVE_ONLY',
  ALL = 'ALL',
  DELETED_ONLY = 'DELETED_ONLY'
}

export type GetRunVariables = Exact<{
  data: MlflowGetRunInput;
}>;


export type GetRun = { mlflowGetRun: { __typename: 'MlflowGetRunResponse', apiError: { __typename: 'ApiError', helpUrl: string | null, code: string | null, message: string | null } | null, run: { __typename: 'MlflowRunExtension', info: { __typename: 'MlflowRunInfo', runName: string | null, status: MlflowRunStatus | null, runUuid: string | null, experimentId: string | null, artifactUri: string | null, endTime: string | null, lifecycleStage: string | null, startTime: string | null, userId: string | null } | null, experiment: { __typename: 'MlflowExperiment', experimentId: string | null, name: string | null, artifactLocation: string | null, lifecycleStage: string | null, lastUpdateTime: string | null, tags: Array<{ __typename: 'MlflowExperimentTag', key: string | null, value: string | null }> | null } | null, modelVersions: Array<{ __typename: 'MlflowModelVersion', status: MlflowModelVersionStatus | null, version: string | null, name: string | null, source: string | null }> | null, data: { __typename: 'MlflowRunData', metrics: Array<{ __typename: 'MlflowMetricExtension', key: string | null, value: number | null, step: string | null, timestamp: string | null }> | null, params: Array<{ __typename: 'MlflowParam', key: string | null, value: string | null }> | null, tags: Array<{ __typename: 'MlflowRunTag', key: string | null, value: string | null }> | null } | null, inputs: { __typename: 'MlflowRunInputs', datasetInputs: Array<{ __typename: 'MlflowDatasetInput', dataset: { __typename: 'MlflowDataset', digest: string | null, name: string | null, profile: string | null, schema: string | null, source: string | null, sourceType: string | null } | null, tags: Array<{ __typename: 'MlflowInputTag', key: string | null, value: string | null }> | null }> | null, modelInputs: Array<{ __typename: 'MlflowModelInput', modelId: string | null }> | null } | null, outputs: { __typename: 'MlflowRunOutputs', modelOutputs: Array<{ __typename: 'MlflowModelOutput', modelId: string | null, step: string | null }> | null } | null } | null } | null };

export type SearchRunsVariables = Exact<{
  data: MlflowSearchRunsInput;
}>;


export type SearchRuns = { mlflowSearchRuns: { __typename: 'MlflowSearchRunsResponse', apiError: { __typename: 'ApiError', helpUrl: string | null, code: string | null, message: string | null } | null, runs: Array<{ __typename: 'MlflowRunExtension', info: { __typename: 'MlflowRunInfo', runName: string | null, status: MlflowRunStatus | null, runUuid: string | null, experimentId: string | null, artifactUri: string | null, endTime: string | null, lifecycleStage: string | null, startTime: string | null, userId: string | null } | null, experiment: { __typename: 'MlflowExperiment', experimentId: string | null, name: string | null, artifactLocation: string | null, lifecycleStage: string | null, lastUpdateTime: string | null, tags: Array<{ __typename: 'MlflowExperimentTag', key: string | null, value: string | null }> | null } | null, data: { __typename: 'MlflowRunData', metrics: Array<{ __typename: 'MlflowMetricExtension', key: string | null, value: number | null, step: string | null, timestamp: string | null }> | null, params: Array<{ __typename: 'MlflowParam', key: string | null, value: string | null }> | null, tags: Array<{ __typename: 'MlflowRunTag', key: string | null, value: string | null }> | null } | null, inputs: { __typename: 'MlflowRunInputs', datasetInputs: Array<{ __typename: 'MlflowDatasetInput', dataset: { __typename: 'MlflowDataset', digest: string | null, name: string | null, profile: string | null, schema: string | null, source: string | null, sourceType: string | null } | null, tags: Array<{ __typename: 'MlflowInputTag', key: string | null, value: string | null }> | null }> | null, modelInputs: Array<{ __typename: 'MlflowModelInput', modelId: string | null }> | null } | null, outputs: { __typename: 'MlflowRunOutputs', modelOutputs: Array<{ __typename: 'MlflowModelOutput', modelId: string | null, step: string | null }> | null } | null, modelVersions: Array<{ __typename: 'MlflowModelVersion', version: string | null, name: string | null, creationTimestamp: string | null, status: MlflowModelVersionStatus | null, source: string | null }> | null }> | null } | null };

export type GetMetricHistoryBulkIntervalVariables = Exact<{
  data: MlflowGetMetricHistoryBulkIntervalInput;
}>;


export type GetMetricHistoryBulkInterval = { mlflowGetMetricHistoryBulkInterval: { __typename: 'MlflowGetMetricHistoryBulkIntervalResponse', metrics: Array<{ __typename: 'MlflowMetricWithRunId', timestamp: string | null, step: string | null, runId: string | null, key: string | null, value: number | null }> | null, apiError: { __typename: 'ApiError', code: string | null, message: string | null } | null } | null };

export type MlflowGetExperimentQueryVariables = Exact<{
  input: MlflowGetExperimentInput;
}>;


export type MlflowGetExperimentQuery = { mlflowGetExperiment: { __typename: 'MlflowGetExperimentResponse', apiError: { __typename: 'ApiError', code: string | null, message: string | null } | null, experiment: { __typename: 'MlflowExperiment', artifactLocation: string | null, creationTime: string | null, experimentId: string | null, lastUpdateTime: string | null, lifecycleStage: string | null, name: string | null, tags: Array<{ __typename: 'MlflowExperimentTag', key: string | null, value: string | null }> | null } | null } | null };
```

--------------------------------------------------------------------------------

---[FILE: HomePage.tsx]---
Location: mlflow-master/mlflow/server/js/src/home/HomePage.tsx
Signals: React

```typescript
import { useState } from 'react';
import { Alert, Button, Header, useDesignSystemTheme } from '@databricks/design-system';
import { FormattedMessage } from 'react-intl';
import { ScrollablePageWrapper } from '../common/components/ScrollablePageWrapper';
import { useQuery } from '@mlflow/mlflow/src/common/utils/reactQueryHooks';
import { MlflowService } from '../experiment-tracking/sdk/MlflowService';
import type { SearchExperimentsApiResponse } from '../experiment-tracking/types';
import { CreateExperimentModal } from '../experiment-tracking/components/modals/CreateExperimentModal';
import { useInvalidateExperimentList } from '../experiment-tracking/components/experiment-page/hooks/useExperimentListQuery';
import { GetStarted } from './components/GetStarted';
import { ExperimentsHomeView } from './components/ExperimentsHomeView';
import { DiscoverNews } from './components/DiscoverNews';
import { LogTracesDrawer } from './components/LogTracesDrawer';
import { TelemetryInfoAlert } from '../telemetry/TelemetryInfoAlert';

type ExperimentQueryKey = ['home', 'recent-experiments'];

const RECENT_EXPERIMENTS_QUERY_KEY: ExperimentQueryKey = ['home', 'recent-experiments'];

const HomePage = () => {
  const { theme } = useDesignSystemTheme();
  const invalidateExperiments = useInvalidateExperimentList();
  const [isCreateModalOpen, setIsCreateModalOpen] = useState(false);

  const { data, error, isLoading, refetch } = useQuery<
    SearchExperimentsApiResponse,
    Error,
    SearchExperimentsApiResponse,
    ExperimentQueryKey
  >(RECENT_EXPERIMENTS_QUERY_KEY, {
    queryFn: () =>
      MlflowService.searchExperiments([
        ['max_results', '5'],
        ['order_by', 'last_update_time DESC'],
      ]),
    staleTime: 30_000,
  });

  const experiments = data?.experiments;

  const handleOpenCreateModal = () => setIsCreateModalOpen(true);
  const handleCloseCreateModal = () => setIsCreateModalOpen(false);
  const handleExperimentCreated = () => {
    handleCloseCreateModal();
    invalidateExperiments();
    refetch();
  };

  return (
    <ScrollablePageWrapper
      css={{
        padding: theme.spacing.md,
        display: 'flex',
        flexDirection: 'column',
        gap: theme.spacing.lg,
        height: 'min-content',
      }}
    >
      <Header title={<FormattedMessage defaultMessage="Welcome to MLflow" description="Home page hero title" />} />
      <TelemetryInfoAlert />
      <GetStarted />
      <ExperimentsHomeView
        experiments={experiments}
        isLoading={isLoading}
        error={error}
        onCreateExperiment={handleOpenCreateModal}
        onRetry={refetch}
      />
      <DiscoverNews />

      <CreateExperimentModal
        isOpen={isCreateModalOpen}
        onClose={handleCloseCreateModal}
        onExperimentCreated={handleExperimentCreated}
      />
      <LogTracesDrawer />
    </ScrollablePageWrapper>
  );
};

export default HomePage;
```

--------------------------------------------------------------------------------

---[FILE: HomePageViewStateContext.tsx]---
Location: mlflow-master/mlflow/server/js/src/home/HomePageViewStateContext.tsx

```typescript
import { create } from '@databricks/web-shared/zustand';

type HomePageViewState = {
  isLogTracesDrawerOpen: boolean;
  openLogTracesDrawer: () => void;
  closeLogTracesDrawer: () => void;
};

export const useHomePageViewState = create<HomePageViewState>((set) => ({
  isLogTracesDrawerOpen: false,
  openLogTracesDrawer: () => set({ isLogTracesDrawerOpen: true }),
  closeLogTracesDrawer: () => set({ isLogTracesDrawerOpen: false }),
}));
```

--------------------------------------------------------------------------------

---[FILE: news-items.tsx]---
Location: mlflow-master/mlflow/server/js/src/home/news-items.tsx

```typescript
import { FormattedMessage } from 'react-intl';
import { AssistantIcon, NotebookIcon, RobotIcon, DatabaseIcon } from '@databricks/design-system';
import type { HomeNewsItemDefinition } from './types';

export const homeNewsItems: HomeNewsItemDefinition[] = [
  {
    id: 'mlflow-mcp-server',
    title: <FormattedMessage defaultMessage="MLflow MCP server" description="Home page news card title one" />,
    description:
      'Connect your coding assistants and AI applications to MLflow and automatically analyze your experiments and traces.',
    link: 'https://mlflow.org/docs/latest/genai/mcp/index.html',
    componentId: 'mlflow.home.news.auto_tune_llm_judge',
    thumbnail: {
      gradient: {
        light: 'linear-gradient(135deg, #E9F2FF 0%, #F4EBFF 100%)',
        dark: 'linear-gradient(135deg, #1E2633 0%, #2A2434 100%)',
      },
      icon: AssistantIcon,
    },
  },
  {
    id: 'optimize-prompts',
    title: <FormattedMessage defaultMessage="Optimize prompts" description="Home page news card title two" />,
    description:
      'Access the state-of-the-art prompt optimization algorithms such as MIPROv2, GEPA, through MLflow Prompt Registry.',
    link: 'https://mlflow.org/docs/latest/genai/prompt-registry/optimize-prompts',
    componentId: 'mlflow.home.news.optimize_prompts',
    thumbnail: {
      gradient: {
        light: 'linear-gradient(135deg, #E8F7F2 0%, #D5E8FF 100%)',
        dark: 'linear-gradient(135deg, #1E2B2A 0%, #1C2A3A 100%)',
      },
      icon: NotebookIcon,
    },
  },
  {
    id: 'agents-as-a-judge',
    title: <FormattedMessage defaultMessage="Agents-as-a-judge" description="Home page news card title three" />,
    description: 'Leverage agents as a judge to perform deep trace analysis and improve your evaluation accuracy.',
    link: 'https://mlflow.org/docs/latest/genai/eval-monitor/scorers/llm-judge/agentic-overview/index.html',
    componentId: 'mlflow.home.news.agents_as_a_judge',
    thumbnail: {
      gradient: {
        light: 'linear-gradient(135deg, #FFF5E1 0%, #FFE2F2 100%)',
        dark: 'linear-gradient(135deg, #3A2A1C 0%, #3A2230 100%)',
      },
      icon: RobotIcon,
    },
  },
  {
    id: 'dataset-tracking',
    title: <FormattedMessage defaultMessage="Dataset tracking" description="Home page news card title four" />,
    description: 'Track dataset lineage and versions and effectively drive the quality improvement loop.',
    link: 'https://mlflow.org/docs/latest/genai/datasets/',
    componentId: 'mlflow.home.news.dataset_tracking',
    thumbnail: {
      gradient: {
        light: 'linear-gradient(135deg, #E6F3FF 0%, #E0F1F6 100%)',
        dark: 'linear-gradient(135deg, #1F2B38 0%, #1E2A2F 100%)',
      },
      icon: DatabaseIcon,
    },
  },
];
```

--------------------------------------------------------------------------------

---[FILE: quick-actions.tsx]---
Location: mlflow-master/mlflow/server/js/src/home/quick-actions.tsx

```typescript
import { BeakerIcon, ModelsIcon, NotebookIcon, WorkflowsIcon } from '@databricks/design-system';
import { FormattedMessage } from 'react-intl';
import type { HomeQuickActionDefinition } from './types';

export const homeQuickActions: HomeQuickActionDefinition[] = [
  {
    id: 'log-traces',
    icon: WorkflowsIcon,
    componentId: 'mlflow.home.quick_action.log_traces',
    title: (
      <FormattedMessage defaultMessage="Log traces" description="Home page quick action title for logging traces" />
    ),
    description: (
      <FormattedMessage
        defaultMessage="Trace LLM applications for debugging and monitoring."
        description="Home page quick action description for logging traces"
      />
    ),
    link: 'https://mlflow.org/docs/latest/llms/tracing/index.html',
  },
  {
    id: 'run-evaluation',
    icon: BeakerIcon,
    componentId: 'mlflow.home.quick_action.run_evaluation',
    title: (
      <FormattedMessage
        defaultMessage="Run evaluation"
        description="Home page quick action title for running evaluations"
      />
    ),
    description: (
      <FormattedMessage
        defaultMessage="Iterate on quality with offline evaluations and comparisons."
        description="Home page quick action description for running evaluations"
      />
    ),
    link: 'https://mlflow.org/docs/latest/llms/llm-evaluate/index.html',
  },
  {
    id: 'train-models',
    icon: NotebookIcon,
    componentId: 'mlflow.home.quick_action.train_models',
    title: (
      <FormattedMessage defaultMessage="Train models" description="Home page quick action title for training models" />
    ),
    description: (
      <FormattedMessage
        defaultMessage="Track experiments, parameters, and metrics throughout training."
        description="Home page quick action description for training models"
      />
    ),
    link: 'https://mlflow.org/docs/latest/ml/tracking/quickstart/',
  },
  {
    id: 'register-prompts',
    icon: ModelsIcon,
    componentId: 'mlflow.home.quick_action.register_prompts',
    title: (
      <FormattedMessage
        defaultMessage="Register prompts"
        description="Home page quick action title for registering prompts"
      />
    ),
    description: (
      <FormattedMessage
        defaultMessage="Manage prompt updates and collaborate across teams."
        description="Home page quick action description for registering prompts"
      />
    ),
    link: 'https://mlflow.org/docs/latest/genai/prompt-registry/',
  },
];
```

--------------------------------------------------------------------------------

---[FILE: types.ts]---
Location: mlflow-master/mlflow/server/js/src/home/types.ts
Signals: React

```typescript
import type { ComponentType, ReactNode } from 'react';

export interface HomeQuickActionDefinition {
  id: string;
  icon: ComponentType<{ className?: string; css?: any }>;
  title: ReactNode;
  description: ReactNode;
  link: string;
  componentId: string;
}

export interface HomeNewsItemDefinition {
  id: string;
  title: ReactNode;
  description: ReactNode;
  link: string;
  componentId: string;
  thumbnail: {
    gradient: {
      light: string;
      dark: string;
    };
    label?: ReactNode;
    icon?: ComponentType<{ className?: string; css?: any }>;
  };
}

export type HomeExperimentRow = {
  experimentId: string;
  name: string;
  creationTime: number;
  lastUpdateTime: number;
  description?: string;
};
```

--------------------------------------------------------------------------------

---[FILE: DiscoverNews.test.tsx]---
Location: mlflow-master/mlflow/server/js/src/home/components/DiscoverNews.test.tsx
Signals: React

```typescript
import { describe, expect, it } from '@jest/globals';
import React from 'react';
import { renderWithDesignSystem, screen } from '@mlflow/mlflow/src/common/utils/TestUtils.react18';
import { DiscoverNews } from './DiscoverNews';
import { homeNewsItems } from '../news-items';

describe('DiscoverNews', () => {
  it('renders section header and all news links', () => {
    renderWithDesignSystem(<DiscoverNews />);

    expect(
      screen.getByRole('heading', {
        level: 3,
        name: 'Discover new features',
      }),
    ).toBeInTheDocument();

    homeNewsItems.forEach((item) => {
      const defaultMessage = (item.title as React.ReactElement).props.defaultMessage;
      const element = screen.getByText(defaultMessage);
      expect(element).toBeInTheDocument();
      expect(element.closest('a')).not.toBeNull();
    });
  });

  it('shows link to announcements page', () => {
    renderWithDesignSystem(<DiscoverNews />);

    expect(
      screen.getByRole('link', {
        name: 'View all',
      }),
    ).toBeInTheDocument();
  });

  it('renders news links with correct attributes', () => {
    renderWithDesignSystem(<DiscoverNews />);

    homeNewsItems.forEach((item) => {
      const defaultMessage = (item.title as React.ReactElement).props.defaultMessage;
      const linkElement = screen.getByText(defaultMessage).closest('a') as HTMLAnchorElement | null;

      expect(linkElement).not.toBeNull();
      expect(linkElement).toHaveAttribute('href', item.link);
      expect(linkElement).toHaveAttribute('target', '_blank');
      expect(linkElement).toHaveAttribute('rel', 'noopener noreferrer');
    });
  });
});
```

--------------------------------------------------------------------------------

---[FILE: DiscoverNews.tsx]---
Location: mlflow-master/mlflow/server/js/src/home/components/DiscoverNews.tsx
Signals: React

```typescript
import type { ComponentType, ReactNode } from 'react';
import { Spacer, Typography, useDesignSystemTheme } from '@databricks/design-system';
import { FormattedMessage } from 'react-intl';
import { homeNewsItems } from '../news-items';

type NewsThumbnailProps = {
  gradient: {
    light: string;
    dark: string;
  };
  title: ReactNode;
  description: ReactNode;
  icon?: ComponentType<{ className?: string; css?: any }>;
};

const NewsThumbnail = ({ gradient, title, description, icon: IconComponent }: NewsThumbnailProps) => {
  const { theme } = useDesignSystemTheme();

  return (
    <div
      css={{
        borderRadius: theme.borders.borderRadiusMd,
        aspectRatio: '16 / 9',
        background: theme.isDarkMode ? gradient.dark : gradient.light,
        display: 'flex',
        flexDirection: 'column',
        padding: theme.spacing.md,
        gap: theme.spacing.md,
      }}
    >
      <div css={{ display: 'flex', flexDirection: 'column', gap: theme.spacing.xs }}>
        <Typography.Text bold color="primary">
          {title}
        </Typography.Text>
        {description ? <Typography.Text color="secondary">{description}</Typography.Text> : <Spacer size="sm" />}
      </div>
      {IconComponent && (
        <div css={{ display: 'flex', alignItems: 'flex-end', justifyContent: 'flex-end', flex: 1 }}>
          <IconComponent css={{ color: theme.colors.white, fontSize: 24 }} />
        </div>
      )}
    </div>
  );
};

const DiscoverNewsCard = ({ title, description, link, thumbnail }: typeof homeNewsItems[number]) => {
  const { theme } = useDesignSystemTheme();
  const linkStyles = {
    textDecoration: 'none',
    color: theme.colors.textPrimary,
    display: 'block',
  };

  const card = (
    <div
      css={{
        overflow: 'hidden',
        border: `1px solid ${theme.colors.actionDefaultBorderDefault}`,
        borderRadius: theme.borders.borderRadiusMd,
        background: theme.colors.backgroundPrimary,
        padding: theme.spacing.sm + theme.spacing.xs,
        display: 'flex',
        flexDirection: 'column' as const,
        gap: theme.spacing.sm,
        boxSizing: 'border-box' as const,
        boxShadow: theme.shadows.sm,
        cursor: 'pointer',
        transition: 'background 150ms ease',
        height: '100%',
        width: 320,
        minWidth: 320,
        '&:hover': {
          background: theme.colors.actionDefaultBackgroundHover,
        },
        '&:active': {
          background: theme.colors.actionDefaultBackgroundPress,
        },
      }}
    >
      <NewsThumbnail gradient={thumbnail.gradient} title={title} description={description} icon={thumbnail.icon} />
    </div>
  );

  return (
    <a href={link} target="_blank" rel="noopener noreferrer" css={linkStyles}>
      {card}
    </a>
  );
};

export const DiscoverNews = () => {
  const { theme } = useDesignSystemTheme();

  return (
    <section css={{ display: 'flex', flexDirection: 'column', gap: theme.spacing.md }}>
      <div
        css={{
          display: 'flex',
          alignItems: 'center',
          justifyContent: 'space-between',
          gap: theme.spacing.md,
        }}
      >
        <Typography.Title level={3} css={{ margin: 0 }}>
          <FormattedMessage defaultMessage="Discover new features" description="Home page news section title" />
        </Typography.Title>
        <Typography.Link
          componentId="mlflow.home.news.view_more"
          href="https://mlflow.org/blog/"
          openInNewTab
          css={{ color: theme.colors.textSecondary }}
        >
          <FormattedMessage defaultMessage="View all" description="Home page news section view more link" />
        </Typography.Link>
      </div>
      <section css={{ width: '100%', minWidth: 0 }}>
        <div
          css={{
            width: '100%',
            display: 'flex',
            gap: theme.spacing.sm + theme.spacing.xs,
            flexWrap: 'wrap',
          }}
        >
          {homeNewsItems.map((item) => (
            <DiscoverNewsCard key={item.id} {...item} />
          ))}
        </div>
      </section>
    </section>
  );
};
```

--------------------------------------------------------------------------------

---[FILE: ExperimentsHomeView.test.tsx]---
Location: mlflow-master/mlflow/server/js/src/home/components/ExperimentsHomeView.test.tsx
Signals: React

```typescript
import { describe, expect, it, jest } from '@jest/globals';
import React from 'react';
import userEvent from '@testing-library/user-event';
import { renderWithDesignSystem, screen } from '@mlflow/mlflow/src/common/utils/TestUtils.react18';
import type { ExperimentEntity } from '../../experiment-tracking/types';
import { ExperimentsHomeView } from './ExperimentsHomeView';
import { MemoryRouter } from '../../common/utils/RoutingUtils';

jest.mock('../../experiment-tracking/components/ExperimentListTable', () => ({
  ExperimentListTable: ({ experiments }: { experiments: ExperimentEntity[] }) => (
    <div data-testid="experiment-list-table">{`rows:${experiments.length}`}</div>
  ),
}));

const renderWithRouter = (ui: React.ReactElement) => renderWithDesignSystem(<MemoryRouter>{ui}</MemoryRouter>);

describe('ExperimentsHomeView', () => {
  const sampleExperiment: ExperimentEntity = {
    allowedActions: [],
    artifactLocation: 'dbfs:/experiment',
    creationTime: 1,
    experimentId: '1',
    lastUpdateTime: 2,
    lifecycleStage: 'active',
    name: 'Test experiment',
    tags: [],
  };

  it('shows empty state when there are no experiments', async () => {
    const onCreateExperiment = jest.fn();

    renderWithRouter(
      <ExperimentsHomeView
        experiments={[]}
        isLoading={false}
        error={null}
        onCreateExperiment={onCreateExperiment}
        onRetry={jest.fn()}
      />,
    );

    expect(screen.getByRole('heading', { level: 3, name: 'Experiments' })).toBeInTheDocument();
    expect(screen.getByText('Create your first experiment')).toBeInTheDocument();
    expect(screen.getByRole('link', { name: 'View all' })).toBeInTheDocument();

    await userEvent.click(screen.getByRole('button', { name: 'Create experiment' }));
    expect(onCreateExperiment).toHaveBeenCalled();
  });

  it('renders error state and allows retry', async () => {
    const onRetry = jest.fn();
    const error = new Error('Boom');

    renderWithRouter(
      <ExperimentsHomeView
        experiments={[sampleExperiment]}
        isLoading={false}
        error={error}
        onCreateExperiment={jest.fn()}
        onRetry={onRetry}
      />,
    );

    expect(screen.getByText("We couldn't load your experiments.")).toBeInTheDocument();
    expect(screen.getByText('Boom')).toBeInTheDocument();

    await userEvent.click(screen.getByRole('button', { name: 'Retry' }));
    expect(onRetry).toHaveBeenCalled();
  });

  it('renders experiment preview when data is available', () => {
    renderWithRouter(
      <ExperimentsHomeView
        experiments={[sampleExperiment]}
        isLoading={false}
        error={null}
        onCreateExperiment={jest.fn()}
        onRetry={jest.fn()}
      />,
    );

    expect(screen.getByTestId('experiment-list-table')).toHaveTextContent('rows:1');
  });
});
```

--------------------------------------------------------------------------------

````
