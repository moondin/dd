---
source_txt: fullstack_samples/grapesjs-dev
converted_utc: 2025-12-18T13:04:40Z
part: 7
parts_total: 97
---

# FULLSTACK CODE DATABASE SAMPLES grapesjs-dev

## Verbatim Content (Part 7 of 97)

````text
================================================================================
FULLSTACK SAMPLES CODE DATABASE (VERBATIM) - grapesjs-dev
================================================================================
Generated: December 18, 2025
Source: fullstack_samples/grapesjs-dev
================================================================================

NOTES:
- This output is verbatim because the source is user-owned.
- Large/binary files may be skipped by size/binary detection limits.

================================================================================

---[FILE: assets.md]---
Location: grapesjs-dev/docs/api/assets.md

```text
<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

## Assets

You can customize the initial state of the module from the editor initialization, by passing the following [Configuration Object][1]

```js
const editor = grapesjs.init({
 assetManager: {
   // options
 }
})
```

Once the editor is instantiated you can use its API. Before using these methods you should get the module from the instance

```js
const assetManager = editor.AssetManager;
```

## Available Events
* `asset:add` New asset added to the collection. The [Asset] is passed as an argument to the callback.

```javascript
editor.on('asset:add', (asset) => { ... });
```

* `asset:remove` Asset removed from the collection. The [Asset] is passed as an argument to the callback.

```javascript
editor.on('asset:remove', (asset) => { ... });
```

* `asset:update` Asset updated. The [Asset] and the object containing changes are passed as arguments to the callback.

```javascript
editor.on('asset:update', (asset, updatedProps) => { ... });
```

* `asset:open` Asset Manager opened.

```javascript
editor.on('asset:open', () => { ... });
```

* `asset:close` Asset Manager closed.

```javascript
editor.on('asset:close', () => { ... });
```

* `asset:upload:start` Asset upload start.

```javascript
editor.on('asset:upload:start', () => { ... });
```

* `asset:upload:end` Asset upload end.

```javascript
editor.on('asset:upload:end', (result) => { ... });
```

* `asset:upload:error` Asset upload error.

```javascript
editor.on('asset:upload:error', (error) => { ... });
```

* `asset:upload:response` Asset upload response.

```javascript
editor.on('asset:upload:response', (res) => { ... });
```

* `asset:custom` Event to use in case of [custom Asset Manager UI](https\://grapesjs.com/docs/modules/Assets.html#customization).

```javascript
editor.on('asset:custom', ({ container, assets, ... }) => { ... });
```

* `asset` Catch-all event for all the events mentioned above. An object containing all the available data about the triggered event is passed as an argument to the callback.

```javascript
editor.on('asset', ({ event, model, ... }) => { ... });
```

## Methods

*   [open][2]
*   [close][3]
*   [isOpen][4]
*   [add][5]
*   [get][6]
*   [getAll][7]
*   [getAllVisible][8]
*   [remove][9]
*   [getContainer][10]

[Asset]: asset.html

## open

Open the asset manager.

### Parameters

*   `options` **[Object][11]?** Options for the asset manager. (optional, default `{}`)

    *   `options.types` **[Array][12]<[String][13]>** Types of assets to show. (optional, default `['image']`)
    *   `options.select` **[Function][14]?** Type of operation to perform on asset selection. If not specified, nothing will happen.

### Examples

```javascript
assetManager.open({
 select(asset, complete) {
   const selected = editor.getSelected();
   if (selected && selected.is('image')) {
     selected.addAttributes({ src: asset.getSrc() });
     // The default AssetManager UI will trigger `select(asset, false)` on asset click
     // and `select(asset, true)` on double-click
     complete && assetManager.close();
   }
 }
});
// with your custom types (you should have assets with those types declared)
assetManager.open({ types: ['doc'], ... });
```

## close

Close the asset manager.

### Examples

```javascript
assetManager.close();
```

## isOpen

Checks if the asset manager is open

### Examples

```javascript
assetManager.isOpen(); // true | false
```

Returns **[Boolean][15]**&#x20;

## add

Add new asset/s to the collection. URLs are supposed to be unique

### Parameters

*   `asset` **([String][13] | [Object][11] | [Array][12]<[String][13]> | [Array][12]<[Object][11]>)** URL strings or an objects representing the resource.
*   `opts` **[Object][11]?** Options (optional, default `{}`)

### Examples

```javascript
// As strings
assetManager.add('http://img.jpg');
assetManager.add(['http://img.jpg', './path/to/img.png']);

// Using objects you can indicate the type and other meta informations
assetManager.add({
 // type: 'image',	// image is default
	src: 'http://img.jpg',
	height: 300,
width: 200,
});
assetManager.add([{ src: 'img2.jpg' }, { src: 'img2.png' }]);
```

Returns **[Asset]**&#x20;

## get

Return asset by URL

### Parameters

*   `src` **[String][13]** URL of the asset

### Examples

```javascript
const asset = assetManager.get('http://img.jpg');
```

Returns **([Asset] | null)**&#x20;

## getAll

Return the global collection, containing all the assets

Returns **Collection<[Asset]>**&#x20;

## getAllVisible

Return the visible collection, which contains assets actually rendered

Returns **Collection<[Asset]>**&#x20;

## remove

Remove asset

### Parameters

*   `asset` **([String][13] | [Asset])** Asset or asset URL
*   `opts` **RemoveOptions?**&#x20;

### Examples

```javascript
const removed = assetManager.remove('http://img.jpg');
// or by passing the Asset
const asset = assetManager.get('http://img.jpg');
assetManager.remove(asset);
```

Returns **[Asset]** Removed asset

## getContainer

Return the Asset Manager Container

Returns **[HTMLElement][16]**&#x20;

[1]: https://github.com/GrapesJS/grapesjs/blob/master/src/asset_manager/config/config.ts

[2]: #open

[3]: #close

[4]: #isopen

[5]: #add

[6]: #get

[7]: #getall

[8]: #getallvisible

[9]: #remove

[10]: #getcontainer

[11]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[12]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[13]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[14]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[15]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[16]: https://developer.mozilla.org/docs/Web/HTML/Element
```

--------------------------------------------------------------------------------

---[FILE: block.md]---
Location: grapesjs-dev/docs/api/block.md

```text
<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

## Block

### Properties

*   `label` **[String][1]** Block label, eg. `My block`
*   `content` **([String][1] | [Object][2])** The content of the block. Might be an HTML string or a [Component Definition][3]
*   `media` **[String][1]?** HTML string for the media/icon of the block, eg. `<svg ...`, `<img ...`, etc.
*   `category` **[String][1]?** Block category, eg. `Basic blocks`
*   `activate` **[Boolean][4]?** If true, triggers the `active` event on the dropped component.
*   `select` **[Boolean][4]?** If true, the dropped component will be selected.
*   `resetId` **[Boolean][4]?** If true, all IDs of dropped components and their styles will be changed.
*   `disable` **[Boolean][4]?** Disable the block from being interacted
*   `onClick` **[Function][5]?** Custom behavior on click, eg. `(block, editor) => editor.getWrapper().append(block.get('content'))`
*   `attributes` **[Object][2]?** Block attributes to apply in the view element

## getId

Get block id

Returns **[String][1]**&#x20;

## getLabel

Get block label

Returns **[String][1]**&#x20;

## getMedia

Get block media

Returns **[String][1]**&#x20;

## getContent

Get block content

Returns **([Object][2] | [String][1] | [Array][6]<([Object][2] | [String][1])>)**&#x20;

## getDragDef

Get block component dragDef

Returns **ComponentDefinition**&#x20;

## getCategoryLabel

Get block category label

Returns **[String][1]**&#x20;

[1]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[2]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[3]: /modules/Components.html#component-definition

[4]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[5]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[6]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array
```

--------------------------------------------------------------------------------

---[FILE: block_manager.md]---
Location: grapesjs-dev/docs/api/block_manager.md

```text
<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

## Blocks

You can customize the initial state of the module from the editor initialization, by passing the following [Configuration Object][1]

```js
const editor = grapesjs.init({
 blockManager: {
   // options
 }
})
```

Once the editor is instantiated you can use its API and listen to its events. Before using these methods, you should get the module from the instance.

```js
// Listen to events
editor.on('block:add', (block) => { ... });

// Use the API
const blockManager = editor.Blocks;
blockManager.add(...);
```

## Available Events
* `block:add` New block added to the collection. The [Block] is passed as an argument to the callback.

```javascript
editor.on('block:add', (block) => { ... });
```

* `block:remove` Block removed from the collection. The [Block] is passed as an argument to the callback.

```javascript
editor.on('block:remove', (block) => { ... });
```

* `block:remove:before` Event triggered before Block remove.

```javascript
editor.on('block:remove:before', (block, remove, opts) => { ... });
```

* `block:update` Block updated. The [Block] and the object containing changes are passed as arguments to the callback.

```javascript
editor.on('block:update', (block, updatedProps) => { ... });
```

* `block:drag:start` Started dragging block. The [Block] is passed as an argument.

```javascript
editor.on('block:drag:start', (block) => { ... });
```

* `block:drag` The block is dragging. The [Block] is passed as an argument.

```javascript
editor.on('block:drag', (block) => { ... });
```

* `block:drag:stop` Dragging of the block is stopped. The dropped [Component] (if dropped successfully) and the [Block] are passed as arguments.

```javascript
editor.on('block:drag:stop', (component, block) => { ... });
```

* `block:category:update` Block category updated.

```javascript
editor.on('block:category:update', ({ category, changes }) => { ... });
```

* `block:custom` Event to use in case of [custom Block Manager UI](https\://grapesjs.com/docs/modules/Blocks.html#customization).

```javascript
editor.on('block:custom', ({ container, blocks, ... }) => { ... });
```

* `block` Catch-all event for all the events mentioned above. An object containing all the available data about the triggered event is passed as an argument to the callback.

```javascript
editor.on('block', ({ event, model, ... }) => { ... });
```

* BlocksEventCallback

[Block]: block.html

[Component]: component.html

## getConfig

Get configuration object

Returns **[Object][2]**&#x20;

## add

Add new block.

### Parameters

*   `id` **[String][3]** Block ID
*   `props` **[Block]** Block properties
*   `opts`   (optional, default `{}`)

### Examples

```javascript
blockManager.add('h1-block', {
  label: 'Heading',
  content: '<h1>Put your title here</h1>',
  category: 'Basic',
  attributes: {
    title: 'Insert h1 block'
  }
});
```

Returns **[Block]** Added block

## get

Get the block by id.

### Parameters

*   `id` **[String][3]** Block id

### Examples

```javascript
const block = blockManager.get('h1-block');
console.log(JSON.stringify(block));
// {label: 'Heading', content: '<h1>Put your ...', ...}
```

Returns **[Block]**&#x20;

## getAll

Return all blocks.

### Examples

```javascript
const blocks = blockManager.getAll();
console.log(JSON.stringify(blocks));
// [{label: 'Heading', content: '<h1>Put your ...'}, ...]
```

Returns **Collection<[Block]>**&#x20;

## getAllVisible

Return the visible collection, which containes blocks actually rendered

Returns **Collection<[Block]>**&#x20;

## remove

Remove block.

### Parameters

*   `block` **([String][3] | [Block])** Block or block ID
*   `opts`   (optional, default `{}`)

### Examples

```javascript
const removed = blockManager.remove('BLOCK_ID');
// or by passing the Block
const block = blockManager.get('BLOCK_ID');
blockManager.remove(block);
```

Returns **[Block]** Removed block

## getCategories

Get all available categories.
It's possible to add categories only within blocks via 'add()' method

Returns **([Array][4] | Collection)**&#x20;

## getContainer

Return the Blocks container element

Returns **[HTMLElement][5]**&#x20;

## getDragBlock

Returns currently dragging block.
Updated when the drag starts and cleared once it's done.

Returns **([Block] | [undefined][6])**&#x20;

## getBlocksByCategory

Get blocks by category.

### Parameters

*   `blocks` **[Array][4]\<Block>?**&#x20;

### Examples

```javascript
blockManager.getBlocksByCategory();
// Returns an array of items of this type
// > { category?: Category; items: Block[] }

// NOTE: The item without category is the one containing blocks without category.

// You can also get the same output format by passing your own array of Blocks
const myFilteredBlocks: Block[] = [...];
blockManager.getBlocksByCategorymyFilteredBlocks
```

Returns **[Array][4]\<BlocksByCategory>**&#x20;

## render

Render blocks

### Parameters

*   `blocks` **[Array][4]** Blocks to render, without the argument will render all global blocks
*   `opts` **[Object][2]** Options (optional, default `{}`)

    *   `opts.external` **[Boolean][7]?** Render blocks in a new container (HTMLElement will be returned)
    *   `opts.ignoreCategories` **[Boolean][7]?** Render blocks without categories

### Examples

```javascript
// Render all blocks (inside the global collection)
blockManager.render();

// Render new set of blocks
const blocks = blockManager.getAll();
const filtered = blocks.filter(block => block.get('category') == 'sections')

blockManager.render(filtered);
// Or a new set from an array
blockManager.render([
 {label: 'Label text', content: '<div>Content</div>'}
]);

// Back to blocks from the global collection
blockManager.render();

// You can also render your blocks outside of the main block container
const newBlocksEl = blockManager.render(filtered, { external: true });
document.getElementById('some-id').appendChild(newBlocksEl);
```

Returns **[HTMLElement][5]** Rendered element

[1]: https://github.com/GrapesJS/grapesjs/blob/master/src/block_manager/config/config.ts

[2]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[3]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[4]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[5]: https://developer.mozilla.org/docs/Web/HTML/Element

[6]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/undefined

[7]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean
```

--------------------------------------------------------------------------------

---[FILE: canvas.md]---
Location: grapesjs-dev/docs/api/canvas.md

```text
<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

## Canvas

You can customize the initial state of the module from the editor initialization, by passing the following [Configuration Object][1]

```js
const editor = grapesjs.init({
 canvas: {
   // options
 }
})
```

Once the editor is instantiated you can use its API and listen to its events. Before using these methods, you should get the module from the instance.

```js
// Listen to events
editor.on('canvas:drop', () => { ... });

// Use the API
const canvas = editor.Canvas;
canvas.setCoords(...);
```

## Available Events
* `canvas:dragenter` Something is dragged inside the canvas, `DataTransfer` instance passed as an argument.

* `canvas:dragover` Something is dragging on the canvas, `DataTransfer` instance passed as an argument.

* `canvas:dragend` When a drag operation is ended, `DataTransfer` instance passed as an argument.

* `canvas:dragdata` On any dataTransfer parse, `DataTransfer` instance and the `result` are passed as arguments. By changing `result.content` you're able to customize what is dropped.

* `canvas:drop` Something is dropped in canvas, `DataTransfer` instance and the dropped model are passed as arguments.

* `canvas:spot` Spots updated.

```javascript
editor.on('canvas:spot', () => {
 console.log('Spots', editor.Canvas.getSpots());
});
```

* `canvas:spot:add` New canvas spot added.

```javascript
editor.on('canvas:spot:add', ({ spot }) => {
 console.log('Spot added', spot);
});
```

* `canvas:spot:update` Canvas spot updated.

```javascript
editor.on('canvas:spot:update', ({ spot }) => {
 console.log('Spot updated', spot);
});
```

* `canvas:spot:remove` Canvas spot removed.

```javascript
editor.on('canvas:spot:remove', ({ spot }) => {
 console.log('Spot removed', spot);
});
```

* `canvas:coords` Canvas coordinates updated.

```javascript
editor.on('canvas:coords', () => {
 console.log('Canvas coordinates updated:', editor.Canvas.getCoords());
});
```

* `canvas:zoom` Canvas zoom updated.

```javascript
editor.on('canvas:zoom', () => {
 console.log('Canvas zoom updated:', editor.Canvas.getZoom());
});
```

* `canvas:pointer` Canvas pointer updated.

```javascript
editor.on('canvas:pointer', () => {
 console.log('Canvas pointer updated:', editor.Canvas.getPointer());
});
```

* `canvas:refresh` Canvas was refreshed to update elements on top, like spots/tools (eg. via `editor.Canvas.refresh()` or on frame resize).

```javascript
editor.on('canvas:refresh', (canvasRefreshOptions) => {
 console.log('Canvas refreshed with options:', canvasRefreshOptions);
});
```

* `canvas:frame:load` Frame loaded in canvas. The event is triggered right after iframe's `onload`.

```javascript
editor.on('canvas:frame:load', ({ window }) => {
 console.log('Frame loaded', window);
});
```

* `canvas:frame:load:head` Frame head loaded in canvas. The event is triggered right after iframe's finished to load the head elements (eg. scripts)

```javascript
editor.on('canvas:frame:load:head', ({ window }) => {
 console.log('Frame head loaded', window);
});
```

* `canvas:frame:load:body` Frame body loaded in canvas. The event is triggered when the body is rendered with components.

```javascript
editor.on('canvas:frame:load:body', ({ window }) => {
 console.log('Frame completed the body render', window);
});
```

* `canvas:frame:unload` Frame is unloading from the canvas.

```javascript
editor.on('canvas:frame:unload', ({ frame }) => {
 console.log('Unloading frame', frame);
});
```

[Component]: component.html

[Frame]: frame.html

[CanvasSpot]: canvas_spot.html

## getConfig

Get configuration object

Returns **[Object][2]**&#x20;

## getElement

Get the canvas element

Returns **[HTMLElement][3]**&#x20;

## getFrameEl

Get the main frame element of the canvas

Returns **[HTMLIFrameElement][4]**&#x20;

## getWindow

Get the main frame window instance

Returns **[Window][5]**&#x20;

## getDocument

Get the main frame document element

Returns **HTMLDocument**&#x20;

## getBody

Get the main frame body element

Returns **[HTMLBodyElement][6]**&#x20;

## setCustomBadgeLabel

Set custom badge naming strategy

### Parameters

*   `f` **[Function][7]**&#x20;

### Examples

```javascript
canvas.setCustomBadgeLabel(function(component){
 return component.getName();
});
```

## getRect

Get canvas rectangular data

Returns **[Object][2]**&#x20;

## startDrag

Start custom drag-and-drop process.

### Parameters

*   `dragSource` **DragSource\<Component>** The source object for the drag operation, containing the component being dragged.

### Examples

```javascript
// as component definition
canvas.startDrag({
 content: { type: 'my-component' }
});
// as HTML
canvas.startDrag({
 content: '<div>...</div>'
});
```

## endDrag

Ends the drag-and-drop process, resetting the drag source and clearing any drag results.
This method can be used to finalize custom drag-and-drop content operations.

### Examples

```javascript
canvas.startDrag({...});
// ... drag finished ...
canvas.endDrag();
```

## hasFocus

Check if the canvas is focused

Returns **[Boolean][8]**&#x20;

## scrollTo

Scroll canvas to the element if it's not visible. The scrolling is
executed via `scrollIntoView` API and options of this method are
passed to it. For instance, you can scroll smoothly by using
`{ behavior: 'smooth' }`.

### Parameters

*   `el` **([HTMLElement][3] | [Component])**&#x20;
*   `opts` **[Object][2]** Options, same as options for `scrollIntoView` (optional, default `{}`)

    *   `opts.force` **[Boolean][8]** Force the scroll, even if the element is already visible (optional, default `false`)

### Examples

```javascript
const selected = editor.getSelected();
// Scroll smoothly (this behavior can be polyfilled)
canvas.scrollTo(selected, { behavior: 'smooth' });
// Force the scroll, even if the element is already visible
canvas.scrollTo(selected, { force: true });
```

## setZoom

Set canvas zoom value

### Parameters

*   `value` **[Number][9]** The zoom value, from 0 to 100
*   `opts` **SetZoomOptions**  (optional, default `{}`)

### Examples

```javascript
canvas.setZoom(50); // set zoom to 50%
```

Returns **this**&#x20;

## getZoom

Get canvas zoom value

### Examples

```javascript
canvas.setZoom(50); // set zoom to 50%
const zoom = canvas.getZoom(); // 50
```

Returns **[Number][9]**&#x20;

## setCoords

Set canvas position coordinates

### Parameters

*   `x` **[Number][9]** Horizontal position
*   `y` **[Number][9]** Vertical position
*   `opts` **ToWorldOption**  (optional, default `{}`)

### Examples

```javascript
canvas.setCoords(100, 100);
```

Returns **this**&#x20;

## getCoords

Get canvas position coordinates

### Examples

```javascript
canvas.setCoords(100, 100);
const coords = canvas.getCoords();
// { x: 100, y: 100 }
```

Returns **[Object][2]** Object containing coordinates

## getLastDragResult

Get the last created Component from a drag & drop to the canvas.

Returns **([Component] | [undefined][10])**&#x20;

## addSpot

Add or update canvas spot.

### Parameters

*   `props` **[Object][2]** Canvas spot properties.
*   `opts` **AddOptions**  (optional, default `{}`)

### Examples

```javascript
// Add new canvas spot
const spot = canvas.addSpot({
 type: 'select', // 'select' is one of the built-in spots
 component: editor.getSelected(),
});

// Add custom canvas spot
const spot = canvas.addSpot({
 type: 'my-custom-spot',
 component: editor.getSelected(),
});
// Update the same spot by reusing its ID
canvas.addSpot({
 id: spot.id,
 component: anotherComponent,
});
```

Returns **[CanvasSpot]**&#x20;

## getSpots

Get canvas spots.

### Parameters

*   `spotProps` **[Object][2]?** Canvas spot properties for filtering the result. With no properties, all available spots will be returned. (optional, default `{}`)

### Examples

```javascript
canvas.addSpot({ type: 'select', component: cmp1 });
canvas.addSpot({ type: 'select', component: cmp2 });
canvas.addSpot({ type: 'target', component: cmp3 });

// Get all spots
const allSpots = canvas.getSpots();
allSpots.length; // 3

// Get all 'select' spots
const allSelectSpots = canvas.getSpots({ type: 'select' });
allSelectSpots.length; // 2
```

Returns **[Array][11]<[CanvasSpot]>**&#x20;

## removeSpots

Remove canvas spots.

### Parameters

*   `spotProps` **([Object][2] | [Array][11]<[CanvasSpot]>)?** Canvas spot properties for filtering spots to remove or an array of spots to remove. With no properties, all available spots will be removed. (optional, default `{}`)

### Examples

```javascript
canvas.addSpot({ type: 'select', component: cmp1 });
canvas.addSpot({ type: 'select', component: cmp2 });
canvas.addSpot({ type: 'target', component: cmp3 });

// Remove all 'select' spots
canvas.removeSpots({ type: 'select' });

// Remove spots by an array of canvas spots
const filteredSpots = canvas.getSpots().filter(spot => myCustomCondition);
canvas.removeSpots(filteredSpots);

// Remove all spots
canvas.removeSpots();
```

Returns **[Array][11]<[CanvasSpot]>**&#x20;

## hasCustomSpot

Check if the built-in canvas spot has a declared custom rendering.

### Parameters

*   `type` **[String][12]** Built-in canvas spot type

### Examples

```javascript
grapesjs.init({
 // ...
 canvas: {
   // avoid rendering the built-in 'target' canvas spot
   customSpots: { target: true }
 }
});
// ...
canvas.hasCustomSpot('select'); // false
canvas.hasCustomSpot('target'); // true
```

Returns **[Boolean][8]**&#x20;

## getWorldRectToScreen

Transform a box rect from the world coordinate system to the screen one.

### Parameters

*   `boxRect` **[Object][2]**&#x20;

Returns **[Object][2]**&#x20;

## refresh

Update canvas for spots/tools positioning.

### Parameters

*   `opts` **[Object][2]?** Options. (optional, default `{}`)

    *   `opts.spots` **[Object][2]** Update the position of spots. (optional, default `false`)

[1]: https://github.com/GrapesJS/grapesjs/blob/master/src/canvas/config/config.ts

[2]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[3]: https://developer.mozilla.org/docs/Web/HTML/Element

[4]: https://developer.mozilla.org/docs/Web/API/HTMLIFrameElement

[5]: https://developer.mozilla.org/docs/Web/API/Window

[6]: https://developer.mozilla.org/docs/Web/HTML/Element/body

[7]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[8]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[9]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[10]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/undefined

[11]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[12]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String
```

--------------------------------------------------------------------------------

---[FILE: canvas_spot.md]---
Location: grapesjs-dev/docs/api/canvas_spot.md

```text
<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

## CanvasSpot



Canvas spots are elements drawn on top of the canvas. They can be used to represent anything you
might need but the most common use case of canvas spots is rendering information and managing
components rendered in the canvas.
Read here for more information about [Canvas Spots][1]

[Component]: component.html

### Properties

*   `id` **[String][2]** Spot ID.
*   `type` **[String][2]** Spot type.
*   `component` **[Component]?** Component to which the spot will be attached.
*   `componentView` **ComponentView?** ComponentView to which the spot will be attached.
*   `boxRect` **[Object][3]?** Fixed box rect of the spot, eg. `{ width: 100, height: 100, x: 0, y: 0 }`.

### getBoxRect

Get the box rect of the spot.

#### Parameters

*   `opts` **[Object][3]**  (optional, default `{}`)

#### Examples

```javascript
canvasSpot.getBoxRect();
// { width: 100, height: 50, x: 0, y: 0 }
```

Returns **[Object][3]** The box rect object

### getStyle

Get the style object of the spot.

#### Parameters

*   `opts` **[Object][3]**  (optional, default `{}`)

#### Examples

```javascript
canvasSpot.getStyle();
// { width: '100px', height: '...', ... }
```

Returns **CSSStyleDeclaration** \[opts]

### isType

Check the spot type.

#### Parameters

*   `type` **[String][2]**&#x20;

#### Examples

```javascript
canvasSpot.isType('select');
```

Returns **[Boolean][4]**&#x20;

[1]: https://grapesjs.com/docs/modules/Canvas.html#canvas-spots

[2]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[3]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[4]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean
```

--------------------------------------------------------------------------------

---[FILE: commands.md]---
Location: grapesjs-dev/docs/api/commands.md

```text
<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

## Commands

You can customize the initial state of the module from the editor initialization, by passing the following [Configuration Object][1]

```js
const editor = grapesjs.init({
 commands: {
   // options
 }
})
```

Once the editor is instantiated you can use its API and listen to its events. Before using these methods, you should get the module from the instance.

```js
// Listen to events
editor.on('run', () => { ... });

// Use the API
const commands = editor.Commands;
commands.add(...);
```

## Available Events
* `command:run` Triggered on run of any command.

```javascript
editor.on('command:run', ({ id, result, options }) => {
 console.log('Command id', id, 'command result', result);
});
```

* `command:run:COMMAND-ID` Triggered on run of a specific command.

```javascript
editor.on('command:run:my-command', ({ result, options }) => { ... });
```

* `command:run:before:COMMAND-ID` Triggered before the command is called.

```javascript
editor.on('command:run:before:my-command', ({ options }) => { ... });
```

* `command:abort:COMMAND-ID` Triggered when the command execution is aborted.

```javascript
editor.on('command:abort:my-command', ({ options }) => { ... });

// The command could be aborted during the before event
editor.on('command:run:before:my-command', ({ options }) => {
 if (someCondition) {
   options.abort = true;
 }
});
```

* `command:stop` Triggered on stop of any command.

```javascript
editor.on('command:stop', ({ id, result, options }) => {
 console.log('Command id', id, 'command result', result);
});
```

* `command:stop:COMMAND-ID` Triggered on stop of a specific command.

```javascript
editor.on('command:run:my-command', ({ result, options }) => { ... });
```

* `command:stop:before:COMMAND-ID` Triggered before the command is called to stop.

```javascript
editor.on('command:stop:before:my-command', ({ options }) => { ... });
```

* `command:call` Triggered on run or stop of a command.

```javascript
editor.on('command:call', ({ id, result, options, type }) => {
 console.log('Command id', id, 'command result', result, 'call type', type);
});
```

* `command:call:COMMAND-ID` Triggered on run or stop of a specific command.

```javascript
editor.on('command:call:my-command', ({ result, options, type }) => { ... });
```

## Methods

*   [add][2]
*   [get][3]
*   [getAll][4]
*   [extend][5]
*   [has][6]
*   [run][7]
*   [stop][8]
*   [isActive][9]
*   [getActive][10]

## add

Add new command to the collection

### Parameters

*   `id` **[string][11]** Command's ID
*   `command` **([Object][12] | [Function][13])** Object representing your command,
    By passing just a function it's intended as a stateless command
    (just like passing an object with only `run` method).

### Examples

```javascript
commands.add('myCommand', {
	run(editor, sender) {
		alert('Hello world!');
	},
	stop(editor, sender) {
	},
});
// As a function
commands.add('myCommand2', editor => { ... });
```

Returns **this**&#x20;

## get

Get command by ID

### Parameters

*   `id` **[string][11]** Command's ID

### Examples

```javascript
var myCommand = commands.get('myCommand');
myCommand.run();
```

Returns **[Object][12]** Object representing the command

## extend

Extend the command. The command to extend should be defined as an object

### Parameters

*   `id` **[string][11]** Command's ID
*   `cmd` **CommandObject**  (optional, default `{}`)
*   `Object` **[Object][12]** with the new command functions

### Examples

```javascript
commands.extend('old-command', {
 someInnerFunction() {
 // ...
 }
});
```

Returns **this**&#x20;

## has

Check if command exists

### Parameters

*   `id` **[string][11]** Command's ID

Returns **[Boolean][14]**&#x20;

## getAll

Get an object containing all the commands

Returns **[Object][12]**&#x20;

## run

Execute the command

### Parameters

*   `id` **[String][11]** Command ID
*   `options` **[Object][12]** Options (optional, default `{}`)

### Examples

```javascript
commands.run('myCommand', { someOption: 1 });
```

Returns **any** The return is defined by the command

## stop

Stop the command

### Parameters

*   `id` **[String][11]** Command ID
*   `options` **[Object][12]** Options (optional, default `{}`)

### Examples

```javascript
commands.stop('myCommand', { someOption: 1 });
```

Returns **any** The return is defined by the command

## isActive

Check if the command is active. You activate commands with `run`
and disable them with `stop`. If the command was created without `stop`
method it can't be registered as active

### Parameters

*   `id` **[String][11]** Command id

### Examples

```javascript
const cId = 'some-command';
commands.run(cId);
commands.isActive(cId);
// -> true
commands.stop(cId);
commands.isActive(cId);
// -> false
```

Returns **[Boolean][14]**&#x20;

## getActive

Get all active commands

### Examples

```javascript
console.log(commands.getActive());
// -> { someCommand: itsLastReturn, anotherOne: ... };
```

Returns **[Object][12]**&#x20;

[1]: https://github.com/GrapesJS/grapesjs/blob/master/src/commands/config/config.ts

[2]: #add

[3]: #get

[4]: #getall

[5]: #extend

[6]: #has

[7]: #run

[8]: #stop

[9]: #isactive

[10]: #getactive

[11]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[12]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[13]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[14]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean
```

--------------------------------------------------------------------------------

````
